"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function __extends(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}function listCacheClear(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear;function eq(t,e){return t===e||t!=t&&e!=e}var eq_1=eq;function assocIndexOf(t,e){for(var n=t.length;n--;)if(eq_1(t[n][0],e))return n;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(t){var e=this.__data__,t=_assocIndexOf(e,t);return!(t<0)&&(t==e.length-1?e.pop():splice.call(e,t,1),--this.size,!0)}var _listCacheDelete=listCacheDelete;function listCacheGet(t){var e=this.__data__,t=_assocIndexOf(e,t);return t<0?void 0:e[t][1]}var _listCacheGet=listCacheGet;function listCacheHas(t){return-1<_assocIndexOf(this.__data__,t)}var _listCacheHas=listCacheHas;function listCacheSet(t,e){var n=this.__data__,r=_assocIndexOf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var _listCacheSet=listCacheSet;function ListCache(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache;function stackClear(){this.__data__=new _ListCache,this.size=0}var _stackClear=stackClear;function stackDelete(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}var _stackDelete=stackDelete;function stackGet(t){return this.__data__.get(t)}var _stackGet=stackGet;function stackHas(t){return this.__data__.has(t)}var _stackHas=stackHas,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol=_root.Symbol,_Symbol=Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty.call(t,symToStringTag),n=t[symToStringTag];try{var r=!(t[symToStringTag]=void 0)}catch(t){}var a=nativeObjectToString.call(t);return r&&(e?t[symToStringTag]=n:delete t[symToStringTag]),a}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(t){return nativeObjectToString$1.call(t)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(t){return null==t?void 0===t?undefinedTag:nullTag:(symToStringTag$1&&symToStringTag$1 in Object(t)?_getRawTag:_objectToString)(t)}var _baseGetTag=baseGetTag;function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(t){if(!isObject_1(t))return!1;t=_baseGetTag(t);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var t=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){return!(!isObject_1(t)||_isMasked(t))&&(isFunction_1(t)?reIsNative:reIsHostCtor).test(_toSource(t))}var _baseIsNative=baseIsNative;function getValue(t,e){return null==t?void 0:t[e]}var _getValue=getValue;function getNative(t,e){e=_getValue(t,e);return _baseIsNative(e)?e:void 0}var _getNative=getNative,Map=_getNative(_root,"Map"),_Map=Map,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashGet(t){var e=this.__data__;if(_nativeCreate){var n=e[t];return n===HASH_UNDEFINED?void 0:n}return hasOwnProperty$2.call(e,t)?e[t]:void 0}var _hashGet=hashGet,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas(t){var e=this.__data__;return _nativeCreate?void 0!==e[t]:hasOwnProperty$3.call(e,t)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_nativeCreate&&void 0===e?HASH_UNDEFINED$1:e,this}var _hashSet=hashSet;function Hash(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;function mapCacheClear(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var _isKeyable=isKeyable;function getMapData(t,e){t=t.__data__;return _isKeyable(e)?t["string"==typeof e?"string":"hash"]:t.map}var _getMapData=getMapData;function mapCacheDelete(t){t=_getMapData(this,t).delete(t);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(t){return _getMapData(this,t).get(t)}var _mapCacheGet=mapCacheGet;function mapCacheHas(t){return _getMapData(this,t).has(t)}var _mapCacheHas=mapCacheHas;function mapCacheSet(t,e){var n=_getMapData(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var _mapCacheSet=mapCacheSet;function MapCache(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,LARGE_ARRAY_SIZE=200;function stackSet(t,e){var n=this.__data__;if(n instanceof _ListCache){var r=n.__data__;if(!_Map||r.length<LARGE_ARRAY_SIZE-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _MapCache(r)}return n.set(t,e),this.size=n.size,this}var _stackSet=stackSet;function Stack(t){t=this.__data__=new _ListCache(t);this.size=t.size}Stack.prototype.clear=_stackClear,Stack.prototype.delete=_stackDelete,Stack.prototype.get=_stackGet,Stack.prototype.has=_stackHas,Stack.prototype.set=_stackSet;var _Stack=Stack;function arrayEach(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var _arrayEach=arrayEach,defineProperty=function(){try{var t=_getNative(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),_defineProperty=defineProperty;function baseAssignValue(t,e,n){"__proto__"==e&&_defineProperty?_defineProperty(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _baseAssignValue=baseAssignValue,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function assignValue(t,e,n){var r=t[e];hasOwnProperty$4.call(t,e)&&eq_1(r,n)&&(void 0!==n||e in t)||_baseAssignValue(t,e,n)}var _assignValue=assignValue;function copyObject(t,e,n,r){var a=!n;n=n||{};for(var i=-1,o=e.length;++i<o;){var s=e[i],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),(a?_baseAssignValue:_assignValue)(n,s,u)}return n}var _copyObject=copyObject;function baseTimes(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var _baseTimes=baseTimes;function isObjectLike(t){return null!=t&&"object"==typeof t}var isObjectLike_1=isObjectLike,argsTag="[object Arguments]";function baseIsArguments(t){return isObjectLike_1(t)&&_baseGetTag(t)==argsTag}var _baseIsArguments=baseIsArguments,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(t){return isObjectLike_1(t)&&hasOwnProperty$5.call(t,"callee")&&!propertyIsEnumerable.call(t,"callee")},isArguments_1=isArguments,isArray=Array.isArray,isArray_1=isArray;function stubFalse(){return!1}var stubFalse_1=stubFalse,isBuffer_1=createCommonjsModule(function(t,e){var n=e&&!e.nodeType&&e,e=n&&t&&!t.nodeType&&t,n=e&&e.exports===n?_root.Buffer:void 0,n=(n?n.isBuffer:void 0)||stubFalse_1;t.exports=n}),MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){var n=typeof t;return!!(e=null==e?MAX_SAFE_INTEGER:e)&&("number"==n||"symbol"!=n&&reIsUint.test(t))&&-1<t&&t%1==0&&t<e}var _isIndex=isIndex,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=MAX_SAFE_INTEGER$1}var isLength_1=isLength,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(t){return isObjectLike_1(t)&&isLength_1(t.length)&&!!typedArrayTags[_baseGetTag(t)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray;function baseUnary(e){return function(t){return e(t)}}var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule(function(t,e){var e=e&&!e.nodeType&&e,n=e&&t&&!t.nodeType&&t,r=n&&n.exports===e&&_freeGlobal.process,e=function(){try{var t=n&&n.require&&n.require("util").types;return t?t:r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=e}),nodeIsTypedArray=_nodeUtil&&_nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?_baseUnary(nodeIsTypedArray):_baseIsTypedArray,isTypedArray_1=isTypedArray,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function arrayLikeKeys(t,e){var n,r=isArray_1(t),a=!r&&isArguments_1(t),i=!r&&!a&&isBuffer_1(t),o=!r&&!a&&!i&&isTypedArray_1(t),s=r||a||i||o,u=s?_baseTimes(t.length,String):[],c=u.length;for(n in t)!e&&!hasOwnProperty$6.call(t,n)||s&&("length"==n||i&&("offset"==n||"parent"==n)||o&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||_isIndex(n,c))||u.push(n);return u}var _arrayLikeKeys=arrayLikeKeys,objectProto$8=Object.prototype;function isPrototype(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||objectProto$8)}var _isPrototype=isPrototype;function overArg(e,n){return function(t){return e(n(t))}}var _overArg=overArg,nativeKeys=_overArg(Object.keys,Object),_nativeKeys=nativeKeys,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function baseKeys(t){if(!_isPrototype(t))return _nativeKeys(t);var e,n=[];for(e in Object(t))hasOwnProperty$7.call(t,e)&&"constructor"!=e&&n.push(e);return n}var _baseKeys=baseKeys;function isArrayLike(t){return null!=t&&isLength_1(t.length)&&!isFunction_1(t)}var isArrayLike_1=isArrayLike;function keys(t){return(isArrayLike_1(t)?_arrayLikeKeys:_baseKeys)(t)}var keys_1=keys;function baseAssign(t,e){return t&&_copyObject(e,keys_1(e),t)}var _baseAssign=baseAssign;function nativeKeysIn(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var _nativeKeysIn=nativeKeysIn,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function baseKeysIn(t){if(!isObject_1(t))return _nativeKeysIn(t);var e,n=_isPrototype(t),r=[];for(e in t)("constructor"!=e||!n&&hasOwnProperty$8.call(t,e))&&r.push(e);return r}var _baseKeysIn=baseKeysIn;function keysIn$1(t){return isArrayLike_1(t)?_arrayLikeKeys(t,!0):_baseKeysIn(t)}var keysIn_1=keysIn$1;function baseAssignIn(t,e){return t&&_copyObject(e,keysIn_1(e),t)}var _baseAssignIn=baseAssignIn,_cloneBuffer=createCommonjsModule(function(t,e){var n=e&&!e.nodeType&&e,e=n&&t&&!t.nodeType&&t,n=e&&e.exports===n?_root.Buffer:void 0,r=n?n.allocUnsafe:void 0;t.exports=function(t,e){return e?t.slice():(e=t.length,e=r?r(e):new t.constructor(e),t.copy(e),e)}});function copyArray(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}var _copyArray=copyArray;function arrayFilter(t,e){for(var n=-1,r=null==t?0:t.length,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i}var _arrayFilter=arrayFilter;function stubArray(){return[]}var stubArray_1=stubArray,objectProto$b=Object.prototype,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),_arrayFilter(nativeGetSymbols(e),function(t){return propertyIsEnumerable$1.call(e,t)}))}:stubArray_1,_getSymbols=getSymbols;function copySymbols(t,e){return _copyObject(t,_getSymbols(t),e)}var _copySymbols=copySymbols;function arrayPush(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var _arrayPush=arrayPush,getPrototype=_overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols$1?function(t){for(var e=[];t;)_arrayPush(e,_getSymbols(t)),t=_getPrototype(t);return e}:stubArray_1,_getSymbolsIn=getSymbolsIn;function copySymbolsIn(t,e){return _copyObject(t,_getSymbolsIn(t),e)}var _copySymbolsIn=copySymbolsIn;function baseGetAllKeys(t,e,n){e=e(t);return isArray_1(t)?e:_arrayPush(e,n(t))}var _baseGetAllKeys=baseGetAllKeys;function getAllKeys(t){return _baseGetAllKeys(t,keys_1,_getSymbols)}var _getAllKeys=getAllKeys;function getAllKeysIn(t){return _baseGetAllKeys(t,keysIn_1,_getSymbolsIn)}var _getAllKeysIn=getAllKeysIn,DataView=_getNative(_root,"DataView"),_DataView=DataView,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set=_getNative(_root,"Set"),_Set=Set,WeakMap=_getNative(_root,"WeakMap"),_WeakMap=WeakMap,mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag;(_DataView&&getTag(new _DataView(new ArrayBuffer(1)))!=dataViewTag$1||_Map&&getTag(new _Map)!=mapTag$1||_Promise&&getTag(_Promise.resolve())!=promiseTag||_Set&&getTag(new _Set)!=setTag$1||_WeakMap&&getTag(new _WeakMap)!=weakMapTag$1)&&(getTag=function(t){var e=_baseGetTag(t),t=e==objectTag$1?t.constructor:void 0,t=t?_toSource(t):"";if(t)switch(t){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return e});var _getTag=getTag,objectProto$c=Object.prototype,hasOwnProperty$9=objectProto$c.hasOwnProperty;function initCloneArray(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&hasOwnProperty$9.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var _initCloneArray=initCloneArray,Uint8Array=_root.Uint8Array,_Uint8Array=Uint8Array;function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new _Uint8Array(e).set(new _Uint8Array(t)),e}var _cloneArrayBuffer=cloneArrayBuffer;function cloneDataView(t,e){e=e?_cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}var _cloneDataView=cloneDataView,reFlags=/\w*$/;function cloneRegExp(t){var e=new t.constructor(t.source,reFlags.exec(t));return e.lastIndex=t.lastIndex,e}var _cloneRegExp=cloneRegExp,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(t){return symbolValueOf?Object(symbolValueOf.call(t)):{}}var _cloneSymbol=cloneSymbol;function cloneTypedArray(t,e){e=e?_cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var _cloneTypedArray=cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(t,e,n){var r=t.constructor;switch(e){case arrayBufferTag$1:return _cloneArrayBuffer(t);case boolTag$1:case dateTag$1:return new r(+t);case dataViewTag$2:return _cloneDataView(t,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return _cloneTypedArray(t,n);case mapTag$2:return new r;case numberTag$1:case stringTag$1:return new r(t);case regexpTag$1:return _cloneRegExp(t);case setTag$2:return new r;case symbolTag:return _cloneSymbol(t)}}var _initCloneByTag=initCloneByTag,objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject_1(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;t=new e;return e.prototype=void 0,t}}(),_baseCreate=baseCreate;function initCloneObject(t){return"function"!=typeof t.constructor||_isPrototype(t)?{}:_baseCreate(_getPrototype(t))}var _initCloneObject=initCloneObject,mapTag$3="[object Map]";function baseIsMap(t){return isObjectLike_1(t)&&_getTag(t)==mapTag$3}var _baseIsMap=baseIsMap,nodeIsMap=_nodeUtil&&_nodeUtil.isMap,isMap=nodeIsMap?_baseUnary(nodeIsMap):_baseIsMap,isMap_1=isMap,setTag$3="[object Set]";function baseIsSet(t){return isObjectLike_1(t)&&_getTag(t)==setTag$3}var _baseIsSet=baseIsSet,nodeIsSet=_nodeUtil&&_nodeUtil.isSet,isSet=nodeIsSet?_baseUnary(nodeIsSet):_baseIsSet,isSet_1=isSet,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$1="[object Symbol]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",cloneableTags={};function baseClone(n,r,a,t,e,i){var o,s=r&CLONE_DEEP_FLAG,u=r&CLONE_FLAT_FLAG,c=r&CLONE_SYMBOLS_FLAG;if(a&&(o=e?a(n,t,e,i):a(n)),void 0!==o)return o;if(!isObject_1(n))return n;var l=isArray_1(n);if(l){if(o=_initCloneArray(n),!s)return _copyArray(n,o)}else{var f=_getTag(n),t=f==funcTag$2||f==genTag$1;if(isBuffer_1(n))return _cloneBuffer(n,s);if(f==objectTag$2||f==argsTag$2||t&&!e){if(o=u||t?{}:_initCloneObject(n),!s)return u?_copySymbolsIn(n,_baseAssignIn(o,n)):_copySymbols(n,_baseAssign(o,n))}else{if(!cloneableTags[f])return e?n:{};o=_initCloneByTag(n,f,s)}}s=(i=i||new _Stack).get(n);if(s)return s;i.set(n,o),isSet_1(n)?n.forEach(function(t){o.add(baseClone(t,r,a,t,n,i))}):isMap_1(n)&&n.forEach(function(t,e){o.set(e,baseClone(t,r,a,e,n,i))});var u=c?u?_getAllKeysIn:_getAllKeys:u?keysIn:keys_1,h=l?void 0:u(n);return _arrayEach(h||n,function(t,e){h&&(t=n[e=t]),_assignValue(o,e,baseClone(t,r,a,e,n,i))}),o}cloneableTags[argsTag$2]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$2]=cloneableTags[dataViewTag$3]=cloneableTags[boolTag$2]=cloneableTags[dateTag$2]=cloneableTags[float32Tag$2]=cloneableTags[float64Tag$2]=cloneableTags[int8Tag$2]=cloneableTags[int16Tag$2]=cloneableTags[int32Tag$2]=cloneableTags[mapTag$4]=cloneableTags[numberTag$2]=cloneableTags[objectTag$2]=cloneableTags[regexpTag$2]=cloneableTags[setTag$4]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag$2]=cloneableTags[uint8ClampedTag$2]=cloneableTags[uint16Tag$2]=cloneableTags[uint32Tag$2]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag$2]=cloneableTags[weakMapTag$2]=!1;var _baseClone=baseClone,CLONE_SYMBOLS_FLAG$1=4;function clone(t){return _baseClone(t,CLONE_SYMBOLS_FLAG$1)}var clone_1=clone;function constant(t){return function(){return t}}var constant_1=constant;function createBaseFor(u){return function(t,e,n){for(var r=-1,a=Object(t),i=n(t),o=i.length;o--;){var s=i[u?o:++r];if(!1===e(a[s],s,a))break}return t}}var _createBaseFor=createBaseFor,baseFor=createBaseFor(),_baseFor=baseFor;function baseForOwn(t,e){return t&&_baseFor(t,e,keys_1)}var _baseForOwn=baseForOwn;function createBaseEach(i,o){return function(t,e){if(null==t)return t;if(!isArrayLike_1(t))return i(t,e);for(var n=t.length,r=o?n:-1,a=Object(t);(o?r--:++r<n)&&!1!==e(a[r],r,a););return t}}var _createBaseEach=createBaseEach,baseEach=createBaseEach(_baseForOwn),_baseEach=baseEach;function identity(t){return t}var identity_1=identity;function castFunction(t){return"function"==typeof t?t:identity_1}var _castFunction=castFunction;function forEach(t,e){return(isArray_1(t)?_arrayEach:_baseEach)(t,_castFunction(e))}var forEach_1=forEach,each=forEach_1;function baseFilter(t,r){var a=[];return _baseEach(t,function(t,e,n){r(t,e,n)&&a.push(t)}),a}var _baseFilter=baseFilter,HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(t){return this.__data__.set(t,HASH_UNDEFINED$2),this}var _setCacheAdd=setCacheAdd;function setCacheHas(t){return this.__data__.has(t)}var _setCacheHas=setCacheHas;function SetCache(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _MapCache;++e<n;)this.add(t[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=_setCacheHas;var _SetCache=SetCache;function arraySome(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var _arraySome=arraySome;function cacheHas(t,e){return t.has(e)}var _cacheHas=cacheHas,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(t,e,n,r,a,i){var o=n&COMPARE_PARTIAL_FLAG,s=t.length,u=e.length;if(s!=u&&!(o&&s<u))return!1;u=i.get(t);if(u&&i.get(e))return u==e;var c=-1,l=!0,f=n&COMPARE_UNORDERED_FLAG?new _SetCache:void 0;for(i.set(t,e),i.set(e,t);++c<s;){var h,d=t[c],p=e[c];if(r&&(h=o?r(p,d,c,e,t,i):r(d,p,c,t,e,i)),void 0!==h){if(h)continue;l=!1;break}if(f){if(!_arraySome(e,function(t,e){if(!_cacheHas(f,e)&&(d===t||a(d,t,n,r,i)))return f.push(e)})){l=!1;break}}else if(d!==p&&!a(d,p,n,r,i)){l=!1;break}}return i.delete(t),i.delete(e),l}var _equalArrays=equalArrays;function mapToArray(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}var _mapToArray=mapToArray;function setToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var _setToArray=setToArray,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$1=_Symbol?_Symbol.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag(t,e,n,r,a,i,o){switch(n){case dataViewTag$4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag$3:return t.byteLength==e.byteLength&&i(new _Uint8Array(t),new _Uint8Array(e))?!0:!1;case boolTag$3:case dateTag$3:case numberTag$3:return eq_1(+t,+e);case errorTag$2:return t.name==e.name&&t.message==e.message;case regexpTag$3:case stringTag$3:return t==e+"";case mapTag$5:var s=_mapToArray;case setTag$5:var u=r&COMPARE_PARTIAL_FLAG$1,s=s||_setToArray;if(t.size!=e.size&&!u)return!1;u=o.get(t);if(u)return u==e;r|=COMPARE_UNORDERED_FLAG$1,o.set(t,e);s=_equalArrays(s(t),s(e),r,a,i,o);return o.delete(t),s;case symbolTag$2:if(symbolValueOf$1)return symbolValueOf$1.call(t)==symbolValueOf$1.call(e)}return!1}var _equalByTag=equalByTag,COMPARE_PARTIAL_FLAG$2=1,objectProto$d=Object.prototype,hasOwnProperty$a=objectProto$d.hasOwnProperty;function equalObjects(t,e,n,r,a,i){var o=n&COMPARE_PARTIAL_FLAG$2,s=_getAllKeys(t),u=s.length;if(u!=_getAllKeys(e).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in e:hasOwnProperty$a.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var h=!0;i.set(t,e),i.set(e,t);for(var d,p=o;++c<u;){var g,y=t[l=s[c]],_=e[l];if(r&&(g=o?r(_,y,l,e,t,i):r(y,_,l,t,e,i)),!(void 0===g?y===_||a(y,_,n,r,i):g)){h=!1;break}p=p||"constructor"==l}return!h||p||(d=t.constructor)!=(f=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof f&&f instanceof f)&&(h=!1),i.delete(t),i.delete(e),h}var _equalObjects=equalObjects,COMPARE_PARTIAL_FLAG$3=1,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",objectTag$3="[object Object]",objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty;function baseIsEqualDeep(t,e,n,r,a,i){var o=isArray_1(t),s=isArray_1(e),u=o?arrayTag$2:_getTag(t),c=s?arrayTag$2:_getTag(e),l=(u=u==argsTag$3?objectTag$3:u)==objectTag$3,s=(c=c==argsTag$3?objectTag$3:c)==objectTag$3,c=u==c;if(c&&isBuffer_1(t)){if(!isBuffer_1(e))return!1;l=!(o=!0)}if(c&&!l)return i=i||new _Stack,o||isTypedArray_1(t)?_equalArrays(t,e,n,r,a,i):_equalByTag(t,e,u,n,r,a,i);if(!(n&COMPARE_PARTIAL_FLAG$3)){l=l&&hasOwnProperty$b.call(t,"__wrapped__"),s=s&&hasOwnProperty$b.call(e,"__wrapped__");if(l||s)return a(l?t.value():t,s?e.value():e,n,r,i=i||new _Stack)}return!!c&&(i=i||new _Stack,_equalObjects(t,e,n,r,a,i))}var _baseIsEqualDeep=baseIsEqualDeep;function baseIsEqual(t,e,n,r,a){return t===e||(null==t||null==e||!isObjectLike_1(t)&&!isObjectLike_1(e)?t!=t&&e!=e:_baseIsEqualDeep(t,e,n,r,baseIsEqual,a))}var _baseIsEqual=baseIsEqual,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function baseIsMatch(t,e,n,r){var a=n.length,i=a,o=!r;if(null==t)return!i;for(t=Object(t);a--;){var s=n[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){var u=(s=n[a])[0],c=t[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in t))return!1}else{var f,h=new _Stack;if(r&&(f=r(c,l,u,t,e,h)),!(void 0===f?_baseIsEqual(l,c,COMPARE_PARTIAL_FLAG$4|COMPARE_UNORDERED_FLAG$2,r,h):f))return!1}}return!0}var _baseIsMatch=baseIsMatch;function isStrictComparable(t){return t==t&&!isObject_1(t)}var _isStrictComparable=isStrictComparable;function getMatchData(t){for(var e=keys_1(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,_isStrictComparable(a)]}return e}var _getMatchData=getMatchData;function matchesStrictComparable(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}var _matchesStrictComparable=matchesStrictComparable;function baseMatches(e){var n=_getMatchData(e);return 1==n.length&&n[0][2]?_matchesStrictComparable(n[0][0],n[0][1]):function(t){return t===e||_baseIsMatch(t,e,n)}}var _baseMatches=baseMatches,symbolTag$3="[object Symbol]";function isSymbol(t){return"symbol"==typeof t||isObjectLike_1(t)&&_baseGetTag(t)==symbolTag$3}var isSymbol_1=isSymbol,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(t,e){if(isArray_1(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!isSymbol_1(t))||(reIsPlainProp.test(t)||!reIsDeepProp.test(t)||null!=e&&t in Object(e))}var _isKey=isKey,FUNC_ERROR_TEXT="Expected a function";function memoize(r,a){if("function"!=typeof r||null!=a&&"function"!=typeof a)throw new TypeError(FUNC_ERROR_TEXT);var i=function(){var t=arguments,e=a?a.apply(this,t):t[0],n=i.cache;if(n.has(e))return n.get(e);t=r.apply(this,t);return i.cache=n.set(e,t)||n,t};return i.cache=new(memoize.Cache||_MapCache),i}memoize.Cache=_MapCache;var memoize_1=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var t=memoize_1(t,function(t){return e.size===MAX_MEMOIZE_SIZE&&e.clear(),t}),e=t.cache;return t}var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(t){var a=[];return 46===t.charCodeAt(0)&&a.push(""),t.replace(rePropName,function(t,e,n,r){a.push(n?r.replace(reEscapeChar,"$1"):e||t)}),a}),_stringToPath=stringToPath;function arrayMap(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}var _arrayMap=arrayMap,INFINITY=1/0,symbolProto$2=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(t){if("string"==typeof t)return t;if(isArray_1(t))return _arrayMap(t,baseToString)+"";if(isSymbol_1(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}var _baseToString=baseToString;function toString(t){return null==t?"":_baseToString(t)}var toString_1=toString;function castPath(t,e){return isArray_1(t)?t:_isKey(t,e)?[t]:_stringToPath(toString_1(t))}var _castPath=castPath,INFINITY$1=1/0;function toKey(t){if("string"==typeof t||isSymbol_1(t))return t;var e=t+"";return"0"==e&&1/t==-INFINITY$1?"-0":e}var _toKey=toKey;function baseGet(t,e){for(var n=0,r=(e=_castPath(e,t)).length;null!=t&&n<r;)t=t[_toKey(e[n++])];return n&&n==r?t:void 0}var _baseGet=baseGet;function get(t,e,n){e=null==t?void 0:_baseGet(t,e);return void 0===e?n:e}var get_1=get;function baseHasIn(t,e){return null!=t&&e in Object(t)}var _baseHasIn=baseHasIn;function hasPath(t,e,n){for(var r=-1,a=(e=_castPath(e,t)).length,i=!1;++r<a;){var o=_toKey(e[r]);if(!(i=null!=t&&n(t,o)))break;t=t[o]}return i||++r!=a?i:!!(a=null==t?0:t.length)&&isLength_1(a)&&_isIndex(o,a)&&(isArray_1(t)||isArguments_1(t))}var _hasPath=hasPath;function hasIn(t,e){return null!=t&&_hasPath(t,e,_baseHasIn)}var hasIn_1=hasIn,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function baseMatchesProperty(n,r){return _isKey(n)&&_isStrictComparable(r)?_matchesStrictComparable(_toKey(n),r):function(t){var e=get_1(t,n);return void 0===e&&e===r?hasIn_1(t,n):_baseIsEqual(r,e,COMPARE_PARTIAL_FLAG$5|COMPARE_UNORDERED_FLAG$3)}}var _baseMatchesProperty=baseMatchesProperty;function baseProperty(e){return function(t){return null==t?void 0:t[e]}}var _baseProperty=baseProperty;function basePropertyDeep(e){return function(t){return _baseGet(t,e)}}var _basePropertyDeep=basePropertyDeep;function property(t){return _isKey(t)?_baseProperty(_toKey(t)):_basePropertyDeep(t)}var property_1=property;function baseIteratee(t){return"function"==typeof t?t:null==t?identity_1:"object"==typeof t?isArray_1(t)?_baseMatchesProperty(t[0],t[1]):_baseMatches(t):property_1(t)}var _baseIteratee=baseIteratee;function filter(t,e){return(isArray_1(t)?_arrayFilter:_baseFilter)(t,_baseIteratee(e))}var filter_1=filter,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty;function baseHas(t,e){return null!=t&&hasOwnProperty$c.call(t,e)}var _baseHas=baseHas;function has(t,e){return null!=t&&_hasPath(t,e,_baseHas)}var has_1=has,mapTag$6="[object Map]",setTag$6="[object Set]",objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function isEmpty(t){if(null==t)return!0;if(isArrayLike_1(t)&&(isArray_1(t)||"string"==typeof t||"function"==typeof t.splice||isBuffer_1(t)||isTypedArray_1(t)||isArguments_1(t)))return!t.length;var e,n=_getTag(t);if(n==mapTag$6||n==setTag$6)return!t.size;if(_isPrototype(t))return!_baseKeys(t).length;for(e in t)if(hasOwnProperty$d.call(t,e))return!1;return!0}var isEmpty_1=isEmpty;function isUndefined(t){return void 0===t}var isUndefined_1=isUndefined;function baseMap(t,r){var a=-1,i=isArrayLike_1(t)?Array(t.length):[];return _baseEach(t,function(t,e,n){i[++a]=r(t,e,n)}),i}var _baseMap=baseMap;function map(t,e){return(isArray_1(t)?_arrayMap:_baseMap)(t,_baseIteratee(e))}var map_1=map;function arrayReduce(t,e,n,r){var a=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++a]);++a<i;)n=e(n,t[a],a,t);return n}var _arrayReduce=arrayReduce;function baseReduce(t,r,a,i,e){return e(t,function(t,e,n){a=i?(i=!1,t):r(a,t,e,n)}),a}var _baseReduce=baseReduce;function reduce(t,e,n){var r=isArray_1(t)?_arrayReduce:_baseReduce,a=arguments.length<3;return r(t,_baseIteratee(e),n,a,_baseEach)}var reduce_1=reduce,stringTag$4="[object String]";function isString(t){return"string"==typeof t||!isArray_1(t)&&isObjectLike_1(t)&&_baseGetTag(t)==stringTag$4}var isString_1=isString,asciiSize=_baseProperty("length"),_asciiSize=asciiSize,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(t){return reHasUnicode.test(t)}var _hasUnicode=hasUnicode,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo="["+rsComboRange$1+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange$1+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange$1+"]?",rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeSize(t){for(var e=reUnicode.lastIndex=0;reUnicode.test(t);)++e;return e}var _unicodeSize=unicodeSize;function stringSize(t){return(_hasUnicode(t)?_unicodeSize:_asciiSize)(t)}var _stringSize=stringSize,mapTag$7="[object Map]",setTag$7="[object Set]";function size(t){if(null==t)return 0;if(isArrayLike_1(t))return isString_1(t)?_stringSize(t):t.length;var e=_getTag(t);return e==mapTag$7||e==setTag$7?t.size:_baseKeys(t).length}var size_1=size;function transform(t,r,a){var e,n=isArray_1(t),i=n||isBuffer_1(t)||isTypedArray_1(t);return r=_baseIteratee(r),null==a&&(e=t&&t.constructor,a=i?n?new e:[]:isObject_1(t)&&isFunction_1(e)?_baseCreate(_getPrototype(t)):{}),(i?_arrayEach:_baseForOwn)(t,function(t,e,n){return r(a,t,e,n)}),a}var transform_1=transform,spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:void 0;function isFlattenable(t){return isArray_1(t)||isArguments_1(t)||!!(spreadableSymbol&&t&&t[spreadableSymbol])}var _isFlattenable=isFlattenable;function baseFlatten(t,e,n,r,a){var i=-1,o=t.length;for(n=n||_isFlattenable,a=a||[];++i<o;){var s=t[i];0<e&&n(s)?1<e?baseFlatten(s,e-1,n,r,a):_arrayPush(a,s):r||(a[a.length]=s)}return a}var _baseFlatten=baseFlatten;function apply(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _apply=apply,nativeMax=Math.max;function overRest(i,o,s){return o=nativeMax(void 0===o?i.length-1:o,0),function(){for(var t=arguments,e=-1,n=nativeMax(t.length-o,0),r=Array(n);++e<n;)r[e]=t[o+e];e=-1;for(var a=Array(o+1);++e<o;)a[e]=t[e];return a[o]=s(r),_apply(i,this,a)}}var _overRest=overRest,baseSetToString=_defineProperty?function(t,e){return _defineProperty(t,"toString",{configurable:!0,enumerable:!1,value:constant_1(e),writable:!0})}:identity_1,_baseSetToString=baseSetToString,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(n){var r=0,a=0;return function(){var t=nativeNow(),e=HOT_SPAN-(t-a);if(a=t,0<e){if(++r>=HOT_COUNT)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}var _shortOut=shortOut,setToString=shortOut(baseSetToString),_setToString=setToString;function baseRest(t,e){return _setToString(_overRest(t,e,identity_1),t+"")}var _baseRest=baseRest;function baseFindIndex(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var _baseFindIndex=baseFindIndex;function baseIsNaN(t){return t!=t}var _baseIsNaN=baseIsNaN;function strictIndexOf(t,e,n){for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}var _strictIndexOf=strictIndexOf;function baseIndexOf(t,e,n){return e==e?_strictIndexOf(t,e,n):_baseFindIndex(t,_baseIsNaN,n)}var _baseIndexOf=baseIndexOf;function arrayIncludes(t,e){return!!(null==t?0:t.length)&&-1<_baseIndexOf(t,e,0)}var _arrayIncludes=arrayIncludes;function arrayIncludesWith(t,e,n){for(var r=-1,a=null==t?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith;function noop(){}var noop_1=noop,INFINITY$2=1/0,createSet=_Set&&1/_setToArray(new _Set([,-0]))[1]==INFINITY$2?function(t){return new _Set(t)}:noop_1,_createSet=createSet,LARGE_ARRAY_SIZE$1=200;function baseUniq(t,e,n){var r=-1,a=_arrayIncludes,i=t.length,o=!0,s=[],u=s;if(n)o=!1,a=_arrayIncludesWith;else if(LARGE_ARRAY_SIZE$1<=i){var c=e?null:_createSet(t);if(c)return _setToArray(c);o=!1,a=_cacheHas,u=new _SetCache}else u=e?[]:s;t:for(;++r<i;){var l=t[r],f=e?e(l):l,l=n||0!==l?l:0;if(o&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else a(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}var _baseUniq=baseUniq;function isArrayLikeObject(t){return isObjectLike_1(t)&&isArrayLike_1(t)}var isArrayLikeObject_1=isArrayLikeObject,union=_baseRest(function(t){return _baseUniq(_baseFlatten(t,1,isArrayLikeObject_1,!0))}),union_1=union;function baseValues(e,t){return _arrayMap(t,function(t){return e[t]})}var _baseValues=baseValues;function values(t){return null==t?[]:_baseValues(t,keys_1(t))}var lodash,values_1=values;if("function"==typeof commonjsRequire)try{lodash={clone:clone_1,constant:constant_1,each:each,filter:filter_1,has:has_1,isArray:isArray_1,isEmpty:isEmpty_1,isFunction:isFunction_1,isUndefined:isUndefined_1,keys:keys_1,map:map_1,reduce:reduce_1,size:size_1,transform:transform_1,union:union_1,values:values_1}}catch(t){}var lodash_1=lodash=lodash||window._,graph=Graph,DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";function Graph(t){this._isDirected=!lodash_1.has(t,"directed")||t.directed,this._isMultigraph=!!lodash_1.has(t,"multigraph")&&t.multigraph,this._isCompound=!!lodash_1.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=lodash_1.constant(void 0),this._defaultEdgeLabelFn=lodash_1.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(t,e){t[e]?t[e]++:t[e]=1}function decrementOrRemoveEntry(t,e){--t[e]||delete t[e]}function edgeArgsToId(t,e,n,r){e=""+e,n=""+n;return!t&&n<e&&(t=e,e=n,n=t),e+EDGE_KEY_DELIM+n+EDGE_KEY_DELIM+(lodash_1.isUndefined(r)?DEFAULT_EDGE_NAME:r)}function edgeArgsToObj(t,e,n,r){e=""+e,n=""+n;!t&&n<e&&(t=e,e=n,n=t);n={v:e,w:n};return r&&(n.name=r),n}function edgeObjToId(t,e){return edgeArgsToId(t,e.v,e.w,e.name)}Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(t){return this._label=t,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(t){return lodash_1.isFunction(t)||(t=lodash_1.constant(t)),this._defaultNodeLabelFn=t,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return lodash_1.keys(this._nodes)},Graph.prototype.sources=function(){var e=this;return lodash_1.filter(this.nodes(),function(t){return lodash_1.isEmpty(e._in[t])})},Graph.prototype.sinks=function(){var e=this;return lodash_1.filter(this.nodes(),function(t){return lodash_1.isEmpty(e._out[t])})},Graph.prototype.setNodes=function(t,e){var n=arguments,r=this;return lodash_1.each(t,function(t){1<n.length?r.setNode(t,e):r.setNode(t)}),this},Graph.prototype.setNode=function(t,e){return lodash_1.has(this._nodes,t)?1<arguments.length&&(this._nodes[t]=e):(this._nodes[t]=1<arguments.length?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=GRAPH_NODE,this._children[t]={},this._children[GRAPH_NODE][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this},Graph.prototype.node=function(t){return this._nodes[t]},Graph.prototype.hasNode=function(t){return lodash_1.has(this._nodes,t)},Graph.prototype.removeNode=function(t){var e,n=this;return lodash_1.has(this._nodes,t)&&(e=function(t){n.removeEdge(n._edgeObjs[t])},delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],lodash_1.each(this.children(t),function(t){n.setParent(t)}),delete this._children[t]),lodash_1.each(lodash_1.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],lodash_1.each(lodash_1.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount),this},Graph.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(lodash_1.isUndefined(e))e=GRAPH_NODE;else{for(var n=e+="";!lodash_1.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},Graph.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},Graph.prototype.parent=function(t){if(this._isCompound){t=this._parent[t];if(t!==GRAPH_NODE)return t}},Graph.prototype.children=function(t){if(lodash_1.isUndefined(t)&&(t=GRAPH_NODE),!this._isCompound)return t===GRAPH_NODE?this.nodes():this.hasNode(t)?[]:void 0;t=this._children[t];return t?lodash_1.keys(t):void 0},Graph.prototype.predecessors=function(t){t=this._preds[t];if(t)return lodash_1.keys(t)},Graph.prototype.successors=function(t){t=this._sucs[t];if(t)return lodash_1.keys(t)},Graph.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return lodash_1.union(e,this.successors(t))},Graph.prototype.isLeaf=function(t){t=this.isDirected()?this.successors(t):this.neighbors(t);return 0===t.length},Graph.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var a=this;lodash_1.each(this._nodes,function(t,e){n(e)&&r.setNode(e,t)}),lodash_1.each(this._edgeObjs,function(t){r.hasNode(t.v)&&r.hasNode(t.w)&&r.setEdge(t,a.edge(t))});var i={};return this._isCompound&&lodash_1.each(r.nodes(),function(t){r.setParent(t,function t(e){var n=a.parent(e);return void 0===n||r.hasNode(n)?i[e]=n:n in i?i[n]:t(n)}(t))}),r},Graph.prototype.setDefaultEdgeLabel=function(t){return lodash_1.isFunction(t)||(t=lodash_1.constant(t)),this._defaultEdgeLabelFn=t,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return lodash_1.values(this._edgeObjs)},Graph.prototype.setPath=function(t,n){var r=this,a=arguments;return lodash_1.reduce(t,function(t,e){return 1<a.length?r.setEdge(t,e,n):r.setEdge(t,e),e}),this},Graph.prototype.setEdge=function(){var t,e=!1,n=arguments[0];"object"==typeof n&&null!==n&&"v"in n?(a=n.v,i=n.w,r=n.name,2===arguments.length&&(t=arguments[1],e=!0)):(a=n,i=arguments[1],r=arguments[3],2<arguments.length&&(t=arguments[2],e=!0)),a=""+a,i=""+i,lodash_1.isUndefined(r)||(r=""+r);n=edgeArgsToId(this._isDirected,a,i,r);if(lodash_1.has(this._edgeLabels,n))return e&&(this._edgeLabels[n]=t),this;if(!lodash_1.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(i),this._edgeLabels[n]=e?t:this._defaultEdgeLabelFn(a,i,r);var r=edgeArgsToObj(this._isDirected,a,i,r),a=r.v,i=r.w;return Object.freeze(r),this._edgeObjs[n]=r,incrementOrInitEntry(this._preds[i],a),incrementOrInitEntry(this._sucs[a],i),this._in[i][n]=r,this._out[a][n]=r,this._edgeCount++,this},Graph.prototype.edge=function(t,e,n){n=1===arguments.length?edgeObjToId(this._isDirected,t):edgeArgsToId(this._isDirected,t,e,n);return this._edgeLabels[n]},Graph.prototype.hasEdge=function(t,e,n){n=1===arguments.length?edgeObjToId(this._isDirected,t):edgeArgsToId(this._isDirected,t,e,n);return lodash_1.has(this._edgeLabels,n)},Graph.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,t,e,n),n=this._edgeObjs[r];return n&&(t=n.v,e=n.w,delete this._edgeLabels[r],delete this._edgeObjs[r],decrementOrRemoveEntry(this._preds[e],t),decrementOrRemoveEntry(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},Graph.prototype.inEdges=function(t,e){t=this._in[t];if(t){t=lodash_1.values(t);return e?lodash_1.filter(t,function(t){return t.v===e}):t}},Graph.prototype.outEdges=function(t,e){t=this._out[t];if(t){t=lodash_1.values(t);return e?lodash_1.filter(t,function(t){return t.w===e}):t}},Graph.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var version="2.1.7",lib={Graph:graph,version:version},json={write:write,read:read};function write(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:writeNodes(t),edges:writeEdges(t)};return lodash_1.isUndefined(t.graph())||(e.value=lodash_1.clone(t.graph())),e}function writeNodes(r){return lodash_1.map(r.nodes(),function(t){var e=r.node(t),n=r.parent(t),t={v:t};return lodash_1.isUndefined(e)||(t.value=e),lodash_1.isUndefined(n)||(t.parent=n),t})}function writeEdges(r){return lodash_1.map(r.edges(),function(t){var e=r.edge(t),n={v:t.v,w:t.w};return lodash_1.isUndefined(t.name)||(n.name=t.name),lodash_1.isUndefined(e)||(n.value=e),n})}function read(t){var e=new graph(t.options).setGraph(t.value);return lodash_1.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),lodash_1.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}var components_1=components;function components(e){var n,r={},a=[];function i(t){lodash_1.has(r,t)||(r[t]=!0,n.push(t),lodash_1.each(e.successors(t),i),lodash_1.each(e.predecessors(t),i))}return lodash_1.each(e.nodes(),function(t){n=[],i(t),n.length&&a.push(n)}),a}var priorityQueue=PriorityQueue;function PriorityQueue(){this._arr=[],this._keyIndices={}}PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map(function(t){return t.key})},PriorityQueue.prototype.has=function(t){return lodash_1.has(this._keyIndices,t)},PriorityQueue.prototype.priority=function(t){t=this._keyIndices[t];if(void 0!==t)return this._arr[t].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),lodash_1.has(n,t))return!1;var r=this._arr,a=r.length;return n[t]=a,r.push({key:t,priority:e}),this._decrease(a),!0},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},PriorityQueue.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},PriorityQueue.prototype._heapify=function(t){var e=this._arr,n=2*t,r=1+n,a=t;n<e.length&&(a=e[n].priority<e[a].priority?n:a,r<e.length&&(a=e[r].priority<e[a].priority?r:a),a!==t&&(this._swap(t,a),this._heapify(a)))},PriorityQueue.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},PriorityQueue.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,a=n[t],i=n[e];n[t]=i,n[e]=a,r[i.key]=t,r[a.key]=e};var dijkstra_1=dijkstra,DEFAULT_WEIGHT_FUNC=lodash_1.constant(1);function dijkstra(e,t,n,r){return runDijkstra(e,String(t),n||DEFAULT_WEIGHT_FUNC,r||function(t){return e.outEdges(t)})}function runDijkstra(t,n,i,e){function r(t){var e=t.v!==o?t.v:t.w,n=u[e],r=i(t),a=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+r);a<n.distance&&(n.distance=a,n.predecessor=o,c.decrease(e,a))}var o,s,u={},c=new priorityQueue;for(t.nodes().forEach(function(t){var e=t===n?0:Number.POSITIVE_INFINITY;u[t]={distance:e},c.add(t,e)});0<c.size()&&(o=c.removeMin(),(s=u[o]).distance!==Number.POSITIVE_INFINITY);)e(o).forEach(r);return u}var dijkstraAll_1=dijkstraAll;function dijkstraAll(n,r,a){return lodash_1.transform(n.nodes(),function(t,e){t[e]=dijkstra_1(n,e,r,a)},{})}var tarjan_1=tarjan;function tarjan(i){var o=0,s=[],u={},c=[];return i.nodes().forEach(function(t){lodash_1.has(u,t)||!function e(t){var n=u[t]={onStack:!0,lowlink:o,index:o++};if(s.push(t),i.successors(t).forEach(function(t){lodash_1.has(u,t)?u[t].onStack&&(n.lowlink=Math.min(n.lowlink,u[t].index)):(e(t),n.lowlink=Math.min(n.lowlink,u[t].lowlink))}),n.lowlink===n.index){for(var r,a=[];r=s.pop(),u[r].onStack=!1,a.push(r),t!==r;);c.push(a)}}(t)}),c}var findCycles_1=findCycles;function findCycles(e){return lodash_1.filter(tarjan_1(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})}var floydWarshall_1=floydWarshall,DEFAULT_WEIGHT_FUNC$1=lodash_1.constant(1);function floydWarshall(e,t,n){return runFloydWarshall(e,t||DEFAULT_WEIGHT_FUNC$1,n||function(t){return e.outEdges(t)})}function runFloydWarshall(t,r,e){var o={},s=t.nodes();return s.forEach(function(n){o[n]={},o[n][n]={distance:0},s.forEach(function(t){n!==t&&(o[n][t]={distance:Number.POSITIVE_INFINITY})}),e(n).forEach(function(t){var e=t.v===n?t.w:t.v,t=r(t);o[n][e]={distance:t,predecessor:n}})}),s.forEach(function(a){var i=o[a];s.forEach(function(t){var r=o[t];s.forEach(function(t){var e=r[a],n=i[t],t=r[t],e=e.distance+n.distance;e<t.distance&&(t.distance=e,t.predecessor=n.predecessor)})})}),o}var topsort_1=topsort;function topsort(n){var r={},a={},i=[];if(lodash_1.each(n.sinks(),function t(e){if(lodash_1.has(a,e))throw new CycleException;lodash_1.has(r,e)||(a[e]=!0,r[e]=!0,lodash_1.each(n.predecessors(e),t),delete a[e],i.push(e))}),lodash_1.size(r)!==n.nodeCount())throw new CycleException;return i}function CycleException(){}(topsort.CycleException=CycleException).prototype=new Error;var isAcyclic_1=isAcyclic;function isAcyclic(t){try{topsort_1(t)}catch(t){if(t instanceof topsort_1.CycleException)return!1;throw t}return!0}var dfs_1=dfs;function dfs(e,t,n){lodash_1.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],i={};return lodash_1.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);doDfs(e,t,"post"===n,i,r,a)}),a}function doDfs(e,t,n,r,a,i){lodash_1.has(r,t)||(r[t]=!0,n||i.push(t),lodash_1.each(a(t),function(t){doDfs(e,t,n,r,a,i)}),n&&i.push(t))}var postorder_1=postorder;function postorder(t,e){return dfs_1(t,e,"post")}var preorder_1=preorder;function preorder(t,e){return dfs_1(t,e,"pre")}var prim_1=prim;function prim(t,r){var a,e=new graph,i={},o=new priorityQueue;function n(t){var e=t.v===a?t.w:t.v,n=o.priority(e);void 0===n||(t=r(t))<n&&(i[e]=a,o.decrease(e,t))}if(0===t.nodeCount())return e;lodash_1.each(t.nodes(),function(t){o.add(t,Number.POSITIVE_INFINITY),e.setNode(t)}),o.decrease(t.nodes()[0],0);for(var s=!1;0<o.size();){if(a=o.removeMin(),lodash_1.has(i,a))e.setEdge(a,i[a]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(a).forEach(n)}return e}var graphlib$1,alg={components:components_1,dijkstra:dijkstra_1,dijkstraAll:dijkstraAll_1,findCycles:findCycles_1,floydWarshall:floydWarshall_1,isAcyclic:isAcyclic,postorder:postorder,preorder:preorder,prim:prim,tarjan:tarjan_1,topsort:topsort_1},graphlib={Graph:lib.Graph,json:json,alg:alg,version:lib.version};if(commonjsRequire)try{graphlib$1=graphlib}catch(t){}var graphlib$2,graphlib_1=graphlib$1=graphlib$1||window.graphlib;if("function"==typeof commonjsRequire)try{graphlib$2=graphlib}catch(t){}var graphlib_1$1=graphlib$2=graphlib$2||window.graphlib,CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$2=4;function cloneDeep(t){return _baseClone(t,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$2)}var cloneDeep_1=cloneDeep;function isIterateeCall(t,e,n){if(!isObject_1(n))return!1;var r=typeof e;return!!("number"==r?isArrayLike_1(n)&&_isIndex(e,n.length):"string"==r&&e in n)&&eq_1(n[e],t)}var _isIterateeCall=isIterateeCall,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty,defaults=_baseRest(function(t,e){t=Object(t);var n=-1,r=e.length,a=2<r?e[2]:void 0;for(a&&_isIterateeCall(e[0],e[1],a)&&(r=1);++n<r;)for(var i=e[n],o=keysIn_1(i),s=-1,u=o.length;++s<u;){var c=o[s],l=t[c];(void 0===l||eq_1(l,objectProto$h[c])&&!hasOwnProperty$e.call(t,c))&&(t[c]=i[c])}return t}),defaults_1=defaults;function createFind(i){return function(t,e,n){var r,a=Object(t);isArrayLike_1(t)||(r=_baseIteratee(e),t=keys_1(t),e=function(t){return r(a[t],t,a)});n=i(t,e,n);return-1<n?a[r?t[n]:n]:void 0}}var _createFind=createFind,NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(t){if("number"==typeof t)return t;if(isSymbol_1(t))return NAN;if(isObject_1(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=isObject_1(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(reTrim,"");var e=reIsBinary.test(t);return e||reIsOctal.test(t)?freeParseInt(t.slice(2),e?2:8):reIsBadHex.test(t)?NAN:+t}var toNumber_1=toNumber,INFINITY$3=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(t){return t?(t=toNumber_1(t))!==INFINITY$3&&t!==-INFINITY$3?t==t?t:0:(t<0?-1:1)*MAX_INTEGER:0===t?t:0}var toFinite_1=toFinite;function toInteger(t){var e=toFinite_1(t),t=e%1;return e==e?t?e-t:e:0}var toInteger_1=toInteger,nativeMax$1=Math.max;function findIndex(t,e,n){var r=null==t?0:t.length;if(!r)return-1;n=null==n?0:toInteger_1(n);return n<0&&(n=nativeMax$1(r+n,0)),_baseFindIndex(t,_baseIteratee(e),n)}var findIndex_1=findIndex,find=createFind(findIndex),find_1=find;function flatten(t){return(null==t?0:t.length)?_baseFlatten(t,1):[]}var flatten_1=flatten;function forIn(t,e){return null==t?t:_baseFor(t,_castFunction(e),keysIn_1)}var forIn_1=forIn;function last(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var last_1=last;function mapValues(t,r){var a={};return r=_baseIteratee(r),_baseForOwn(t,function(t,e,n){_baseAssignValue(a,e,r(t,e,n))}),a}var mapValues_1=mapValues;function baseExtremum(t,e,n){for(var r=-1,a=t.length;++r<a;){var i,o,s=t[r],u=e(s);null!=u&&(void 0===i?u==u&&!isSymbol_1(u):n(u,i))&&(i=u,o=s)}return o}var _baseExtremum=baseExtremum;function baseGt(t,e){return e<t}var _baseGt=baseGt;function max(t){return t&&t.length?_baseExtremum(t,identity_1,_baseGt):void 0}var max_1=max;function assignMergeValue(t,e,n){(void 0===n||eq_1(t[e],n))&&(void 0!==n||e in t)||_baseAssignValue(t,e,n)}var _assignMergeValue=assignMergeValue,objectTag$4="[object Object]",funcProto$2=Function.prototype,objectProto$i=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$f=objectProto$i.hasOwnProperty,objectCtorString=funcToString$2.call(Object);function isPlainObject(t){if(!isObjectLike_1(t)||_baseGetTag(t)!=objectTag$4)return!1;t=_getPrototype(t);if(null===t)return!0;t=hasOwnProperty$f.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&funcToString$2.call(t)==objectCtorString}var isPlainObject_1=isPlainObject;function safeGet(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var _safeGet=safeGet;function toPlainObject(t){return _copyObject(t,keysIn_1(t))}var toPlainObject_1=toPlainObject;function baseMergeDeep(t,e,n,r,a,i,o){var s,u,c,l=_safeGet(t,n),f=_safeGet(e,n),h=o.get(f);h?_assignMergeValue(t,n,h):((s=void 0===(c=i?i(l,f,n+"",t,e,o):void 0))&&(h=!(u=isArray_1(f))&&isBuffer_1(f),e=!u&&!h&&isTypedArray_1(f),c=f,u||h||e?c=isArray_1(l)?l:isArrayLikeObject_1(l)?_copyArray(l):h?_cloneBuffer(f,!(s=!1)):e?_cloneTypedArray(f,!(s=!1)):[]:isPlainObject_1(f)||isArguments_1(f)?isArguments_1(c=l)?c=toPlainObject_1(l):isObject_1(l)&&!isFunction_1(l)||(c=_initCloneObject(f)):s=!1),s&&(o.set(f,c),a(c,f,r,i,o),o.delete(f)),_assignMergeValue(t,n,c))}var _baseMergeDeep=baseMergeDeep;function baseMerge(r,a,i,o,s){r!==a&&_baseFor(a,function(t,e){var n;s=s||new _Stack,isObject_1(t)?_baseMergeDeep(r,a,e,i,baseMerge,o,s):(void 0===(n=o?o(_safeGet(r,e),t,e+"",r,a,s):void 0)&&(n=t),_assignMergeValue(r,e,n))},keysIn_1)}var _baseMerge=baseMerge;function createAssigner(s){return _baseRest(function(t,e){var n=-1,r=e.length,a=1<r?e[r-1]:void 0,i=2<r?e[2]:void 0,a=3<s.length&&"function"==typeof a?(r--,a):void 0;for(i&&_isIterateeCall(e[0],e[1],i)&&(a=r<3?void 0:a,r=1),t=Object(t);++n<r;){var o=e[n];o&&s(t,o,n,a)}return t})}var _createAssigner=createAssigner,merge=createAssigner(function(t,e,n){_baseMerge(t,e,n)}),merge_1=merge;function baseLt(t,e){return t<e}var _baseLt=baseLt;function min(t){return t&&t.length?_baseExtremum(t,identity_1,_baseLt):void 0}var min_1=min;function minBy(t,e){return t&&t.length?_baseExtremum(t,_baseIteratee(e),_baseLt):void 0}var minBy_1=minBy,now=function(){return _root.Date.now()},now_1=now;function baseSet(t,e,n,r){if(!isObject_1(t))return t;for(var a=-1,i=(e=_castPath(e,t)).length,o=i-1,s=t;null!=s&&++a<i;){var u,c=_toKey(e[a]),l=n;a!=o&&(u=s[c],void 0===(l=r?r(u,c,s):void 0)&&(l=isObject_1(u)?u:_isIndex(e[a+1])?[]:{})),_assignValue(s,c,l),s=s[c]}return t}var _baseSet=baseSet;function basePickBy(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var o=e[r],s=_baseGet(t,o);n(s,o)&&_baseSet(i,_castPath(o,t),s)}return i}var _basePickBy=basePickBy;function basePick(n,t){return _basePickBy(n,t,function(t,e){return hasIn_1(n,e)})}var _basePick=basePick;function flatRest(t){return _setToString(_overRest(t,void 0,flatten_1),t+"")}var _flatRest=flatRest,pick=flatRest(function(t,e){return null==t?{}:_basePick(t,e)}),pick_1=pick,nativeCeil=Math.ceil,nativeMax$2=Math.max;function baseRange(t,e,n,r){for(var a=-1,i=nativeMax$2(nativeCeil((e-t)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=t,t+=n;return o}var _baseRange=baseRange;function createRange(r){return function(t,e,n){return n&&"number"!=typeof n&&_isIterateeCall(t,e,n)&&(e=n=void 0),t=toFinite_1(t),void 0===e?(e=t,t=0):e=toFinite_1(e),n=void 0===n?t<e?1:-1:toFinite_1(n),_baseRange(t,e,n,r)}}var _createRange=createRange,range=createRange(),range_1=range;function baseSortBy(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var _baseSortBy=baseSortBy;function compareAscending(t,e){if(t!==e){var n=void 0!==t,r=null===t,a=t==t,i=isSymbol_1(t),o=void 0!==e,s=null===e,u=e==e,c=isSymbol_1(e);if(!s&&!c&&!i&&e<t||i&&o&&u&&!s&&!c||r&&o&&u||!n&&u||!a)return 1;if(!r&&!i&&!c&&t<e||c&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!u)return-1}return 0}var _compareAscending=compareAscending;function compareMultiple(t,e,n){for(var r=-1,a=t.criteria,i=e.criteria,o=a.length,s=n.length;++r<o;){var u=_compareAscending(a[r],i[r]);if(u)return s<=r?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}var _compareMultiple=compareMultiple;function baseOrderBy(t,r,n){var a=-1;r=_arrayMap(r.length?r:[identity_1],_baseUnary(_baseIteratee));t=_baseMap(t,function(e,t,n){return{criteria:_arrayMap(r,function(t){return t(e)}),index:++a,value:e}});return _baseSortBy(t,function(t,e){return _compareMultiple(t,e,n)})}var _baseOrderBy=baseOrderBy,sortBy=_baseRest(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&_isIterateeCall(t,e[0],e[1])?e=[]:2<n&&_isIterateeCall(e[0],e[1],e[2])&&(e=[e[0]]),_baseOrderBy(t,_baseFlatten(e,1),[])}),sortBy_1=sortBy,idCounter=0;function uniqueId(t){var e=++idCounter;return toString_1(t)+e}var uniqueId_1=uniqueId;function baseZipObject(t,e,n){for(var r=-1,a=t.length,i=e.length,o={};++r<a;){var s=r<i?e[r]:void 0;n(o,t[r],s)}return o}var _baseZipObject=baseZipObject;function zipObject(t,e){return _baseZipObject(t||[],e||[],_assignValue)}var lodash$1,zipObject_1=zipObject;if("function"==typeof commonjsRequire)try{lodash$1={cloneDeep:cloneDeep_1,constant:constant_1,defaults:defaults_1,each:each,filter:filter_1,find:find_1,flatten:flatten_1,forEach:forEach_1,forIn:forIn_1,has:has_1,isUndefined:isUndefined_1,last:last_1,map:map_1,mapValues:mapValues_1,max:max_1,merge:merge_1,min:min_1,minBy:minBy_1,now:now_1,pick:pick_1,range:range_1,reduce:reduce_1,sortBy:sortBy_1,uniqueId:uniqueId_1,values:values_1,zipObject:zipObject_1}}catch(t){}var lodash_1$1=lodash$1=lodash$1||window._,list=List;function List(){var t={};t._next=t._prev=t,this._sentinel=t}function unlink(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function filterOutLinks(t,e){if("_next"!==t&&"_prev"!==t)return e}List.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return unlink(e),e},List.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&unlink(t),t._next=e._next,e._next._prev=t,(e._next=t)._prev=e},List.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,filterOutLinks)),n=n._prev;return"["+t.join(", ")+"]"};var Graph$1=graphlib_1$1.Graph,greedyFas=greedyFAS,DEFAULT_WEIGHT_FN=lodash_1$1.constant(1);function greedyFAS(e,t){if(e.nodeCount()<=1)return[];t=buildState(e,t||DEFAULT_WEIGHT_FN),t=doGreedyFAS(t.graph,t.buckets,t.zeroIdx);return lodash_1$1.flatten(lodash_1$1.map(t,function(t){return e.outEdges(t.v,t.w)}),!0)}function doGreedyFAS(t,e,n){for(var r,a=[],i=e[e.length-1],o=e[0];t.nodeCount();){for(;r=o.dequeue();)removeNode(t,e,n,r);for(;r=i.dequeue();)removeNode(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;0<s;--s)if(r=e[s].dequeue()){a=a.concat(removeNode(t,e,n,r,!0));break}}return a}function removeNode(r,a,i,t,o){var s=o?[]:void 0;return lodash_1$1.forEach(r.inEdges(t.v),function(t){var e=r.edge(t),n=r.node(t.v);o&&s.push({v:t.v,w:t.w}),n.out-=e,assignBucket(a,i,n)}),lodash_1$1.forEach(r.outEdges(t.v),function(t){var e=r.edge(t),t=t.w,t=r.node(t);t.in-=e,assignBucket(a,i,t)}),r.removeNode(t.v),s}function buildState(t,r){var a=new Graph$1,i=0,o=0;lodash_1$1.forEach(t.nodes(),function(t){a.setNode(t,{v:t,in:0,out:0})}),lodash_1$1.forEach(t.edges(),function(t){var e=a.edge(t.v,t.w)||0,n=r(t),e=e+n;a.setEdge(t.v,t.w,e),o=Math.max(o,a.node(t.v).out+=n),i=Math.max(i,a.node(t.w).in+=n)});var e=lodash_1$1.range(o+i+3).map(function(){return new list}),n=i+1;return lodash_1$1.forEach(a.nodes(),function(t){assignBucket(e,n,a.node(t))}),{graph:a,buckets:e,zeroIdx:n}}function assignBucket(t,e,n){(n.out?n.in?t[n.out-n.in+e]:t[t.length-1]:t[0]).enqueue(n)}var acyclic={run:run,undo:undo};function run(n){var e,t="greedy"===n.graph().acyclicer?greedyFas(n,(e=n,function(t){return e.edge(t).weight})):dfsFAS(n);lodash_1$1.forEach(t,function(t){var e=n.edge(t);n.removeEdge(t),e.forwardName=t.name,e.reversed=!0,n.setEdge(t.w,t.v,e,lodash_1$1.uniqueId("rev"))})}function dfsFAS(n){var r=[],a={},i={};return lodash_1$1.forEach(n.nodes(),function e(t){lodash_1$1.has(i,t)||(i[t]=!0,a[t]=!0,lodash_1$1.forEach(n.outEdges(t),function(t){lodash_1$1.has(a,t.w)?r.push(t):e(t.w)}),delete a[t])}),r}function undo(r){lodash_1$1.forEach(r.edges(),function(t){var e,n=r.edge(t);n.reversed&&(r.removeEdge(t),e=n.forwardName,delete n.reversed,delete n.forwardName,r.setEdge(t.w,t.v,n,e))})}var Graph$2=graphlib_1$1.Graph,util={addDummyNode:addDummyNode,simplify:simplify,asNonCompoundGraph:asNonCompoundGraph,successorWeights:successorWeights,predecessorWeights:predecessorWeights,intersectRect:intersectRect,buildLayerMatrix:buildLayerMatrix,normalizeRanks:normalizeRanks,removeEmptyRanks:removeEmptyRanks,addBorderNode:addBorderNode,maxRank:maxRank,partition:partition,time:time,notime:notime};function addDummyNode(t,e,n,r){for(var a;a=lodash_1$1.uniqueId(r),t.hasNode(a););return n.dummy=e,t.setNode(a,n),a}function simplify(r){var a=(new Graph$2).setGraph(r.graph());return lodash_1$1.forEach(r.nodes(),function(t){a.setNode(t,r.node(t))}),lodash_1$1.forEach(r.edges(),function(t){var e=a.edge(t.v,t.w)||{weight:0,minlen:1},n=r.edge(t);a.setEdge(t.v,t.w,{weight:e.weight+n.weight,minlen:Math.max(e.minlen,n.minlen)})}),a}function asNonCompoundGraph(e){var n=new Graph$2({multigraph:e.isMultigraph()}).setGraph(e.graph());return lodash_1$1.forEach(e.nodes(),function(t){e.children(t).length||n.setNode(t,e.node(t))}),lodash_1$1.forEach(e.edges(),function(t){n.setEdge(t,e.edge(t))}),n}function successorWeights(n){var t=lodash_1$1.map(n.nodes(),function(t){var e={};return lodash_1$1.forEach(n.outEdges(t),function(t){e[t.w]=(e[t.w]||0)+n.edge(t).weight}),e});return lodash_1$1.zipObject(n.nodes(),t)}function predecessorWeights(n){var t=lodash_1$1.map(n.nodes(),function(t){var e={};return lodash_1$1.forEach(n.inEdges(t),function(t){e[t.v]=(e[t.v]||0)+n.edge(t).weight}),e});return lodash_1$1.zipObject(n.nodes(),t)}function intersectRect(t,e){var n,r=t.x,a=t.y,i=e.x-r,o=e.y-a,e=t.width/2,t=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");return i=Math.abs(o)*e>Math.abs(i)*t?(o<0&&(t=-t),n=t*i/o,t):(i<0&&(e=-e),(n=e)*o/i),{x:r+n,y:a+i}}function buildLayerMatrix(r){var a=lodash_1$1.map(lodash_1$1.range(maxRank(r)+1),function(){return[]});return lodash_1$1.forEach(r.nodes(),function(t){var e=r.node(t),n=e.rank;lodash_1$1.isUndefined(n)||(a[n][e.order]=t)}),a}function normalizeRanks(e){var n=lodash_1$1.min(lodash_1$1.map(e.nodes(),function(t){return e.node(t).rank}));lodash_1$1.forEach(e.nodes(),function(t){t=e.node(t);lodash_1$1.has(t,"rank")&&(t.rank-=n)})}function removeEmptyRanks(n){var r=lodash_1$1.min(lodash_1$1.map(n.nodes(),function(t){return n.node(t).rank})),a=[];lodash_1$1.forEach(n.nodes(),function(t){var e=n.node(t).rank-r;a[e]||(a[e]=[]),a[e].push(t)});var i=0,o=n.graph().nodeRankFactor;lodash_1$1.forEach(a,function(t,e){lodash_1$1.isUndefined(t)&&e%o!=0?--i:i&&lodash_1$1.forEach(t,function(t){n.node(t).rank+=i})})}function addBorderNode(t,e,n,r){var a={width:0,height:0};return 4<=arguments.length&&(a.rank=n,a.order=r),addDummyNode(t,"border",a,e)}function maxRank(e){return lodash_1$1.max(lodash_1$1.map(e.nodes(),function(t){t=e.node(t).rank;if(!lodash_1$1.isUndefined(t))return t}))}function partition(t,e){var n={lhs:[],rhs:[]};return lodash_1$1.forEach(t,function(t){(e(t)?n.lhs:n.rhs).push(t)}),n}function time(t,e){var n=lodash_1$1.now();try{return e()}finally{console.log(t+" time: "+(lodash_1$1.now()-n)+"ms")}}function notime(t,e){return e()}var normalize={run:run$1,undo:undo$1};function run$1(e){e.graph().dummyChains=[],lodash_1$1.forEach(e.edges(),function(t){normalizeEdge(e,t)})}function normalizeEdge(t,e){var n,r,a,i=e.v,o=t.node(i).rank,s=e.w,u=t.node(s).rank,c=e.name,l=t.edge(e),f=l.labelRank;if(u!==o+1){for(t.removeEdge(e),a=0,++o;o<u;++a,++o)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:e,rank:o},n=util.addDummyNode(t,"edge",r,"_d"),o===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),t.setEdge(i,n,{weight:l.weight},c),0===a&&t.graph().dummyChains.push(n),i=n;t.setEdge(i,s,{weight:l.weight},c)}}function undo$1(a){lodash_1$1.forEach(a.graph().dummyChains,function(t){var e,n=a.node(t),r=n.edgeLabel;for(a.setEdge(n.edgeObj,r);n.dummy;)e=a.successors(t)[0],a.removeNode(t),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=e,n=a.node(t)})}var util$1={longestPath:longestPath,slack:slack};function longestPath(r){var a={};lodash_1$1.forEach(r.sources(),function e(t){var n=r.node(t);if(lodash_1$1.has(a,t))return n.rank;a[t]=!0;t=lodash_1$1.min(lodash_1$1.map(r.outEdges(t),function(t){return e(t.w)-r.edge(t).minlen}));return t!==Number.POSITIVE_INFINITY&&null!=t||(t=0),n.rank=t})}function slack(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var Graph$3=graphlib_1$1.Graph,slack$1=util$1.slack,feasibleTree_1=feasibleTree;function feasibleTree(t){var e,n=new Graph$3({directed:!1}),r=t.nodes()[0],a=t.nodeCount();for(n.setNode(r,{});tightTree(n,t)<a;)e=findMinSlackEdge(n,t),e=n.hasNode(e.v)?slack$1(t,e):-slack$1(t,e),shiftRanks(n,t,e);return n}function tightTree(a,i){return lodash_1$1.forEach(a.nodes(),function n(r){lodash_1$1.forEach(i.nodeEdges(r),function(t){var e=t.v,e=r===e?t.w:e;a.hasNode(e)||slack$1(i,t)||(a.setNode(e,{}),a.setEdge(r,e,{}),n(e))})}),a.nodeCount()}function findMinSlackEdge(e,n){return lodash_1$1.minBy(n.edges(),function(t){if(e.hasNode(t.v)!==e.hasNode(t.w))return slack$1(n,t)})}function shiftRanks(t,e,n){lodash_1$1.forEach(t.nodes(),function(t){e.node(t).rank+=n})}var slack$2=util$1.slack,initRank=util$1.longestPath,preorder$1=graphlib_1$1.alg.preorder,postorder$1=graphlib_1$1.alg.postorder,simplify$1=util.simplify,networkSimplex_1=networkSimplex;function networkSimplex(t){t=simplify$1(t),initRank(t);var e,n=feasibleTree_1(t);for(initLowLimValues(n),initCutValues(n,t);e=leaveEdge(n);)exchangeEdges(n,t,e,enterEdge(n,t,e))}function initCutValues(e,n){var t=(t=postorder$1(e,e.nodes())).slice(0,t.length-1);lodash_1$1.forEach(t,function(t){assignCutValue(e,n,t)})}function assignCutValue(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=calcCutValue(t,e,n)}function calcCutValue(r,a,i){var o=r.node(i).parent,s=!0,t=a.edge(i,o),u=0;return t||(s=!1,t=a.edge(o,i)),u=t.weight,lodash_1$1.forEach(a.nodeEdges(i),function(t){var e=t.v===i,n=e?t.w:t.v;n!==o&&(e=e===s,t=a.edge(t).weight,u+=e?t:-t,isTreeEdge(r,i,n)&&(n=r.edge(i,n).cutvalue,u+=e?-n:n))}),u}function initLowLimValues(t,e){arguments.length<2&&(e=t.nodes()[0]),dfsAssignLowLim(t,{},1,e)}function dfsAssignLowLim(e,n,r,a,t){var i=r,o=e.node(a);return n[a]=!0,lodash_1$1.forEach(e.neighbors(a),function(t){lodash_1$1.has(n,t)||(r=dfsAssignLowLim(e,n,r,t,a))}),o.low=i,o.lim=r++,t?o.parent=t:delete o.parent,r}function leaveEdge(e){return lodash_1$1.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function enterEdge(e,n,t){var r=t.v,a=t.w;n.hasEdge(r,a)||(r=t.w,a=t.v);var r=e.node(r),a=e.node(a),i=r,o=!1;r.lim>a.lim&&(i=a,o=!0);a=lodash_1$1.filter(n.edges(),function(t){return o===isDescendant(e,e.node(t.v),i)&&o!==isDescendant(e,e.node(t.w),i)});return lodash_1$1.minBy(a,function(t){return slack$2(n,t)})}function exchangeEdges(t,e,n,r){var a=n.v,n=n.w;t.removeEdge(a,n),t.setEdge(r.v,r.w,{}),initLowLimValues(t),initCutValues(t,e),updateRanks(t,e)}function updateRanks(a,i){var t=lodash_1$1.find(a.nodes(),function(t){return!i.node(t).parent}),t=(t=preorder$1(a,t)).slice(1);lodash_1$1.forEach(t,function(t){var e=a.node(t).parent,n=i.edge(t,e),r=!1;n||(n=i.edge(e,t),r=!0),i.node(t).rank=i.node(e).rank+(r?n.minlen:-n.minlen)})}function isTreeEdge(t,e,n){return t.hasEdge(e,n)}function isDescendant(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges;var longestPath$1=util$1.longestPath,rank_1=rank;function rank(t){switch(t.graph().ranker){case"network-simplex":networkSimplexRanker(t);break;case"tight-tree":tightTreeRanker(t);break;case"longest-path":longestPathRanker(t);break;default:networkSimplexRanker(t)}}var longestPathRanker=longestPath$1;function tightTreeRanker(t){longestPath$1(t),feasibleTree_1(t)}function networkSimplexRanker(t){networkSimplex_1(t)}var parentDummyChains_1=parentDummyChains;function parentDummyChains(c){var l=postorder$2(c);lodash_1$1.forEach(c.graph().dummyChains,function(t){for(var e=c.node(t),n=e.edgeObj,r=findPath(c,l,n.v,n.w),a=r.path,i=r.lca,o=0,s=a[o],u=!0;t!==n.w;){if(e=c.node(t),u){for(;(s=a[o])!==i&&c.node(s).maxRank<e.rank;)o++;s===i&&(u=!1)}if(!u){for(;o<a.length-1&&c.node(s=a[o+1]).minRank<=e.rank;)o++;s=a[o]}c.setParent(t,s),t=c.successors(t)[0]}})}function findPath(t,e,n,r){for(var a,i=[],o=[],s=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim),c=n;c=t.parent(c),i.push(c),c&&(e[c].low>s||u>e[c].lim););for(a=c,c=r;(c=t.parent(c))!==a;)o.push(c);return{path:i.concat(o.reverse()),lca:a}}function postorder$2(r){var a={},i=0;return lodash_1$1.forEach(r.children(),function t(e){var n=i;lodash_1$1.forEach(r.children(e),t),a[e]={low:n,lim:i++}}),a}var nestingGraph={run:run$2,cleanup:cleanup};function run$2(e){var n=util.addDummyNode(e,"root",{},"_root"),r=treeDepths(e),a=lodash_1$1.max(lodash_1$1.values(r))-1,i=2*a+1;e.graph().nestingRoot=n,lodash_1$1.forEach(e.edges(),function(t){e.edge(t).minlen*=i});var o=sumWeights(e)+1;lodash_1$1.forEach(e.children(),function(t){dfs$1(e,n,i,o,a,r,t)}),e.graph().nodeRankFactor=i}function dfs$1(a,i,o,s,u,c,l){var f,h,t,e=a.children(l);e.length?(f=util.addBorderNode(a,"_bt"),h=util.addBorderNode(a,"_bb"),t=a.node(l),a.setParent(f,l),t.borderTop=f,a.setParent(h,l),t.borderBottom=h,lodash_1$1.forEach(e,function(t){dfs$1(a,i,o,s,u,c,t);var e=a.node(t),n=e.borderTop||t,r=e.borderBottom||t,t=e.borderTop?s:2*s,e=n!==r?1:u-c[l]+1;a.setEdge(f,n,{weight:t,minlen:e,nestingEdge:!0}),a.setEdge(r,h,{weight:t,minlen:e,nestingEdge:!0})}),a.parent(l)||a.setEdge(i,f,{weight:0,minlen:u+c[l]})):l!==i&&a.setEdge(i,l,{weight:0,minlen:o})}function treeDepths(a){var i={};return lodash_1$1.forEach(a.children(),function(t){!function e(t,n){var r=a.children(t);r&&r.length&&lodash_1$1.forEach(r,function(t){e(t,n+1)}),i[t]=n}(t,1)}),i}function sumWeights(n){return lodash_1$1.reduce(n.edges(),function(t,e){return t+n.edge(e).weight},0)}function cleanup(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,lodash_1$1.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}var addBorderSegments_1=addBorderSegments;function addBorderSegments(o){lodash_1$1.forEach(o.children(),function t(e){var n=o.children(e),r=o.node(e);if(n.length&&lodash_1$1.forEach(n,t),lodash_1$1.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var a=r.minRank,i=r.maxRank+1;a<i;++a)addBorderNode$1(o,"borderLeft","_bl",e,r,a),addBorderNode$1(o,"borderRight","_br",e,r,a)}})}function addBorderNode$1(t,e,n,r,a,i){var o={width:0,height:0,rank:i,borderType:e},s=a[e][i-1],n=util.addDummyNode(t,"border",o,n);a[e][i]=n,t.setParent(n,r),s&&t.setEdge(s,n,{weight:1})}var coordinateSystem={adjust:adjust,undo:undo$2};function adjust(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||swapWidthHeight(t)}function undo$2(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||reverseY(t),"lr"!==e&&"rl"!==e||(swapXY(t),swapWidthHeight(t))}function swapWidthHeight(e){lodash_1$1.forEach(e.nodes(),function(t){swapWidthHeightOne(e.node(t))}),lodash_1$1.forEach(e.edges(),function(t){swapWidthHeightOne(e.edge(t))})}function swapWidthHeightOne(t){var e=t.width;t.width=t.height,t.height=e}function reverseY(e){lodash_1$1.forEach(e.nodes(),function(t){reverseYOne(e.node(t))}),lodash_1$1.forEach(e.edges(),function(t){t=e.edge(t);lodash_1$1.forEach(t.points,reverseYOne),lodash_1$1.has(t,"y")&&reverseYOne(t)})}function reverseYOne(t){t.y=-t.y}function swapXY(e){lodash_1$1.forEach(e.nodes(),function(t){swapXYOne(e.node(t))}),lodash_1$1.forEach(e.edges(),function(t){t=e.edge(t);lodash_1$1.forEach(t.points,swapXYOne),lodash_1$1.has(t,"x")&&swapXYOne(t)})}function swapXYOne(t){var e=t.x;t.x=t.y,t.y=e}var initOrder_1=initOrder;function initOrder(r){var a={},t=lodash_1$1.filter(r.nodes(),function(t){return!r.children(t).length}),e=lodash_1$1.max(lodash_1$1.map(t,function(t){return r.node(t).rank})),i=lodash_1$1.map(lodash_1$1.range(e+1),function(){return[]});t=lodash_1$1.sortBy(t,function(t){return r.node(t).rank});return lodash_1$1.forEach(t,function t(e){var n;lodash_1$1.has(a,e)||(a[e]=!0,n=r.node(e),i[n.rank].push(e),lodash_1$1.forEach(r.successors(e),t))}),i}var crossCount_1=crossCount;function crossCount(t,e){for(var n=0,r=1;r<e.length;++r)n+=twoLayerCrossCount(t,e[r-1],e[r]);return n}function twoLayerCrossCount(e,t,n){for(var r=lodash_1$1.zipObject(n,lodash_1$1.map(n,function(t,e){return e})),a=lodash_1$1.flatten(lodash_1$1.map(t,function(t){return lodash_1$1.sortBy(lodash_1$1.map(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;t=2*i-1;--i;var o=lodash_1$1.map(new Array(t),function(){return 0}),s=0;return lodash_1$1.forEach(a.forEach(function(t){var e=t.pos+i;o[e]+=t.weight;for(var n=0;0<e;)e%2&&(n+=o[e+1]),o[e=e-1>>1]+=t.weight;s+=t.weight*n})),s}var barycenter_1=barycenter;function barycenter(r,t){return lodash_1$1.map(t,function(t){var e=r.inEdges(t);if(e.length){e=lodash_1$1.reduce(e,function(t,e){var n=r.edge(e),e=r.node(e.v);return{sum:t.sum+n.weight*e.order,weight:t.weight+n.weight}},{sum:0,weight:0});return{v:t,barycenter:e.sum/e.weight,weight:e.weight}}return{v:t}})}var resolveConflicts_1=resolveConflicts;function resolveConflicts(t,e){var r={};return lodash_1$1.forEach(t,function(t,e){e=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};lodash_1$1.isUndefined(t.barycenter)||(e.barycenter=t.barycenter,e.weight=t.weight)}),lodash_1$1.forEach(e.edges(),function(t){var e=r[t.v],n=r[t.w];lodash_1$1.isUndefined(e)||lodash_1$1.isUndefined(n)||(n.indegree++,e.out.push(r[t.w]))}),doResolveConflicts(lodash_1$1.filter(r,function(t){return!t.indegree}))}function doResolveConflicts(n){var t=[];for(;n.length;){var e=n.pop();t.push(e),lodash_1$1.forEach(e.in.reverse(),function(e){return function(t){t.merged||(lodash_1$1.isUndefined(t.barycenter)||lodash_1$1.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&mergeEntries(e,t)}}(e)),lodash_1$1.forEach(e.out,function(e){return function(t){t.in.push(e),0==--t.indegree&&n.push(t)}}(e))}return lodash_1$1.map(lodash_1$1.filter(t,function(t){return!t.merged}),function(t){return lodash_1$1.pick(t,["vs","i","barycenter","weight"])})}function mergeEntries(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}var sort_1=sort;function sort(t,e){var n=util.partition(t,function(t){return lodash_1$1.has(t,"barycenter")}),t=n.lhs,r=lodash_1$1.sortBy(n.rhs,function(t){return-t.i}),a=[],i=0,o=0,s=0;t.sort(compareWithBias(!!e)),s=consumeUnsortable(a,r,s),lodash_1$1.forEach(t,function(t){s+=t.vs.length,a.push(t.vs),i+=t.barycenter*t.weight,o+=t.weight,s=consumeUnsortable(a,r,s)});t={vs:lodash_1$1.flatten(a,!0)};return o&&(t.barycenter=i/o,t.weight=o),t}function consumeUnsortable(t,e,n){for(var r;e.length&&(r=lodash_1$1.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function compareWithBias(n){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i}}var sortSubgraph_1=sortSubgraph;function sortSubgraph(n,t,r,a){var e=n.children(t),i=n.node(t),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,u={};o&&(e=lodash_1$1.filter(e,function(t){return t!==o&&t!==s}));t=barycenter_1(n,e);lodash_1$1.forEach(t,function(t){var e;n.children(t.v).length&&(e=sortSubgraph(n,t.v,r,a),u[t.v]=e,lodash_1$1.has(e,"barycenter")&&mergeBarycenters(t,e))});i=resolveConflicts_1(t,r);expandSubgraphs(i,u);e=sort_1(i,a);return o&&(e.vs=lodash_1$1.flatten([o,e.vs,s],!0),n.predecessors(o).length&&(t=n.node(n.predecessors(o)[0]),i=n.node(n.predecessors(s)[0]),lodash_1$1.has(e,"barycenter")||(e.barycenter=0,e.weight=0),e.barycenter=(e.barycenter*e.weight+t.order+i.order)/(e.weight+2),e.weight+=2)),e}function expandSubgraphs(t,e){lodash_1$1.forEach(t,function(t){t.vs=lodash_1$1.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}function mergeBarycenters(t,e){lodash_1$1.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var Graph$4=graphlib_1$1.Graph,buildLayerGraph_1=buildLayerGraph;function buildLayerGraph(a,n,i){var o=createRootNode(a),s=new Graph$4({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(t){return a.node(t)});return lodash_1$1.forEach(a.nodes(),function(r){var t=a.node(r),e=a.parent(r);(t.rank===n||t.minRank<=n&&n<=t.maxRank)&&(s.setNode(r),s.setParent(r,e||o),lodash_1$1.forEach(a[i](r),function(t){var e=t.v===r?t.w:t.v,n=s.edge(e,r),n=lodash_1$1.isUndefined(n)?0:n.weight;s.setEdge(e,r,{weight:a.edge(t).weight+n})}),lodash_1$1.has(t,"minRank")&&s.setNode(r,{borderLeft:t.borderLeft[n],borderRight:t.borderRight[n]}))}),s}function createRootNode(t){for(var e;t.hasNode(e=lodash_1$1.uniqueId("_root")););return e}var addSubgraphConstraints_1=addSubgraphConstraints;function addSubgraphConstraints(a,i,t){var o,s={};lodash_1$1.forEach(t,function(t){for(var e,n,r=a.parent(t);r;){if((e=a.parent(r))?(n=s[e],s[e]=r):(n=o,o=r),n&&n!==r)return void i.setEdge(n,r);r=e}})}var Graph$5=graphlib_1$1.Graph,order_1=order;function order(t){var e=util.maxRank(t),n=buildLayerGraphs(t,lodash_1$1.range(1,e+1),"inEdges"),r=buildLayerGraphs(t,lodash_1$1.range(e-1,-1,-1),"outEdges"),a=initOrder_1(t);assignOrder(t,a);for(var i,o=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){sweepLayerGraphs(s%2?n:r,2<=s%4),a=util.buildLayerMatrix(t);var c=crossCount_1(t,a);c<o&&(u=0,i=lodash_1$1.cloneDeep(a),o=c)}assignOrder(t,i)}function buildLayerGraphs(e,t,n){return lodash_1$1.map(t,function(t){return buildLayerGraph_1(e,t,n)})}function sweepLayerGraphs(t,e){var r=new Graph$5;lodash_1$1.forEach(t,function(n){var t=n.graph().root,t=sortSubgraph_1(n,t,r,e);lodash_1$1.forEach(t.vs,function(t,e){n.node(t).order=e}),addSubgraphConstraints_1(n,r,t.vs)})}function assignOrder(n,t){lodash_1$1.forEach(t,function(t){lodash_1$1.forEach(t,function(t,e){n.node(t).order=e})})}var Graph$6=graphlib_1$1.Graph,bk={positionX:positionX,findType1Conflicts:findType1Conflicts,findType2Conflicts:findType2Conflicts,addConflict:addConflict,hasConflict:hasConflict,verticalAlignment:verticalAlignment,horizontalCompaction:horizontalCompaction,alignCoordinates:alignCoordinates,findSmallestWidthAlignment:findSmallestWidthAlignment,balance:balance};function findType1Conflicts(c,t){var l={};return lodash_1$1.reduce(t,function(t,r){var i=0,o=0,s=t.length,u=lodash_1$1.last(r);return lodash_1$1.forEach(r,function(t,e){var n=findOtherInnerSegmentNode(c,t),a=n?c.node(n).order:s;!n&&t!==u||(lodash_1$1.forEach(r.slice(o,e+1),function(r){lodash_1$1.forEach(c.predecessors(r),function(t){var e=c.node(t),n=e.order;!(n<i||a<n)||e.dummy&&c.node(r).dummy||addConflict(l,t,r)})}),o=e+1,i=a)}),r}),l}function findType2Conflicts(s,t){var o={};function u(e,t,n,r,a){var i;lodash_1$1.forEach(lodash_1$1.range(t,n),function(t){i=e[t],s.node(i).dummy&&lodash_1$1.forEach(s.predecessors(i),function(t){var e=s.node(t);e.dummy&&(e.order<r||e.order>a)&&addConflict(o,t,i)})})}return lodash_1$1.reduce(t,function(n,r){var a,i=-1,o=0;return lodash_1$1.forEach(r,function(t,e){"border"!==s.node(t).dummy||(t=s.predecessors(t)).length&&(a=s.node(t[0]).order,u(r,o,e,i,a),o=e,i=a),u(r,o,r.length,a,n.length)}),r}),o}function findOtherInnerSegmentNode(e,t){if(e.node(t).dummy)return lodash_1$1.find(e.predecessors(t),function(t){return e.node(t).dummy})}function addConflict(t,e,n){n<e&&(r=e,e=n,n=r);var r=t[e];r||(t[e]=r={}),r[n]=!0}function hasConflict(t,e,n){var r;return n<e&&(r=e,e=n,n=r),lodash_1$1.has(t[e],n)}function verticalAlignment(t,e,s,u){var c={},l={},f={};return lodash_1$1.forEach(e,function(t){lodash_1$1.forEach(t,function(t,e){c[t]=t,l[t]=t,f[t]=e})}),lodash_1$1.forEach(e,function(t){var o=-1;lodash_1$1.forEach(t,function(t){var e=u(t);if(e.length)for(var n=((e=lodash_1$1.sortBy(e,function(t){return f[t]})).length-1)/2,r=Math.floor(n),a=Math.ceil(n);r<=a;++r){var i=e[r];l[t]===t&&o<f[i]&&!hasConflict(s,t,i)&&(l[i]=t,l[t]=c[t]=c[i],o=f[i])}})}),{root:c,align:l}}function horizontalCompaction(r,t,e,n,a){var i={},o=buildBlockGraph(r,t,e,a),s=a?"borderLeft":"borderRight";function u(t,e){for(var n=o.nodes(),r=n.pop(),a={};r;)a[r]?t(r):(a[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return u(function(t){i[t]=o.inEdges(t).reduce(function(t,e){return Math.max(t,i[e.v]+o.edge(e))},0)},o.predecessors.bind(o)),u(function(t){var e=o.outEdges(t).reduce(function(t,e){return Math.min(t,i[e.w]-o.edge(e))},Number.POSITIVE_INFINITY),n=r.node(t);e!==Number.POSITIVE_INFINITY&&n.borderType!==s&&(i[t]=Math.max(i[t],e))},o.successors.bind(o)),lodash_1$1.forEach(n,function(t){i[t]=i[e[t]]}),i}function buildBlockGraph(i,t,o,e){var s=new Graph$6,n=i.graph(),u=sep(n.nodesep,n.edgesep,e);return lodash_1$1.forEach(t,function(t){var a;lodash_1$1.forEach(t,function(t){var e,n,r=o[t];s.setNode(r),a&&(e=o[a],n=s.edge(e,r),s.setEdge(e,r,Math.max(u(i,t,a),n||0))),a=t})}),s}function findSmallestWidthAlignment(a,t){return lodash_1$1.minBy(lodash_1$1.values(t),function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return lodash_1$1.forIn(t,function(t,e){e=width(a,e)/2;n=Math.max(t+e,n),r=Math.min(t-e,r)}),n-r})}function alignCoordinates(o,s){var t=lodash_1$1.values(s),u=lodash_1$1.min(t),c=lodash_1$1.max(t);lodash_1$1.forEach(["u","d"],function(i){lodash_1$1.forEach(["l","r"],function(t){var e,n,r=i+t,a=o[r];a!==s&&(e=lodash_1$1.values(a),(n="l"===t?u-lodash_1$1.min(e):c-lodash_1$1.max(e))&&(o[r]=lodash_1$1.mapValues(a,function(t){return t+n})))})})}function balance(n,r){return lodash_1$1.mapValues(n.ul,function(t,e){if(r)return n[r.toLowerCase()][e];e=lodash_1$1.sortBy(lodash_1$1.map(n,e));return(e[1]+e[2])/2})}function positionX(r){var a,t=util.buildLayerMatrix(r),i=lodash_1$1.merge(findType1Conflicts(r,t),findType2Conflicts(r,t)),o={};lodash_1$1.forEach(["u","d"],function(n){a="u"===n?t:lodash_1$1.values(t).reverse(),lodash_1$1.forEach(["l","r"],function(t){"r"===t&&(a=lodash_1$1.map(a,function(t){return lodash_1$1.values(t).reverse()}));var e=("u"===n?r.predecessors:r.successors).bind(r),e=verticalAlignment(r,a,i,e),e=horizontalCompaction(r,a,e.root,e.align,"r"===t);"r"===t&&(e=lodash_1$1.mapValues(e,function(t){return-t})),o[n+t]=e})});var e=findSmallestWidthAlignment(r,o);return alignCoordinates(o,e),balance(o,r.graph().align)}function sep(o,s,u){return function(t,e,n){var r,a=t.node(e),i=t.node(n),n=0;if(n+=a.width/2,lodash_1$1.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":r=-a.width/2;break;case"r":r=a.width/2}if(r&&(n+=u?r:-r),r=0,n+=(a.dummy?s:o)/2,n+=(i.dummy?s:o)/2,n+=i.width/2,lodash_1$1.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":r=i.width/2;break;case"r":r=-i.width/2}return r&&(n+=u?r:-r),r=0,n}}function width(t,e){return t.node(e).width}var positionX$1=bk.positionX,position_1=position;function position(n){positionY(n=util.asNonCompoundGraph(n)),lodash_1$1.forEach(positionX$1(n),function(t,e){n.node(e).x=t})}function positionY(n){var t=util.buildLayerMatrix(n),r=n.graph().ranksep,a=0;lodash_1$1.forEach(t,function(t){var e=lodash_1$1.max(lodash_1$1.map(t,function(t){return n.node(t).height}));lodash_1$1.forEach(t,function(t){n.node(t).y=a+e/2}),a+=e+r})}var normalizeRanks$1=util.normalizeRanks,removeEmptyRanks$1=util.removeEmptyRanks,util$2=util,Graph$7=graphlib_1$1.Graph,layout_1=layout;function layout(e,t){var n=t&&t.debugTiming?util$2.time:util$2.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return buildLayoutGraph(e)});n("  runLayout",function(){runLayout(t,n)}),n("  updateInputGraph",function(){updateInputGraph(e,t)})})}function runLayout(t,e){e("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(t)}),e("    removeSelfEdges",function(){removeSelfEdges(t)}),e("    acyclic",function(){acyclic.run(t)}),e("    nestingGraph.run",function(){nestingGraph.run(t)}),e("    rank",function(){rank_1(util$2.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(t)}),e("    removeEmptyRanks",function(){removeEmptyRanks$1(t)}),e("    nestingGraph.cleanup",function(){nestingGraph.cleanup(t)}),e("    normalizeRanks",function(){normalizeRanks$1(t)}),e("    assignRankMinMax",function(){assignRankMinMax(t)}),e("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(t)}),e("    normalize.run",function(){normalize.run(t)}),e("    parentDummyChains",function(){parentDummyChains_1(t)}),e("    addBorderSegments",function(){addBorderSegments_1(t)}),e("    order",function(){order_1(t)}),e("    insertSelfEdges",function(){insertSelfEdges(t)}),e("    adjustCoordinateSystem",function(){coordinateSystem.adjust(t)}),e("    position",function(){position_1(t)}),e("    positionSelfEdges",function(){positionSelfEdges(t)}),e("    removeBorderNodes",function(){removeBorderNodes(t)}),e("    normalize.undo",function(){normalize.undo(t)}),e("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(t)}),e("    undoCoordinateSystem",function(){coordinateSystem.undo(t)}),e("    translateGraph",function(){translateGraph(t)}),e("    assignNodeIntersects",function(){assignNodeIntersects(t)}),e("    reversePoints",function(){reversePointsForReversedEdges(t)}),e("    acyclic.undo",function(){acyclic.undo(t)})}function updateInputGraph(r,a){lodash_1$1.forEach(r.nodes(),function(t){var e=r.node(t),n=a.node(t);e&&(e.x=n.x,e.y=n.y,a.children(t).length&&(e.width=n.width,e.height=n.height))}),lodash_1$1.forEach(r.edges(),function(t){var e=r.edge(t),t=a.edge(t);e.points=t.points,lodash_1$1.has(t,"x")&&(e.x=t.x,e.y=t.y)}),r.graph().width=a.graph().width,r.graph().height=a.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function buildLayoutGraph(n){var r=new Graph$7({multigraph:!0,compound:!0}),t=canonicalize(n.graph());return r.setGraph(lodash_1$1.merge({},graphDefaults,selectNumberAttrs(t,graphNumAttrs),lodash_1$1.pick(t,graphAttrs))),lodash_1$1.forEach(n.nodes(),function(t){var e=canonicalize(n.node(t));r.setNode(t,lodash_1$1.defaults(selectNumberAttrs(e,nodeNumAttrs),nodeDefaults)),r.setParent(t,n.parent(t))}),lodash_1$1.forEach(n.edges(),function(t){var e=canonicalize(n.edge(t));r.setEdge(t,lodash_1$1.merge({},edgeDefaults,selectNumberAttrs(e,edgeNumAttrs),lodash_1$1.pick(e,edgeAttrs)))}),r}function makeSpaceForEdgeLabels(e){var n=e.graph();n.ranksep/=2,lodash_1$1.forEach(e.edges(),function(t){t=e.edge(t);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function injectEdgeLabelProxies(n){lodash_1$1.forEach(n.edges(),function(t){var e=n.edge(t);e.width&&e.height&&(e=n.node(t.v),t={rank:(n.node(t.w).rank-e.rank)/2+e.rank,e:t},util$2.addDummyNode(n,"edge-proxy",t,"_ep"))})}function assignRankMinMax(e){var n=0;lodash_1$1.forEach(e.nodes(),function(t){t=e.node(t);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,n=lodash_1$1.max(n,t.maxRank))}),e.graph().maxRank=n}function removeEdgeLabelProxies(n){lodash_1$1.forEach(n.nodes(),function(t){var e=n.node(t);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))})}function translateGraph(e){var a=Number.POSITIVE_INFINITY,i=0,o=Number.POSITIVE_INFINITY,s=0,t=e.graph(),n=t.marginx||0,r=t.marginy||0;function u(t){var e=t.x,n=t.y,r=t.width,t=t.height;a=Math.min(a,e-r/2),i=Math.max(i,e+r/2),o=Math.min(o,n-t/2),s=Math.max(s,n+t/2)}lodash_1$1.forEach(e.nodes(),function(t){u(e.node(t))}),lodash_1$1.forEach(e.edges(),function(t){t=e.edge(t);lodash_1$1.has(t,"x")&&u(t)}),a-=n,o-=r,lodash_1$1.forEach(e.nodes(),function(t){t=e.node(t);t.x-=a,t.y-=o}),lodash_1$1.forEach(e.edges(),function(t){t=e.edge(t);lodash_1$1.forEach(t.points,function(t){t.x-=a,t.y-=o}),lodash_1$1.has(t,"x")&&(t.x-=a),lodash_1$1.has(t,"y")&&(t.y-=o)}),t.width=i-a+n,t.height=s-o+r}function assignNodeIntersects(i){lodash_1$1.forEach(i.edges(),function(t){var e,n=i.edge(t),r=i.node(t.v),a=i.node(t.w),t=n.points?(e=n.points[0],n.points[n.points.length-1]):(n.points=[],e=a,r);n.points.unshift(util$2.intersectRect(r,e)),n.points.push(util$2.intersectRect(a,t))})}function fixupEdgeLabelCoords(n){lodash_1$1.forEach(n.edges(),function(t){var e=n.edge(t);if(lodash_1$1.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}})}function reversePointsForReversedEdges(e){lodash_1$1.forEach(e.edges(),function(t){t=e.edge(t);t.reversed&&t.points.reverse()})}function removeBorderNodes(i){lodash_1$1.forEach(i.nodes(),function(t){var e,n,r,a;i.children(t).length&&(e=i.node(t),n=i.node(e.borderTop),r=i.node(e.borderBottom),a=i.node(lodash_1$1.last(e.borderLeft)),t=i.node(lodash_1$1.last(e.borderRight)),e.width=Math.abs(t.x-a.x),e.height=Math.abs(r.y-n.y),e.x=a.x+e.width/2,e.y=n.y+e.height/2)}),lodash_1$1.forEach(i.nodes(),function(t){"border"===i.node(t).dummy&&i.removeNode(t)})}function removeSelfEdges(n){lodash_1$1.forEach(n.edges(),function(t){var e;t.v===t.w&&((e=n.node(t.v)).selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t))})}function insertSelfEdges(a){var t=util$2.buildLayerMatrix(a);lodash_1$1.forEach(t,function(t){var r=0;lodash_1$1.forEach(t,function(t,e){var n=a.node(t);n.order=e+r,lodash_1$1.forEach(n.selfEdges,function(t){util$2.addDummyNode(a,"selfedge",{width:t.label.width,height:t.label.height,rank:n.rank,order:e+ ++r,e:t.e,label:t.label},"_se")}),delete n.selfEdges})})}function positionSelfEdges(o){lodash_1$1.forEach(o.nodes(),function(t){var e,n,r,a,i=o.node(t);"selfedge"===i.dummy&&(e=(a=o.node(i.e.v)).x+a.width/2,n=a.y,r=i.x-e,a=a.height/2,o.setEdge(i.e,i.label),o.removeNode(t),i.label.points=[{x:e+2*r/3,y:n-a},{x:e+5*r/6,y:n-a},{x:e+r,y:n},{x:e+5*r/6,y:n+a},{x:e+2*r/3,y:n+a}],i.label.x=i.x,i.label.y=i.y)})}function selectNumberAttrs(t,e){return lodash_1$1.mapValues(lodash_1$1.pick(t,e),Number)}function canonicalize(t){var n={};return lodash_1$1.forEach(t,function(t,e){n[e.toLowerCase()]=t}),n}var Graph$8=graphlib_1$1.Graph,debug={debugOrdering:debugOrdering};function debugOrdering(e){var t=util.buildLayerMatrix(e),n=new Graph$8({compound:!0,multigraph:!0}).setGraph({});return lodash_1$1.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),lodash_1$1.forEach(e.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),lodash_1$1.forEach(t,function(t,e){e="layer"+e;n.setNode(e,{rank:"same"}),lodash_1$1.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}var dagre$1,version$1="0.8.4",dagre={graphlib:graphlib_1$1,layout:layout,debug:debug,util:{time:util.time,notime:util.notime},version:version$1};if(commonjsRequire)try{dagre$1=dagre}catch(t){}var dagre_1=dagre$1=dagre$1||window.dagre,intersectNode_1=intersectNode;function intersectNode(t,e){return t.intersect(e)}var intersectEllipse_1=intersectEllipse;function intersectEllipse(t,e,n,r){var a=t.x,i=t.y,o=a-r.x,s=i-r.y,t=Math.sqrt(e*e*s*s+n*n*o*o),o=Math.abs(e*n*o/t);r.x<a&&(o=-o);t=Math.abs(e*n*s/t);return r.y<i&&(t=-t),{x:a+o,y:i+t}}var intersectCircle_1=intersectCircle;function intersectCircle(t,e,n){return intersectEllipse_1(t,e,e,n)}var intersectLine_1=intersectLine;function intersectLine(t,e,n,r){var a,i,o,s,u,c=e.y-t.y,l=t.x-e.x,f=e.x*t.y-t.x*e.y,h=c*n.x+l*n.y+f,d=c*r.x+l*r.y+f;if(!(0!=h&&0!=d&&sameSign(h,d)||(a=r.y-n.y,u=n.x-r.x,i=r.x*n.y-n.x*r.y,t=a*t.x+u*t.y+i,s=a*e.x+u*e.y+i,0!=t&&0!=s&&sameSign(t,s)||0==(o=c*u-a*l))))return s=Math.abs(o/2),{x:(u=l*i-u*f)<0?(u-s)/o:(u+s)/o,y:(u=a*f-c*i)<0?(u-s)/o:(u+s)/o}}function sameSign(t,e){return 0<t*e}var intersectPolygon_1=intersectPolygon;function intersectPolygon(t,e,r){var n=t.x,a=t.y,i=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;e.forEach(function(t){o=Math.min(o,t.x),s=Math.min(s,t.y)});for(var u=n-t.width/2-o,c=a-t.height/2-s,l=0;l<e.length;l++){var f=e[l],h=e[l<e.length-1?l+1:0],h=intersectLine_1(t,r,{x:u+f.x,y:c+f.y},{x:u+h.x,y:c+h.y});h&&i.push(h)}return i.length?(1<i.length&&i.sort(function(t,e){var n=t.x-r.x,t=t.y-r.y,n=Math.sqrt(n*n+t*t),t=e.x-r.x,e=e.y-r.y,e=Math.sqrt(t*t+e*e);return n<e?-1:n===e?0:1}),i[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}var intersectRect_1=intersectRect$1;function intersectRect$1(t,e){var n,r=t.x,a=t.y,i=e.x-r,o=e.y-a,e=t.width/2,t=t.height/2,i=Math.abs(o)*e>Math.abs(i)*t?(o<0&&(t=-t),n=0==o?0:t*i/o,t):(i<0&&(e=-e),n=e,0==i?0:e*o/i);return{x:r+n,y:a+i}}var lodash$2,intersect={node:intersectNode_1,circle:intersectCircle_1,ellipse:intersectEllipse_1,polygon:intersectPolygon_1,rect:intersectRect_1};if(commonjsRequire)try{lodash$2={defaults:defaults_1,each:each,isFunction:isFunction_1,isPlainObject:isPlainObject_1,pick:pick_1,has:has_1,range:range_1,uniqueId:uniqueId_1}}catch(t){}var lodash_1$2=lodash$2=lodash$2||window._,version$2="4.13.0";function ascending(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function bisector(i){return 1===i.length&&(i=ascendingComparator(i)),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var a=n+r>>>1;i(t[a],e)<0?n=1+a:r=a}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var a=n+r>>>1;0<i(t[a],e)?r=a:n=1+a}return n}}}function ascendingComparator(n){return function(t,e){return ascending(n(t),e)}}var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;function pairs(t,e){null==e&&(e=pair);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return i}function pair(t,e){return[t,e]}function cross(t,e,n){var r,a,i,o,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=pair),r=i=0;r<s;++r)for(o=t[r],a=0;a<u;++a,++i)c[i]=n(o,e[a]);return c}function descending(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function number(t){return null===t?NaN:+t}function variance(t,e){var n,r,a=t.length,i=0,o=-1,s=0,u=0;if(null==e)for(;++o<a;)isNaN(n=number(t[o]))||(u+=(r=n-s)*(n-(s+=r/++i)));else for(;++o<a;)isNaN(n=number(e(t[o],o,t)))||(u+=(r=n-s)*(n-(s+=r/++i)));if(1<i)return u/(i-1)}function deviation(t,e){e=variance(t,e);return e&&Math.sqrt(e)}function extent(t,e){var n,r,a,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=a=n;++o<i;)null!=(n=t[o])&&(n<r&&(r=n),a<n&&(a=n))}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=a=n;++o<i;)null!=(n=e(t[o],o,t))&&(n<r&&(r=n),a<n&&(a=n));return[r,a]}var array=Array.prototype,slice=array.slice,map$1=array.map;function constant$1(t){return function(){return t}}function identity$1(t){return t}function sequence(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(t,e,n){var r,a,i,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=tickIncrement(t,e,n))||!isFinite(o))return[];if(0<o)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++s<a;)i[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++s<a;)i[s]=(t-s)/o;return r&&i.reverse(),i}function tickIncrement(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(e10<=t?10:e5<=t?5:e2<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(e10<=t?10:e5<=t?5:e2<=t?2:1)}function tickStep(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),n=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),r=r/n;return e10<=r?n*=10:e5<=r?n*=5:e2<=r&&(n*=2),e<t?-n:n}function sturges(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function histogram(){var h=identity$1,d=extent,p=sturges;function e(t){for(var e,n=t.length,r=new Array(n),a=0;a<n;++a)r[a]=h(t[a],a,t);var i=d(r),o=i[0],s=i[1],u=p(r,o,s);Array.isArray(u)||(u=tickStep(o,s,u),u=sequence(Math.ceil(o/u)*u,Math.floor(s/u)*u,u));for(var c=u.length;u[0]<=o;)u.shift(),--c;for(;u[c-1]>s;)u.pop(),--c;var l,f=new Array(c+1);for(a=0;a<=c;++a)(l=f[a]=[]).x0=0<a?u[a-1]:o,l.x1=a<c?u[a]:s;for(a=0;a<n;++a)o<=(e=r[a])&&e<=s&&f[bisectRight(u,e,0,c)].push(t[a]);return f}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:constant$1(t),e):h},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:constant$1([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?constant$1(slice.call(t)):constant$1(t),e):p},e}function threshold(t,e,n){if(null==n&&(n=number),a=t.length){if((e=+e)<=0||a<2)return+n(t[0],0,t);if(1<=e)return+n(t[a-1],a-1,t);var r=(a-1)*e,a=Math.floor(r),e=+n(t[a],a,t);return e+(+n(t[a+1],a+1,t)-e)*(r-a)}}function freedmanDiaconis(t,e,n){return t=map$1.call(t,number).sort(ascending),Math.ceil((n-e)/(2*(threshold(t,.75)-threshold(t,.25))*Math.pow(t.length,-1/3)))}function scott(t,e,n){return Math.ceil((n-e)/(3.5*deviation(t)*Math.pow(t.length,-1/3)))}function max$1(t,e){var n,r,a=t.length,i=-1;if(null==e){for(;++i<a;)if(null!=(n=t[i])&&n<=n)for(r=n;++i<a;)null!=(n=t[i])&&r<n&&(r=n)}else for(;++i<a;)if(null!=(n=e(t[i],i,t))&&n<=n)for(r=n;++i<a;)null!=(n=e(t[i],i,t))&&r<n&&(r=n);return r}function mean(t,e){var n,r=t.length,a=r,i=-1,o=0;if(null==e)for(;++i<r;)isNaN(n=number(t[i]))?--a:o+=n;else for(;++i<r;)isNaN(n=number(e(t[i],i,t)))?--a:o+=n;if(a)return o/a}function median(t,e){var n,r=t.length,a=-1,i=[];if(null==e)for(;++a<r;)isNaN(n=number(t[a]))||i.push(n);else for(;++a<r;)isNaN(n=number(e(t[a],a,t)))||i.push(n);return threshold(i.sort(ascending),.5)}function merge$1(t){for(var e,n,r,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(n=new Array(o);0<=--a;)for(e=(r=t[a]).length;0<=--e;)n[--o]=r[e];return n}function min$1(t,e){var n,r,a=t.length,i=-1;if(null==e){for(;++i<a;)if(null!=(n=t[i])&&n<=n)for(r=n;++i<a;)null!=(n=t[i])&&n<r&&(r=n)}else for(;++i<a;)if(null!=(n=e(t[i],i,t))&&n<=n)for(r=n;++i<a;)null!=(n=e(t[i],i,t))&&n<r&&(r=n);return r}function permute(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function scan(t,e){if(n=t.length){var n,r,a=0,i=0,o=t[i];for(null==e&&(e=ascending);++a<n;)(e(r=t[a],o)<0||0!==e(o,o))&&(o=r,i=a);return 0===e(o,o)?i:void 0}}function shuffle(t,e,n){for(var r,a,i=(null==n?t.length:n)-(e=null==e?0:+e);i;)a=Math.random()*i--|0,r=t[i+e],t[i+e]=t[a+e],t[a+e]=r;return t}function sum(t,e){var n,r=t.length,a=-1,i=0;if(null==e)for(;++a<r;)(n=+t[a])&&(i+=n);else for(;++a<r;)(n=+e(t[a],a,t))&&(i+=n);return i}function transpose(t){if(!(a=t.length))return[];for(var e=-1,n=min$1(t,length),r=new Array(n);++e<n;)for(var a,i=-1,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function length(t){return t.length}function zip(){return transpose(arguments)}var slice$1=Array.prototype.slice;function identity$2(t){return t}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(t){return"translate("+(t+.5)+",0)"}function translateY(t){return"translate(0,"+(t+.5)+")"}function number$1(e){return function(t){return+e(t)}}function center(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}function entering(){return!this.__axis}function axis(d,p){var g=[],y=null,_=null,m=6,$=6,v=3,b=d===top||d===left?-1:1,x=d===left||d===right?"x":"y",w=d===top||d===bottom?translateX:translateY;function e(t){var e=null==y?p.ticks?p.ticks.apply(p,g):p.domain():y,n=null==_?p.tickFormat?p.tickFormat.apply(p,g):identity$2:_,r=Math.max(m,0)+v,a=p.range(),i=+a[0]+.5,o=+a[a.length-1]+.5,s=(p.bandwidth?center:number$1)(p.copy()),u=t.selection?t.selection():t,c=u.selectAll(".domain").data([null]),l=(h=u.selectAll(".tick").data(e,p).order()).exit(),f=h.enter().append("g").attr("class","tick"),a=h.select("line"),e=h.select("text"),c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),h=h.merge(f),a=a.merge(f.append("line").attr("stroke","#000").attr(x+"2",b*m)),e=e.merge(f.append("text").attr("fill","#000").attr(x,b*r).attr("dy",d===top?"0em":d===bottom?"0.71em":"0.32em"));t!==u&&(c=c.transition(t),h=h.transition(t),a=a.transition(t),e=e.transition(t),l=l.transition(t).attr("opacity",epsilon).attr("transform",function(t){return isFinite(t=s(t))?w(t):this.getAttribute("transform")}),f.attr("opacity",epsilon).attr("transform",function(t){var e=this.parentNode.__axis;return w(e&&isFinite(e=e(t))?e:s(t))})),l.remove(),c.attr("d",d===left||d==right?"M"+b*$+","+i+"H0.5V"+o+"H"+b*$:"M"+i+","+b*$+"V0.5H"+o+"V"+b*$),h.attr("opacity",1).attr("transform",function(t){return w(s(t))}),a.attr(x+"2",b*m),e.attr(x,b*r).text(n),u.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",d===right?"start":d===left?"end":"middle"),u.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(p=t,e):p},e.ticks=function(){return g=slice$1.call(arguments),e},e.tickArguments=function(t){return arguments.length?(g=null==t?[]:slice$1.call(t),e):g.slice()},e.tickValues=function(t){return arguments.length?(y=null==t?null:slice$1.call(t),e):y&&y.slice()},e.tickFormat=function(t){return arguments.length?(_=t,e):_},e.tickSize=function(t){return arguments.length?(m=$=+t,e):m},e.tickSizeInner=function(t){return arguments.length?(m=+t,e):m},e.tickSizeOuter=function(t){return arguments.length?($=+t,e):$},e.tickPadding=function(t){return arguments.length?(v=+t,e):v},e}function axisTop(t){return axis(top,t)}function axisRight(t){return axis(right,t)}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}var noop$1={value:function(){}};function dispatch(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Dispatch(r)}function Dispatch(t){this._=t}function parseTypenames(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function get$1(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function set(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=noop$1,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var n,r=this._,a=parseTypenames(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=set(r[n],t.name,e);else if(null==e)for(n in r)r[n]=set(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=get$1(r[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new Dispatch(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(n):t.createElementNS(e,n)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){t=namespace(t);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(t){return null==t?none:function(){return this.querySelector(t)}}function selection_select(t){"function"!=typeof t&&(t=selector(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,s=e[a],u=s.length,c=r[a]=new Array(u),l=0;l<u;++l)(i=s[l])&&(o=t.call(i,i.__data__,l,s))&&("__data__"in i&&(o.__data__=i.__data__),c[l]=o);return new Selection(r,this._parents)}function empty(){return[]}function selectorAll(t){return null==t?empty:function(){return this.querySelectorAll(t)}}function selection_selectAll(t){"function"!=typeof t&&(t=selectorAll(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,s=e[i],u=s.length,c=0;c<u;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),a.push(o));return new Selection(r,a)}var element,vendorMatches,matcher=function(t){return function(){return this.matches(t)}};"undefined"!=typeof document&&((element=document.documentElement).matches||(vendorMatches=element.webkitMatchesSelector||element.msMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector,matcher=function(t){return function(){return vendorMatches.call(this,t)}}));var matcher$1=matcher;function selection_filter(t){"function"!=typeof t&&(t=matcher$1(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,u=r[a]=[],c=0;c<s;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&u.push(i);return new Selection(r,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function constant$2(t){return function(){return t}}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var keyPrefix="$";function bindIndex(t,e,n,r,a,i){for(var o,s=0,u=e.length,c=i.length;s<c;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new EnterNode(t,i[s]);for(;s<u;++s)(o=e[s])&&(a[s]=o)}function bindKey(t,e,n,r,a,i,o){for(var s,u,c={},l=e.length,f=i.length,h=new Array(l),d=0;d<l;++d)(s=e[d])&&(h[d]=u=keyPrefix+o.call(s,s.__data__,d,e),u in c?a[d]=s:c[u]=s);for(d=0;d<f;++d)(s=c[u=keyPrefix+o.call(t,i[d],d,i)])?((r[d]=s).__data__=i[d],c[u]=null):n[d]=new EnterNode(t,i[d]);for(d=0;d<l;++d)(s=e[d])&&c[h[d]]===s&&(a[d]=s)}function selection_data(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?bindKey:bindIndex,r=this._parents,a=this._groups;"function"!=typeof t&&(t=constant$2(t));for(var i=a.length,o=new Array(i),s=new Array(i),u=new Array(i),c=0;c<i;++c){var l=r[c],f=a[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=s[c]=new Array(p),y=o[c]=new Array(p);n(l,f,g,y,u[c]=new Array(h),d,e);for(var _,m,$=0,v=0;$<p;++$)if(_=g[$]){for(v<=$&&(v=$+1);!(m=y[v])&&++v<p;);_._next=m||null}}return(o=new Selection(o,r))._enter=s,o._exit=u,o}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_merge(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,a=Math.min(r,t),i=new Array(r),o=0;o<a;++o)for(var s,u=e[o],c=n[o],l=u.length,f=i[o]=new Array(l),h=0;h<l;++h)(s=u[h]||c[h])&&(f[h]=s);for(;o<r;++o)i[o]=e[o];return new Selection(i,this._parents)}function selection_order(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];0<=--i;)(r=a[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this}function selection_sort(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||ascending$1;for(var e=this._groups,r=e.length,a=new Array(r),i=0;i<r;++i){for(var o,s=e[i],u=s.length,c=a[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(c[l]=o);c.sort(t)}return new Selection(a,this._parents).order()}function ascending$1(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function selection_node(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function selection_size(){var t=0;return this.each(function(){++t}),t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,s=i.length;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function attrFunctionNS(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function selection_attr(t,e){var n=namespace(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?attrRemoveNS:attrRemove:"function"==typeof e?n.local?attrFunctionNS:attrFunction:n.local?attrConstantNS:attrConstant)(n,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,n){return function(){this.style.setProperty(t,e,n)}}function styleFunction(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}function selection_style(t,e,n){return 1<arguments.length?this.each((null==e?styleRemove:"function"==typeof e?styleFunction:styleConstant)(t,e,null==n?"":n)):styleValue(this.node(),t)}function styleValue(t,e){return t.style.getPropertyValue(e)||defaultView(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function selection_property(t,e){return 1<arguments.length?this.each((null==e?propertyRemove:"function"==typeof e?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var n=classList(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function classedRemove(t,e){for(var n=classList(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var n=classArray(t+"");if(arguments.length<2){for(var r=classList(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?classedFunction:e?classedTrue:classedFalse)(n,e))}function textRemove(){this.textContent=""}function textConstant(t){return function(){this.textContent=t}}function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction:textConstant)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function selection_html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e="function"==typeof t?t:creator(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(t,e){var n="function"==typeof t?t:creator(t),r=null==e?constantNull:"function"==typeof e?e:selector(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var element$1,filterEvents={},event=null;function filterContextListener(n,t,e){return n=contextListener(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function contextListener(n,r,a){return function(t){var e=event;event=t;try{n.call(this,this.__data__,r,a)}finally{event=e}}}function parseTypenames$1(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function onRemove(i){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,a=t.length;n<a;++n)e=t[n],i.type&&e.type!==i.type||e.name!==i.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function onAdd(u,c,l){var f=filterEvents.hasOwnProperty(u.type)?filterContextListener:contextListener;return function(t,e,n){var r,a=this.__on,i=f(c,e,n);if(a)for(var o=0,s=a.length;o<s;++o)if((r=a[o]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=i,r.capture=l),void(r.value=c);this.addEventListener(u.type,i,l),r={type:u.type,name:u.name,value:c,listener:i,capture:l},a?a.push(r):this.__on=[r]}}function selection_on(t,e,n){var r,a,i=parseTypenames$1(t+""),o=i.length;if(!(arguments.length<2)){for(s=e?onAdd:onRemove,null==n&&(n=!1),r=0;r<o;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value}function customEvent(t,e,n,r){var a=event;t.sourceEvent=event,event=t;try{return e.apply(n,r)}finally{event=a}}function dispatchEvent(t,e,n){var r=defaultView(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each(("function"==typeof e?dispatchFunction:dispatchConstant)(t,e))}"undefined"!=typeof document&&("onmouseenter"in(element$1=document.documentElement)||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"}));var root$1=[null];function Selection(t,e){this._groups=t,this._parents=e}function selection(){return new Selection([[document.documentElement]],root$1)}function select(t){return"string"==typeof t?new Selection([[document.querySelector(t)]],[document.documentElement]):new Selection([[t]],root$1)}function create(t){return select(creator(t).call(document.documentElement))}Selection.prototype=selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};var nextId=0;function local(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}function sourceEvent(){for(var t,e=event;t=e.sourceEvent;)e=t;return e}function point(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function mouse(t){var e=sourceEvent();return e.changedTouches&&(e=e.changedTouches[0]),point(t,e)}function selectAll(t){return"string"==typeof t?new Selection([document.querySelectorAll(t)],[document.documentElement]):new Selection([null==t?[]:t],root$1)}function touch(t,e,n){arguments.length<3&&(n=e,e=sourceEvent().changedTouches);for(var r,a=0,i=e?e.length:0;a<i;++a)if((r=e[a]).identifier===n)return point(t,r);return null}function touches(t,e){null==e&&(e=sourceEvent().touches);for(var n=0,r=e?e.length:0,a=new Array(r);n<r;++n)a[n]=point(t,e[n]);return a}function nopropagation(){event.stopImmediatePropagation()}function noevent(){event.preventDefault(),event.stopImmediatePropagation()}function dragDisable(t){var e=t.document.documentElement,t=select(t).on("dragstart.drag",noevent,!0);"onselectstart"in e?t.on("selectstart.drag",noevent,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(t,e){var n=t.document.documentElement,r=select(t).on("dragstart.drag",null);e&&(r.on("click.drag",noevent,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function constant$3(t){return function(){return t}}function DragEvent(t,e,n,r,a,i,o,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=a,this.x=i,this.y=o,this.dx=s,this.dy=u,this._=c}function defaultFilter(){return!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(t){return null==t?{x:event.x,y:event.y}:t}function defaultTouchable(){return"ontouchstart"in this}function drag(){var n,r,a,i,o=defaultFilter,s=defaultContainer,e=defaultSubject,u=defaultTouchable,p={},g=dispatch("start","drag","end"),y=0,c=0;function _(t){t.on("mousedown.drag",l).filter(u).on("touchstart.drag",d).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",$).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t;i||!o.apply(this,arguments)||(t=v("mouse",s.apply(this,arguments),mouse,this,arguments))&&(select(event.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),dragDisable(event.view),nopropagation(),a=!1,n=event.clientX,r=event.clientY,t("start"))}function f(){var t,e;noevent(),a||(t=event.clientX-n,e=event.clientY-r,a=c<t*t+e*e),p.mouse("drag")}function h(){select(event.view).on("mousemove.drag mouseup.drag",null),yesdrag(event.view,a),noevent(),p.mouse("end")}function d(){if(o.apply(this,arguments))for(var t,e=event.changedTouches,n=s.apply(this,arguments),r=e.length,a=0;a<r;++a)(t=v(e[a].identifier,n,touch,this,arguments))&&(nopropagation(),t("start"))}function m(){for(var t,e=event.changedTouches,n=e.length,r=0;r<n;++r)(t=p[e[r].identifier])&&(noevent(),t("drag"))}function $(){var t,e,n=event.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),t=0;t<r;++t)(e=p[n[t].identifier])&&(nopropagation(),e("end"))}function v(a,i,o,s,u){var c,l,f,h=o(i,a),d=g.copy();if(customEvent(new DragEvent(_,"beforestart",c,a,y,h[0],h[1],0,0,d),function(){return null!=(event.subject=c=e.apply(s,u))&&(l=c.x-h[0]||0,f=c.y-h[1]||0,!0)}))return function t(e){var n,r=h;switch(e){case"start":p[a]=t,n=y++;break;case"end":delete p[a],--y;case"drag":h=o(i,a),n=y}customEvent(new DragEvent(_,e,c,a,n,h[0]+l,h[1]+f,h[0]-r[0],h[1]-r[1],d),d.apply,d,[e,s,u])}}return _.filter=function(t){return arguments.length?(o="function"==typeof t?t:constant$3(!!t),_):o},_.container=function(t){return arguments.length?(s="function"==typeof t?t:constant$3(t),_):s},_.subject=function(t){return arguments.length?(e="function"==typeof t?t:constant$3(t),_):e},_.touchable=function(t){return arguments.length?(u="function"==typeof t?t:constant$3(!!t),_):u},_.on=function(){var t=g.on.apply(g,arguments);return t===g?_:t},_.clickDistance=function(t){return arguments.length?(c=(t=+t)*t,_):Math.sqrt(c)},_}function define(t,e,n){(t.prototype=e.prototype=n).constructor=t}function extend(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function Color(){}Local.prototype=local.prototype={constructor:Local,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(t){var e;return t=(t+"").trim().toLowerCase(),(e=reHex3.exec(t))?new Rgb((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=reHex6.exec(t))?rgbn(parseInt(e[1],16)):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rgb(t,e,n,r)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,n,r){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,n,null==r?1:r)}function Rgb(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function hsla(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,r)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(o=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=0<u&&u<1?0:o,new Hsl(o,s,u,t.opacity)}function hsl(t,e,n,r){return 1===arguments.length?hslConvert(t):new Hsl(t,e,n,null==r?1:r)}function Hsl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hsl2rgb(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}define(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),define(Rgb,rgb,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),define(Hsl,hsl,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Rgb(hsl2rgb(240<=t?t-240:120+t,n,e),hsl2rgb(t,n,e),hsl2rgb(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var deg2rad=Math.PI/180,rad2deg=180/Math.PI,Kn=18,Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl){var e=t.h*deg2rad;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rgb||(t=rgbConvert(t));var n=rgb2xyz(t.r),r=rgb2xyz(t.g),a=rgb2xyz(t.b),i=xyz2lab((.4124564*n+.3575761*r+.1804375*a)/Xn),e=xyz2lab((.2126729*n+.7151522*r+.072175*a)/Yn);return new Lab(116*e-16,500*(i-e),200*(e-xyz2lab((.0193339*n+.119192*r+.9503041*a)/Zn)),t.opacity)}function lab(t,e,n,r){return 1===arguments.length?labConvert(t):new Lab(t,e,n,null==r?1:r)}function Lab(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function xyz2lab(t){return t3<t?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t1<t?t*t*t:t2*(t-t0)}function xyz2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2xyz(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);t instanceof Lab||(t=labConvert(t));var e=Math.atan2(t.b,t.a)*rad2deg;return new Hcl(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hcl(t,e,n,r){return 1===arguments.length?hclConvert(t):new Hcl(t,e,n,null==r?1:r)}function Hcl(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}define(Lab,lab,extend(Color,{brighter:function(t){return new Lab(this.l+Kn*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab(this.l-Kn*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200,t=Yn*lab2xyz(t);return new Rgb(xyz2rgb(3.2404542*(e=Xn*lab2xyz(e))-1.5371385*t-.4985314*(n=Zn*lab2xyz(n))),xyz2rgb(-.969266*e+1.8760108*t+.041556*n),xyz2rgb(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),define(Hcl,hcl,extend(Color,{brighter:function(t){return new Hcl(this.h,this.c,this.l+Kn*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl(this.h,this.c,this.l-Kn*(null==t?1:t),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(BC_DA*r+ED*e-EB*n)/(BC_DA+ED-EB),e=r-a,r=(E*(n-a)-C*e)/D,n=Math.sqrt(r*r+e*e)/(E*a*(1-a)),e=n?Math.atan2(r,e)*rad2deg-120:NaN;return new Cubehelix(e<0?e+360:e,n,a,t.opacity)}function cubehelix(t,e,n,r){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,e,n,null==r?1:r)}function Cubehelix(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function basis(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function basis$1(o){var s=o.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=o[e],r=o[e+1],a=0<e?o[e-1]:2*n-r,i=e<s-1?o[e+2]:2*r-n;return basis((t-e/s)*s,a,n,r,i)}}function basisClosed(o){var s=o.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=o[(e+s-1)%s],r=o[e%s],a=o[(e+1)%s],i=o[(e+2)%s];return basis((t-e/s)*s,n,r,a,i)}}function constant$4(t){return function(){return t}}function linear(e,n){return function(t){return e+t*n}}function exponential(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}function hue(t,e){var n=e-t;return n?linear(t,180<n||n<-180?n-360*Math.round(n/360):n):constant$4(isNaN(t)?e:t)}function gamma(n){return 1==(n=+n)?nogamma:function(t,e){return e-t?exponential(t,e,n):constant$4(isNaN(t)?e:t)}}function nogamma(t,e){var n=e-t;return n?linear(t,n):constant$4(isNaN(t)?e:t)}define(Cubehelix,cubehelix,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*deg2rad,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),t=Math.sin(t);return new Rgb(255*(e+n*(A*r+B*t)),255*(e+n*(C*r+D*t)),255*(e+E*r*n),this.opacity)}}));var interpolateRgb=function t(e){var o=gamma(e);function n(e,t){var n=o((e=rgb(e)).r,(t=rgb(t)).r),r=o(e.g,t.g),a=o(e.b,t.b),i=nogamma(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return n.gamma=t,n}(1);function rgbSpline(s){return function(t){for(var e,n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o=0;o<n;++o)e=rgb(t[o]),r[o]=e.r||0,a[o]=e.g||0,i[o]=e.b||0;return r=s(r),a=s(a),i=s(i),e.opacity=1,function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e+""}}}var rgbBasis=rgbSpline(basis$1),rgbBasisClosed=rgbSpline(basisClosed);function array$1(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o=0;o<r;++o)a[o]=interpolateValue(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(t){for(o=0;o<r;++o)i[o]=a[o](t);return i}}function date(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}}function reinterpolate(e,n){return n-=e=+e,function(t){return e+n*t}}function object(t,e){var n,r={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=interpolateValue(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(e){return function(t){return e(t)+""}}function interpolateString(t,r){var e,n,a,i=reA.lastIndex=reB.lastIndex=0,o=-1,s=[],u=[];for(t+="",r+="";(e=reA.exec(t))&&(n=reB.exec(r));)(a=n.index)>i&&(a=r.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(e=e[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:reinterpolate(e,n)})),i=reB.lastIndex;return i<r.length&&(a=r.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?one(u[0].x):zero(r):(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function interpolateValue(t,e){var n=typeof e;return null==e||"boolean"==n?constant$4(e):("number"==n?reinterpolate:"string"==n?(n=color(e))?(e=n,interpolateRgb):interpolateString:e instanceof color?interpolateRgb:e instanceof Date?date:Array.isArray(e)?array$1:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:reinterpolate)(t,e)}function interpolateRound(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}var cssNode,cssRoot,cssView,svgNode,degrees=180/Math.PI,identity$3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,n,r,a,i){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*degrees,skewX:Math.atan(u)*degrees,scaleX:o,scaleY:s}}function parseCss(t){return"none"===t?identity$3:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=t,t=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),decompose(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function parseSvg(t){return null==t?identity$3:((svgNode=svgNode||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=svgNode.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):identity$3)}function interpolateTransform(f,h,d,p){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,a,i,o,s,u,c=[],l=[];return t=f(t),e=f(e),a=t.translateX,i=t.translateY,u=e.translateX,s=e.translateY,o=c,n=l,a!==u||i!==s?(r=o.push("translate(",null,h,null,d),n.push({i:r-4,x:reinterpolate(a,u)},{i:r-2,x:reinterpolate(i,s)})):(u||s)&&o.push("translate("+u+h+s+d),n=t.rotate,a=e.rotate,r=c,i=l,n!==a?(180<n-a?a+=360:180<a-n&&(n+=360),i.push({i:r.push(g(r)+"rotate(",null,p)-2,x:reinterpolate(n,a)})):a&&r.push(g(r)+"rotate("+a+p),o=t.skewX,u=e.skewX,s=c,i=l,o!==u?i.push({i:s.push(g(s)+"skewX(",null,p)-2,x:reinterpolate(o,u)}):u&&s.push(g(s)+"skewX("+u+p),n=t.scaleX,r=t.scaleY,a=e.scaleX,i=e.scaleY,o=c,s=l,n!==a||r!==i?(u=o.push(g(o)+"scale(",null,",",null,")"),s.push({i:u-4,x:reinterpolate(n,a)},{i:u-2,x:reinterpolate(r,i)})):1===a&&1===i||o.push(g(o)+"scale("+a+","+i+")"),t=e=null,function(t){for(var e,n=-1,r=l.length;++n<r;)c[(e=l[n]).i]=e.x(t);return c.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),rho=Math.SQRT2,rho2=2,rho4=4,epsilon2=1e-12;function cosh(t){return((t=Math.exp(t))+1/t)/2}function sinh(t){return((t=Math.exp(t))-1/t)/2}function tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}function interpolateZoom(t,e){var r,a,i,n,o=t[0],s=t[1],u=t[2],c=e[0],t=e[1],e=e[2],l=c-o,f=t-s,c=l*l+f*f;return(n=c<epsilon2?(i=Math.log(e/u)/rho,function(t){return[o+t*l,s+t*f,u*Math.exp(rho*t*i)]}):(r=Math.sqrt(c),t=(e*e-u*u+rho4*c)/(2*u*rho2*r),n=(e*e-u*u-rho4*c)/(2*e*rho2*r),a=Math.log(Math.sqrt(t*t+1)-t),i=(Math.log(Math.sqrt(n*n+1)-n)-a)/rho,function(t){var e=t*i,n=cosh(a),t=u/(rho2*r)*(n*tanh(rho*e+a)-sinh(a));return[o+t*l,s+t*f,u*n/cosh(rho*e+a)]})).duration=1e3*i,n}function hsl$1(o){return function(e,t){var n=o((e=hsl(e)).h,(t=hsl(t)).h),r=nogamma(e.s,t.s),a=nogamma(e.l,t.l),i=nogamma(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=a(t),e.opacity=i(t),e+""}}}var hsl$2=hsl$1(hue),hslLong=hsl$1(nogamma);function lab$1(e,t){var n=nogamma((e=lab(e)).l,(t=lab(t)).l),r=nogamma(e.a,t.a),a=nogamma(e.b,t.b),i=nogamma(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=a(t),e.opacity=i(t),e+""}}function hcl$1(o){return function(e,t){var n=o((e=hcl(e)).h,(t=hcl(t)).h),r=nogamma(e.c,t.c),a=nogamma(e.l,t.l),i=nogamma(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=a(t),e.opacity=i(t),e+""}}}var hcl$2=hcl$1(hue),hclLong=hcl$1(nogamma);function cubehelix$1(s){return function t(o){function e(e,t){var n=s((e=cubehelix(e)).h,(t=cubehelix(t)).h),r=nogamma(e.s,t.s),a=nogamma(e.l,t.l),i=nogamma(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=a(Math.pow(t,o)),e.opacity=i(t),e+""}}return o=+o,e.gamma=t,e}(1)}var cubehelix$2=cubehelix$1(hue),cubehelixLong=cubehelix$1(nogamma);function quantize(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var taskHead,taskTail,frame=0,timeout=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now$1(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,n){var r=new Timer;return r.restart(t,e,n),r}function timerFlush(){now$1(),++frame;for(var t,e=taskHead;e;)0<=(t=clockNow-e._time)&&e._call.call(null,t),e=e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var t=clock.now(),e=t-clockLast;pokeDelay<e&&(clockSkew-=e,clockLast=t)}function nap(){for(var t,e,n=taskHead,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:taskHead=e);taskTail=t,sleep(r)}function sleep(t){frame||(timeout=timeout&&clearTimeout(timeout),24<t-clockNow?(t<1/0&&(timeout=setTimeout(wake,t-clock.now()-clockSkew)),interval=interval&&clearInterval(interval)):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}function timeout$1(e,n,t){var r=new Timer;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}function interval$1(n,r,a){var i=new Timer,o=r;return null==r?i.restart(n,r,a):(r=+r,a=null==a?now$1():+a,i.restart(function t(e){e+=o,i.restart(t,o+=r,a),n(e)},r,a)),i}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?now$1():+n)+(null==e?0:+e),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=t,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};create$1(t,n,{name:e,index:r,group:a,on:emptyOn,tween:emptyTween,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:CREATED})}function init(t,e){e=get$2(t,e);if(e.state>CREATED)throw new Error("too late; already scheduled");return e}function set$1(t,e){e=get$2(t,e);if(e.state>STARTING)throw new Error("too late; already started");return e}function get$2(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function create$1(i,o,s){var u,c=i.__transition;function l(t){var e,n,r,a;if(s.state!==SCHEDULED)return h();for(e in c)if((a=c[e]).name===s.name){if(a.state===STARTED)return timeout$1(l);a.state===RUNNING?(a.state=ENDED,a.timer.stop(),a.on.call("interrupt",i,i.__data__,a.index,a.group),delete c[e]):+e<o&&(a.state=ENDED,a.timer.stop(),delete c[e])}if(timeout$1(function(){s.state===STARTED&&(s.state=RUNNING,s.timer.restart(f,s.delay,s.time),f(t))}),s.state=STARTING,s.on.call("start",i,i.__data__,s.index,s.group),s.state===STARTING){for(s.state=STARTED,u=new Array(r=s.tween.length),e=0,n=-1;e<r;++e)(a=s.tween[e].value.call(i,i.__data__,s.index,s.group))&&(u[++n]=a);u.length=n+1}}function f(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(h),s.state=ENDING,1),n=-1,r=u.length;++n<r;)u[n].call(null,e);s.state===ENDING&&(s.on.call("end",i,i.__data__,s.index,s.group),h())}function h(){for(var t in s.state=ENDED,s.timer.stop(),delete c[o],c)return;delete i.__transition}(c[o]=s).timer=timer(function(t){s.state=SCHEDULED,s.timer.restart(l,s.delay,s.time),s.delay<=t&&l(t-s.delay)},0,s.time)}function interrupt(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>STARTING&&n.state<ENDING,n.state=ENDED,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}}function selection_interrupt(t){return this.each(function(){interrupt(this,t)})}function tweenRemove(a,i){var o,s;return function(){var t=set$1(this,a),e=t.tween;if(e!==o)for(var n=0,r=(s=o=e).length;n<r;++n)if(s[n].name===i){(s=s.slice()).splice(n,1);break}t.tween=s}}function tweenFunction(i,o,s){var u,c;if("function"!=typeof s)throw new Error;return function(){var t=set$1(this,i),e=t.tween;if(e!==u){c=(u=e).slice();for(var n={name:o,value:s},r=0,a=c.length;r<a;++r)if(c[r].name===o){c[r]=n;break}r===a&&c.push(n)}t.tween=c}}function transition_tween(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=get$2(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?tweenRemove:tweenFunction)(n,t,e))}function tweenValue(t,e,n){var r=t._id;return t.each(function(){var t=set$1(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return get$2(t,r).value[e]}}function interpolate(t,e){var n;return("number"==typeof e?reinterpolate:e instanceof color?interpolateRgb:(n=color(e))?(e=n,interpolateRgb):interpolateString)(t,e)}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(e,n,r){var a,i;return function(){var t=this.getAttribute(e);return t===r?null:t===a?i:i=n(a=t,r)}}function attrConstantNS$1(e,n,r){var a,i;return function(){var t=this.getAttributeNS(e.space,e.local);return t===r?null:t===a?i:i=n(a=t,r)}}function attrFunction$1(n,r,a){var i,o,s;return function(){var t,e=a(this);if(null!=e)return(t=this.getAttribute(n))===e?null:t===i&&e===o?s:s=r(i=t,o=e);this.removeAttribute(n)}}function attrFunctionNS$1(n,r,a){var i,o,s;return function(){var t,e=a(this);if(null!=e)return(t=this.getAttributeNS(n.space,n.local))===e?null:t===i&&e===o?s:s=r(i=t,o=e);this.removeAttributeNS(n.space,n.local)}}function transition_attr(t,e){var n=namespace(t),r="transform"===n?interpolateTransformSvg:interpolate;return this.attrTween(t,"function"==typeof e?(n.local?attrFunctionNS$1:attrFunction$1)(n,r,tweenValue(this,"attr."+t,e)):null==e?(n.local?attrRemoveNS$1:attrRemove$1)(n):(n.local?attrConstantNS$1:attrConstant$1)(n,r,e+""))}function attrTweenNS(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(r.space,r.local,n(t))}}return e._value=t,e}function attrTween(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(r,n(t))}}return e._value=t,e}function transition_attrTween(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;t=namespace(t);return this.tween(n,(t.local?attrTweenNS:attrTween)(t,e))}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function transition_delay(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction:delayConstant)(e,t)):get$2(this.node(),e).delay}function durationFunction(t,e){return function(){set$1(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){set$1(this,t).duration=e}}function transition_duration(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction:durationConstant)(e,t)):get$2(this.node(),e).duration}function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){set$1(this,t).ease=e}}function transition_ease(t){var e=this._id;return arguments.length?this.each(easeConstant(e,t)):get$2(this.node(),e).ease}function transition_filter(t){"function"!=typeof t&&(t=matcher$1(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,u=r[a]=[],c=0;c<s;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&u.push(i);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,a=Math.min(r,t),i=new Array(r),o=0;o<a;++o)for(var s,u=e[o],c=n[o],l=u.length,f=i[o]=new Array(l),h=0;h<l;++h)(s=u[h]||c[h])&&(f[h]=s);for(;o<r;++o)i[o]=e[o];return new Transition(i,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function onFunction(n,r,a){var i,o,s=start(r)?init:set$1;return function(){var t=s(this,n),e=t.on;e!==i&&(o=(i=e).copy()).on(r,a),t.on=o}}function transition_on(t,e){var n=this._id;return arguments.length<2?get$2(this.node(),n).on.on(t):this.each(onFunction(n,t,e))}function removeFunction(n){return function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=selector(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s,u,c=r[o],l=c.length,f=i[o]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,schedule(f[h],e,n,h,f,get$2(s,n)));return new Transition(i,this._parents,e,n)}function transition_selectAll(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=selectorAll(t));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=get$2(u,n),g=0,y=d.length;g<y;++g)(h=d[g])&&schedule(h,e,n,g,d,p);i.push(d),o.push(u)}return new Transition(i,o,e,n)}var Selection$1=selection.prototype.constructor;function transition_selection(){return new Selection$1(this._groups,this._parents)}function styleRemove$1(n,r){var a,i,o;return function(){var t=styleValue(this,n),e=(this.style.removeProperty(n),styleValue(this,n));return t===e?null:t===a&&e===i?o:o=r(a=t,i=e)}}function styleRemoveEnd(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(e,n,r){var a,i;return function(){var t=styleValue(this,e);return t===r?null:t===a?i:i=n(a=t,r)}}function styleFunction$1(n,r,a){var i,o,s;return function(){var t=styleValue(this,n),e=a(this);return null==e&&(this.style.removeProperty(n),e=styleValue(this,n)),t===e?null:t===i&&e===o?s:s=r(i=t,o=e)}}function transition_style(t,e,n){var r="transform"==(t+="")?interpolateTransformCss:interpolate;return null==e?this.styleTween(t,styleRemove$1(t,r)).on("end.style."+t,styleRemoveEnd(t)):this.styleTween(t,"function"==typeof e?styleFunction$1(t,r,tweenValue(this,"style."+t,e)):styleConstant$1(t,r,e+""),n)}function styleTween(r,t,a){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(r,n(t),a)}}return e._value=t,e}function transition_styleTween(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,styleTween(t,e,null==n?"":n))}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function transition_text(t){return this.tween("text","function"==typeof t?textFunction$1(tweenValue(this,"text",t)):textConstant$1(null==t?"":t+""))}function transition_transition(){for(var t=this._name,e=this._id,n=newId(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],u=s.length,c=0;c<u;++c)(o=s[c])&&schedule(o,t,n,c,s,{time:(o=get$2(o,e)).time+o.delay+o.duration,delay:0,duration:o.duration,ease:o.ease});return new Transition(r,this._parents,t,n)}var id=0;function Transition(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function transition(t){return selection().transition(t)}function newId(){return++id}var selection_prototype=selection.prototype;function linear$1(t){return+t}function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease};var exponent=3,polyIn=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(exponent),polyOut=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(exponent),polyInOut=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(exponent),pi=Math.PI,halfPi=pi/2;function sinIn(t){return 1-Math.cos(t*halfPi)}function sinOut(t){return Math.sin(t*halfPi)}function sinInOut(t){return(1-Math.cos(pi*t))/2}function expIn(t){return Math.pow(2,10*t-10)}function expOut(t){return 1-Math.pow(2,-10*t)}function expInOut(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var b1=4/11,b2=6/11,b3=8/11,b4=.75,b5=9/11,b6=10/11,b7=.9375,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<b1?b0*t*t:t<b3?b0*(t-=b2)*t+b4:t<b6?b0*(t-=b5)*t+b7:b0*(t-=b8)*t+b9}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var overshoot=1.70158,backIn=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(overshoot),backOut=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(overshoot),backInOut=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(overshoot),tau=2*Math.PI,amplitude=1,period=.3,elasticIn=function e(n,r){var a=Math.asin(1/(n=Math.max(1,n)))*(r/=tau);function t(t){return n*Math.pow(2,10*--t)*Math.sin((a-t)/r)}return t.amplitude=function(t){return e(t,r*tau)},t.period=function(t){return e(n,t)},t}(amplitude,period),elasticOut=function e(n,r){var a=Math.asin(1/(n=Math.max(1,n)))*(r/=tau);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+a)/r)}return t.amplitude=function(t){return e(t,r*tau)},t.period=function(t){return e(n,t)},t}(amplitude,period),elasticInOut=function e(n,r){var a=Math.asin(1/(n=Math.max(1,n)))*(r/=tau);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((a-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((a+t)/r))/2}return t.amplitude=function(t){return e(t,r*tau)},t.period=function(t){return e(n,t)},t}(amplitude,period),defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return defaultTiming.time=now$1(),defaultTiming;return n}function selection_transition(t){var e,n;t=t instanceof Transition?(e=t._id,t._name):(e=newId(),(n=defaultTiming).time=now$1(),null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],u=s.length,c=0;c<u;++c)(o=s[c])&&schedule(o,t,e,c,s,n||inherit(o,e));return new Transition(r,this._parents,t,e)}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;var root$2=[null];function active(t,e){var n,r,a=t.__transition;if(a)for(r in e=null==e?null:e+"",a)if((n=a[r]).state>SCHEDULED&&n.name===e)return new Transition([[t]],root$2,e,+r);return null}function constant$5(t){return function(){return t}}function BrushEvent(t,e,n){this.target=t,this.type=e,this.selection=n}function nopropagation$1(){event.stopImmediatePropagation()}function noevent$1(){event.preventDefault(),event.stopImmediatePropagation()}var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"},X={name:"x",handles:["e","w"].map(type),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Y={name:"y",handles:["n","s"].map(type),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},XY={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(type),input:function(t){return t},output:function(t){return t}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(t){return{type:t}}function defaultFilter$1(){return!event.button}function defaultExtent(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function local$1(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function empty$1(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function brushSelection(t){t=t.__brush;return t?t.dim.output(t.selection):null}function brushX(){return brush$1(X)}function brushY(){return brush$1(Y)}function brush(){return brush$1(XY)}function brush$1(O){var L,e=defaultExtent,D=defaultFilter$1,n=dispatch(a,"start","brush","end"),r=6;function a(t){var e=t.property("__brush",s).selectAll(".overlay").data([type("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(e).each(function(){var t=local$1(this).extent;select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");e=t.selectAll(".handle").data(O.handles,function(t){return t.type});e.exit().remove(),e.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return cursors[t.type]}),t.each(j).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",o)}function j(){var t=select(this),e=local$1(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function F(t,e){return t.__brush.emitter||new i(t,e)}function i(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function o(){if(event.touches){if(event.changedTouches.length<event.touches.length)return noevent$1()}else if(L)return;var e,n,r,a,i,o,t,s,u,c,l,f,h,d,p,g,y,_,m,$,v,b,x,w,T,S,E,M,C,k,N,A;function R(){var t=mouse(e);!w||T||S||(Math.abs(t[0]-M[0])>Math.abs(t[1]-M[1])?S=!0:T=!0),M=t,x=!0,noevent$1(),P()}function P(){var t;switch(v=M[0]-E[0],b=M[1]-E[1],r){case MODE_SPACE:case MODE_DRAG:a&&(v=Math.max(u-c,Math.min(p-g,v)),l=c+v,y=g+v),i&&(b=Math.max(f-h,Math.min(_-m,b)),d=h+b,$=m+b);break;case MODE_HANDLE:a<0?(v=Math.max(u-c,Math.min(p-c,v)),l=c+v,y=g):0<a&&(v=Math.max(u-g,Math.min(p-g,v)),l=c,y=g+v),i<0?(b=Math.max(f-h,Math.min(_-h,b)),d=h+b,$=m):0<i&&(b=Math.max(f-m,Math.min(_-m,b)),d=h,$=m+b);break;case MODE_CENTER:a&&(l=Math.max(u,Math.min(p,c-v*a)),y=Math.max(u,Math.min(p,g+v*a))),i&&(d=Math.max(f,Math.min(_,h-b*i)),$=Math.max(f,Math.min(_,m+b*i)))}y<l&&(a*=-1,t=c,c=g,g=t,t=l,l=y,y=t,n in flipX&&N.attr("cursor",cursors[n=flipX[n]])),$<d&&(i*=-1,t=h,h=m,m=t,t=d,d=$,$=t,n in flipY&&N.attr("cursor",cursors[n=flipY[n]])),o.selection&&(s=o.selection),T&&(l=s[0][0],y=s[1][0]),S&&(d=s[0][1],$=s[1][1]),s[0][0]===l&&s[0][1]===d&&s[1][0]===y&&s[1][1]===$||(o.selection=[[l,d],[y,$]],j.call(e),C.brush())}function I(){if(nopropagation$1(),event.touches){if(event.touches.length)return;L&&clearTimeout(L),L=setTimeout(function(){L=null},500),k.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yesdrag(event.view,x),A.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);k.attr("pointer-events","all"),N.attr("cursor",cursors.overlay),o.selection&&(s=o.selection),empty$1(s)&&(o.selection=null,j.call(e)),C.end()}D.apply(this,arguments)&&(e=this,n=event.target.__data__.type,r="selection"===(event.metaKey?n="overlay":n)?MODE_DRAG:event.altKey?MODE_CENTER:MODE_HANDLE,a=O===Y?null:signsX[n],i=O===X?null:signsY[n],t=(o=local$1(e)).extent,s=o.selection,u=t[0][0],f=t[0][1],p=t[1][0],_=t[1][1],w=a&&i&&event.shiftKey,E=mouse(e),M=E,C=F(e,arguments).beforestart(),"overlay"===n?o.selection=s=[[c=O===Y?u:E[0],h=O===X?f:E[1]],[g=O===Y?p:c,m=O===X?_:h]]:(c=s[0][0],h=s[0][1],g=s[1][0],m=s[1][1]),l=c,d=h,y=g,$=m,k=select(e).attr("pointer-events","none"),N=k.selectAll(".overlay").attr("cursor",cursors[n]),event.touches?k.on("touchmove.brush",R,!0).on("touchend.brush touchcancel.brush",I,!0):(A=select(event.view).on("keydown.brush",function(){switch(event.keyCode){case 16:w=a&&i;break;case 18:r===MODE_HANDLE&&(a&&(g=y-v*a,c=l+v*a),i&&(m=$-b*i,h=d+b*i),r=MODE_CENTER,P());break;case 32:r!==MODE_HANDLE&&r!==MODE_CENTER||(a<0?g=y-v:0<a&&(c=l-v),i<0?m=$-b:0<i&&(h=d-b),r=MODE_SPACE,N.attr("cursor",cursors.selection),P());break;default:return}noevent$1()},!0).on("keyup.brush",function(){switch(event.keyCode){case 16:w&&(T=S=w=!1,P());break;case 18:r===MODE_CENTER&&(a<0?g=y:0<a&&(c=l),i<0?m=$:0<i&&(h=d),r=MODE_HANDLE,P());break;case 32:r===MODE_SPACE&&(r=event.altKey?(a&&(g=y-v*a,c=l+v*a),i&&(m=$-b*i,h=d+b*i),MODE_CENTER):(a<0?g=y:0<a&&(c=l),i<0?m=$:0<i&&(h=d),MODE_HANDLE),N.attr("cursor",cursors[n]),P());break;default:return}noevent$1()},!0).on("mousemove.brush",R,!0).on("mouseup.brush",I,!0),dragDisable(event.view)),nopropagation$1(),interrupt(e),j.call(e),C.start())}function s(){var t=this.__brush||{selection:null};return t.extent=e.apply(this,arguments),t.dim=O,t}return a.move=function(t,s){t.selection?t.on("start.brush",function(){F(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){F(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,r=F(e,arguments),t=n.selection,a=O.input("function"==typeof s?s.apply(this,arguments):s,n.extent),i=interpolateValue(t,a);function o(t){n.selection=1===t&&empty$1(a)?null:i(t),j.call(e),r.brush()}return t&&a?o:o(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,r=O.input("function"==typeof s?s.apply(t,e):s,n.extent),e=F(t,e).beforestart();interrupt(t),n.selection=null==r||empty$1(r)?null:r,j.call(t),e.start().brush().end()})},i.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){customEvent(new BrushEvent(a,t,O.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},a.extent=function(t){return arguments.length?(e="function"==typeof t?t:constant$5([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),a):e},a.filter=function(t){return arguments.length?(D="function"==typeof t?t:constant$5(!!t),a):D},a.handleSize=function(t){return arguments.length?(r=+t,a):r},a.on=function(){var t=n.on.apply(n,arguments);return t===n?a:t},a}var cos=Math.cos,sin=Math.sin,pi$1=Math.PI,halfPi$1=pi$1/2,tau$1=2*pi$1,max$2=Math.max;function compareValue(n){return function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)}}function chord(){var b=0,x=null,w=null,T=null;function e(r){for(var t,e,n,a,i=r.length,o=[],s=sequence(i),u=[],c=[],l=c.groups=new Array(i),f=new Array(i*i),h=0,d=-1;++d<i;){for(t=0,a=-1;++a<i;)t+=r[d][a];o.push(t),u.push(sequence(i)),h+=t}for(x&&s.sort(function(t,e){return x(o[t],o[e])}),w&&u.forEach(function(t,n){t.sort(function(t,e){return w(r[n][t],r[n][e])})}),n=(h=max$2(0,tau$1-b*i)/h)?b:tau$1/i,t=0,d=-1;++d<i;){for(e=t,a=-1;++a<i;){var p=s[d],g=u[p][a],y=r[p][g],_=t,m=t+=y*h;f[g*i+p]={index:p,subindex:g,startAngle:_,endAngle:m,value:y}}l[p]={index:p,startAngle:e,endAngle:t,value:o[p]},t+=n}for(d=-1;++d<i;)for(a=d-1;++a<i;){var $=f[a*i+d],v=f[d*i+a];($.value||v.value)&&c.push($.value<v.value?{source:v,target:$}:{source:$,target:v})}return T?c.sort(T):c}return e.padAngle=function(t){return arguments.length?(b=max$2(0,t),e):b},e.sortGroups=function(t){return arguments.length?(x=t,e):x},e.sortSubgroups=function(t){return arguments.length?(w=t,e):w},e.sortChords=function(t){return arguments.length?(null==t?T=null:(T=compareValue(t))._=t,e):T&&T._},e}var slice$2=Array.prototype.slice;function constant$6(t){return function(){return t}}var pi$2=Math.PI,tau$2=2*pi$2,epsilon$1=1e-6,tauEpsilon=tau$2-epsilon$1;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function defaultSource(t){return t.source}function defaultTarget(t){return t.target}function defaultRadius(t){return t.radius}function defaultStartAngle(t){return t.startAngle}function defaultEndAngle(t){return t.endAngle}function ribbon(){var c=defaultSource,l=defaultTarget,f=defaultRadius,h=defaultStartAngle,d=defaultEndAngle,p=null;function e(){var t,e=slice$2.call(arguments),n=c.apply(this,e),r=l.apply(this,e),a=+f.apply(this,(e[0]=n,e)),i=h.apply(this,e)-halfPi$1,o=d.apply(this,e)-halfPi$1,s=a*cos(i),u=a*sin(i),n=+f.apply(this,(e[0]=r,e)),r=h.apply(this,e)-halfPi$1,e=d.apply(this,e)-halfPi$1;if((p=p||(t=path())).moveTo(s,u),p.arc(0,0,a,i,o),i==r&&o==e||(p.quadraticCurveTo(0,0,n*cos(r),n*sin(r)),p.arc(0,0,n,r,e)),p.quadraticCurveTo(0,0,s,u),p.closePath(),t)return p=null,t+""||null}return e.radius=function(t){return arguments.length?(f="function"==typeof t?t:constant$6(+t),e):f},e.startAngle=function(t){return arguments.length?(h="function"==typeof t?t:constant$6(+t),e):h},e.endAngle=function(t){return arguments.length?(d="function"==typeof t?t:constant$6(+t),e):d},e.source=function(t){return arguments.length?(c=t,e):c},e.target=function(t){return arguments.length?(l=t,e):l},e.context=function(t){return arguments.length?(p=null==t?null:t,e):p},e}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i,o,s=this._x1,u=this._y1,c=n-t,l=r-e,f=s-t,h=u-e,d=f*f+h*h;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):epsilon$1<d&&(Math.abs(h*c-l*f)>epsilon$1&&a?(o=c*c+l*l,s=(i=n-s)*i+(n=r-u)*n,r=Math.sqrt(o),u=Math.sqrt(d),u=(s=a*Math.tan((pi$2-Math.acos((o+d-s)/(2*r*u)))/2))/u,r=s/r,Math.abs(u-1)>epsilon$1&&(this._+="L"+(t+u*f)+","+(e+u*h)),this._+="A"+a+","+a+",0,0,"+ +(f*n<h*i)+","+(this._x1=t+r*c)+","+(this._y1=e+r*l)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,r,a,i){t=+t,e=+e;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+o,c=e+s,l=1^i,r=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>epsilon$1||Math.abs(this._y1-c)>epsilon$1)&&(this._+="L"+u+","+c),n&&(r<0&&(r=r%tau$2+tau$2),tauEpsilon<r?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):epsilon$1<r&&(this._+="A"+n+","+n+",0,"+ +(pi$2<=r)+","+l+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var prefix="$";function Map$1(){}function map$2(t,e){var n=new Map$1;if(t instanceof Map$1)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,a=-1,i=t.length;if(null==e)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e(r=t[a],a,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function nest(){var h,d,e,p=[],o=[];function g(t,n,r,a){if(n>=p.length)return null!=h&&t.sort(h),null!=d?d(t):t;for(var e,i,o,s=-1,u=t.length,c=p[n++],l=map$2(),f=r();++s<u;)(o=l.get(e=c(i=t[s])+""))?o.push(i):l.set(e,[i]);return l.each(function(t,e){a(f,e,g(t,n,r,a))}),f}return e={object:function(t){return g(t,0,createObject,setObject)},map:function(t){return g(t,0,createMap,setMap)},entries:function(t){return function n(t,r){if(++r>p.length)return t;var a,i=o[r-1];return null!=d&&r>=p.length?a=t.entries():(a=[],t.each(function(t,e){a.push({key:e,values:n(t,r)})})),null!=i?a.sort(function(t,e){return i(t.key,e.key)}):a}(g(t,0,createMap,setMap),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return o[p.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return d=t,e}}}function createObject(){return{}}function setObject(t,e,n){t[e]=n}function createMap(){return map$2()}function setMap(t,e,n){t.set(e,n)}function Set$1(){}Map$1.prototype=map$2.prototype={constructor:Map$1,has:function(t){return prefix+t in this},get:function(t){return this[prefix+t]},set:function(t,e){return this[prefix+t]=e,this},remove:function(t){t=prefix+t;return t in this&&delete this[t]},clear:function(){for(var t in this)t[0]===prefix&&delete this[t]},keys:function(){var t,e=[];for(t in this)t[0]===prefix&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)t[0]===prefix&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)t[0]===prefix&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)t[0]===prefix&&++e;return e},empty:function(){for(var t in this)if(t[0]===prefix)return!1;return!0},each:function(t){for(var e in this)e[0]===prefix&&t(this[e],e.slice(1),this)}};var proto=map$2.prototype;function set$2(t,e){var n=new Set$1;if(t instanceof Set$1)t.each(function(t){n.add(t)});else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}function keys$1(t){var e,n=[];for(e in t)n.push(e);return n}function values$1(t){var e,n=[];for(e in t)n.push(t[e]);return n}function entries(t){var e,n=[];for(e in t)n.push({key:e,value:t[e]});return n}Set$1.prototype=set$2.prototype={constructor:Set$1,has:proto.has,add:function(t){return this[prefix+(t+="")]=t,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function customConverter(n,r){var a=objectConverter(n);return function(t,e){return r(a(t),e,n)}}function inferColumns(t){var n=Object.create(null),r=[];return t.forEach(function(t){for(var e in t)e in n||r.push(n[e]=e)}),r}function dsv(r){var e=new RegExp('["'+r+"\n\r]"),f=r.charCodeAt(0);function i(r,t){var e,n=[],a=r.length,i=0,o=0,s=a<=0,u=!1;function c(){if(s)return EOF;if(u)return u=!1,EOL;var t,e,n=i;if(r.charCodeAt(n)===QUOTE){for(;i++<a&&r.charCodeAt(i)!==QUOTE||r.charCodeAt(++i)===QUOTE;);return(t=i)>=a?s=!0:(e=r.charCodeAt(i++))===NEWLINE?u=!0:e===RETURN&&(u=!0,r.charCodeAt(i)===NEWLINE&&++i),r.slice(n+1,t-1).replace(/""/g,'"')}for(;i<a;){if((e=r.charCodeAt(t=i++))===NEWLINE)u=!0;else if(e===RETURN)u=!0,r.charCodeAt(i)===NEWLINE&&++i;else if(e!==f)continue;return r.slice(n,t)}return s=!0,r.slice(n,a)}for(r.charCodeAt(a-1)===NEWLINE&&--a,r.charCodeAt(a-1)===RETURN&&--a;(e=c())!==EOF;){for(var l=[];e!==EOL&&e!==EOF;)l.push(e),e=c();t&&null==(l=t(l,o++))||n.push(l)}return n}function n(t){return t.map(a).join(r)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var r,a;return(t=i(t,function(t,e){return r?r(t,e-1):(a=t,void(r=n?customConverter(t,n):objectConverter(t)))})).columns=a||[],t},parseRows:i,format:function(t,n){return null==n&&(n=inferColumns(t)),[n.map(a).join(r)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(r)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}}var csv=dsv(","),csvParse=csv.parse,csvParseRows=csv.parseRows,csvFormat=csv.format,csvFormatRows=csv.formatRows,tsv=dsv("\t"),tsvParse=tsv.parse,tsvParseRows=tsv.parseRows,tsvFormat=tsv.format,tsvFormatRows=tsv.formatRows;function center$1(i,o){var s;function e(){for(var t,e=s.length,n=0,r=0,a=0;a<e;++a)n+=(t=s[a]).x,r+=t.y;for(n=n/e-i,r=r/e-o,a=0;a<e;++a)(t=s[a]).x-=n,t.y-=r}return null==i&&(i=0),null==o&&(o=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(i=+t,e):i},e.y=function(t){return arguments.length?(o=+t,e):o},e}function constant$7(t){return function(){return t}}function jiggle(){return 1e-6*(Math.random()-.5)}function tree_add(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return add(this.cover(e,n),e,n,t)}function add(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var a,i,o,s,u,c,l,f,h,d=t._root,p={data:r},g=t._x0,y=t._y0,_=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(i=(g+_)/2))?g=i:_=i,(l=n>=(o=(y+m)/2))?y=o:m=o,!(d=(a=d)[f=l<<1|c]))return a[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,a?a[f]=p:t._root=p,t;for(;a=a?a[f]=new Array(4):t._root=new Array(4),(c=e>=(i=(g+_)/2))?g=i:_=i,(l=n>=(o=(y+m)/2))?y=o:m=o,(f=l<<1|c)==(h=(o<=u)<<1|i<=s););return a[h]=d,a[f]=p,t}function addAll(t){for(var e,n,r,a=t.length,i=new Array(a),o=new Array(a),s=1/0,u=1/0,c=-1/0,l=-1/0,f=0;f<a;++f)isNaN(n=+this._x.call(null,e=t[f]))||isNaN(r=+this._y.call(null,e))||((i[f]=n)<s&&(s=n),c<n&&(c=n),(o[f]=r)<u&&(u=r),l<r&&(l=r));for(c<s&&(s=this._x0,c=this._x1),l<u&&(u=this._y0,l=this._y1),this.cover(s,u).cover(c,l),f=0;f<a;++f)add(this,i[f],o[f],t[f]);return this}function tree_cover(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{if(!(t<n||a<t||e<r||i<e))return this;var o,s,u=a-n,c=this._root;switch(s=(e<(r+i)/2)<<1|t<(n+a)/2){case 0:for(;o=new Array(4),o[s]=c,c=o,u*=2,a=n+u,i=r+u,a<t||i<e;);break;case 1:for(;o=new Array(4),o[s]=c,c=o,u*=2,n=a-u,i=r+u,t<n||i<e;);break;case 2:for(;o=new Array(4),o[s]=c,c=o,u*=2,a=n+u,r=i-u,a<t||e<r;);break;case 3:for(;o=new Array(4),o[s]=c,c=o,u*=2,n=a-u,r=i-u,t<n||e<r;);}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this}function tree_data(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e}function tree_extent(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(t,e,n,r,a){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=a}function tree_find(t,e,n){var r,a,i,o,s,u,c,l,f=this._x0,h=this._y0,d=this._x1,p=this._y1,g=[],y=this._root;for(y&&g.push(new Quad(y,f,h,d,p)),null==n?n=1/0:(f=t-n,h=e-n,d=t+n,p=e+n,n*=n);c=g.pop();)!(y=c.node)||(r=c.x0)>d||(a=c.y0)>p||(i=c.x1)<f||(o=c.y1)<h||(y.length?(s=(r+i)/2,u=(a+o)/2,g.push(new Quad(y[3],s,u,i,o),new Quad(y[2],r,u,s,o),new Quad(y[1],s,a,i,u),new Quad(y[0],r,a,s,u)),(s=(u<=e)<<1|s<=t)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-s],g[g.length-1-s]=c)):(c=(c=t-+this._x.call(null,y.data))*c+(c=e-+this._y.call(null,y.data))*c)<n&&(f=t-(c=Math.sqrt(n=c)),h=e-c,d=t+c,p=e+c,l=y.data));return l}function tree_remove(t){if(isNaN(i=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,a,i,o,s,u,c,l,f,h=this._root,d=this._x0,p=this._y0,g=this._x1,y=this._y1;if(!h)return this;if(h.length)for(;;){if((u=i>=(c=(d+g)/2))?d=c:g=c,(c=o>=(s=(p+y)/2))?p=s:y=s,!(h=(e=h)[l=c<<1|u]))return this;if(!h.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,f=l)}for(;h.data!==t;)if(!(h=(r=h).next))return this;return(a=h.next)&&delete h.next,r?a?r.next=a:delete r.next:e?(a?e[l]=a:delete e[l],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[f]=h:this._root=h)):this._root=a,this}function removeAll(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function tree_root(){return this._root}function tree_size(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e}function tree_visit(t){var e,n,r,a,i,o,s,u=[],c=this._root;for(c&&u.push(new Quad(c,this._x0,this._y0,this._x1,this._y1));e=u.pop();)!t(c=e.node,n=e.x0,r=e.y0,a=e.x1,i=e.y1)&&c.length&&(o=(n+a)/2,s=(r+i)/2,(e=c[3])&&u.push(new Quad(e,o,s,a,i)),(e=c[2])&&u.push(new Quad(e,n,s,o,i)),(e=c[1])&&u.push(new Quad(e,o,r,a,s)),(e=c[0])&&u.push(new Quad(e,n,r,o,s)));return this}function tree_visitAfter(t){var e,n=[],r=[];for(this._root&&n.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var a,i,o,s,u,c,l,f=e.node;f.length&&(i=e.x0,o=e.y0,c=(i+(s=e.x1))/2,l=(o+(u=e.y1))/2,(a=f[0])&&n.push(new Quad(a,i,o,c,l)),(a=f[1])&&n.push(new Quad(a,c,o,s,l)),(a=f[2])&&n.push(new Quad(a,i,l,c,u)),(a=f[3])&&n.push(new Quad(a,c,l,s,u))),r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function defaultX(t){return t[0]}function tree_x(t){return arguments.length?(this._x=t,this):this._x}function defaultY(t){return t[1]}function tree_y(t){return arguments.length?(this._y=t,this):this._y}function quadtree(t,e,n){n=new Quadtree(null==e?defaultX:e,null==n?defaultY:n,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function Quadtree(t,e,n,r,a,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function leaf_copy(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var treeProto=quadtree.prototype=Quadtree.prototype;function x(t){return t.x+t.vx}function y(t){return t.y+t.vy}function collide(r){var i,o,h=1,d=1;function e(){for(var t,e,s,u,c,l,f,n=i.length,r=0;r<d;++r)for(e=quadtree(i,x,y).visitAfter(p),t=0;t<n;++t)s=i[t],l=o[s.index],f=l*l,u=s.x+s.vx,c=s.y+s.vy,e.visit(a);function a(t,e,n,r,a){var i=t.data,o=t.r,t=l+o;if(!i)return u+t<e||r<u-t||c+t<n||a<c-t;i.index>s.index&&((a=(r=u-i.x-i.vx)*r+(n=c-i.y-i.vy)*n)<t*t&&(0===r&&(a+=(r=jiggle())*r),0===n&&(a+=(n=jiggle())*n),a=(t-(a=Math.sqrt(a)))/a*h,s.vx+=(r*=a)*(t=(o*=o)/(f+o)),s.vy+=(n*=a)*t,i.vx-=r*(t=1-t),i.vy-=n*t))}}function p(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(i){var t,e,n=i.length;for(o=new Array(n),t=0;t<n;++t)e=i[t],o[e.index]=+r(e,t,i)}}return"function"!=typeof r&&(r=constant$7(null==r?1:+r)),e.initialize=function(t){i=t,n()},e.iterations=function(t){return arguments.length?(d=+t,e):d},e.strength=function(t){return arguments.length?(h=+t,e):h},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:constant$7(+t),n(),e):r},e}function index(t){return t.index}function find$1(t,e){t=t.get(e);if(!t)throw new Error("missing: "+e);return t}function link(c){var l,f,i,o,h,s=index,n=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},r=constant$7(30),d=1;function e(t){for(var e=0,n=c.length;e<d;++e)for(var r,a,i,o,s,u=0;u<n;++u)r=(s=c[u]).source,i=(a=s.target).x+a.vx-r.x-r.vx||jiggle(),o=a.y+a.vy-r.y-r.vy||jiggle(),i*=s=((s=Math.sqrt(i*i+o*o))-f[u])/s*t*l[u],o*=s,a.vx-=i*(s=h[u]),a.vy-=o*s,r.vx+=i*(s=1-s),r.vy+=o*s}function a(){if(i){var t,e=i.length,n=c.length,r=map$2(i,s),a=0;for(o=new Array(e);a<n;++a)(t=c[a]).index=a,"object"!=typeof t.source&&(t.source=find$1(r,t.source)),"object"!=typeof t.target&&(t.target=find$1(r,t.target)),o[t.source.index]=(o[t.source.index]||0)+1,o[t.target.index]=(o[t.target.index]||0)+1;for(a=0,h=new Array(n);a<n;++a)t=c[a],h[a]=o[t.source.index]/(o[t.source.index]+o[t.target.index]);l=new Array(n),u(),f=new Array(n),p()}}function u(){if(i)for(var t=0,e=c.length;t<e;++t)l[t]=+n(c[t],t,c)}function p(){if(i)for(var t=0,e=c.length;t<e;++t)f[t]=+r(c[t],t,c)}return null==c&&(c=[]),e.initialize=function(t){i=t,a()},e.links=function(t){return arguments.length?(c=t,a(),e):c},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(d=+t,e):d},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:constant$7(+t),u(),e):n},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:constant$7(+t),p(),e):r},e}function x$1(t){return t.x}function y$1(t){return t.y}treeProto.copy=function(){var t,e,n=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=leaf_copy(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var a=0;a<4;++a)(e=r.source[a])&&(e.length?t.push({source:e,target:r.target[a]=new Array(4)}):r.target[a]=leaf_copy(e));return n},treeProto.add=tree_add,treeProto.addAll=addAll,treeProto.cover=tree_cover,treeProto.data=tree_data,treeProto.extent=tree_extent,treeProto.find=tree_find,treeProto.remove=tree_remove,treeProto.removeAll=removeAll,treeProto.root=tree_root,treeProto.size=tree_size,treeProto.visit=tree_visit,treeProto.visitAfter=tree_visitAfter,treeProto.x=tree_x,treeProto.y=tree_y;var prefixExponent,initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(u){var n,r=1,e=.001,a=1-Math.pow(e,1/300),i=0,o=.6,s=map$2(),t=timer(l),c=dispatch("tick","end");function l(){f(),c.call("tick",n),r<e&&(t.stop(),c.call("end",n))}function f(){var t,e,n=u.length;for(r+=(i-r)*a,s.each(function(t){t(r)}),t=0;t<n;++t)null==(e=u[t]).fx?e.x+=e.vx*=o:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=o:(e.y=e.fy,e.vy=0)}function h(){for(var t,e,n,r=0,a=u.length;r<a;++r)(n=u[r]).index=r,(isNaN(n.x)||isNaN(n.y))&&(t=initialRadius*Math.sqrt(r),e=r*initialAngle,n.x=t*Math.cos(e),n.y=t*Math.sin(e)),(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}function d(t){return t.initialize&&t.initialize(u),t}return null==u&&(u=[]),h(),n={tick:f,restart:function(){return t.restart(l),n},stop:function(){return t.stop(),n},nodes:function(t){return arguments.length?(u=t,h(),s.each(d),n):u},alpha:function(t){return arguments.length?(r=+t,n):r},alphaMin:function(t){return arguments.length?(e=+t,n):e},alphaDecay:function(t){return arguments.length?(a=+t,n):+a},alphaTarget:function(t){return arguments.length?(i=+t,n):i},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return 1<arguments.length?(null==e?s.remove(t):s.set(t,d(e)),n):s.get(t)},find:function(t,e,n){var r,a,i,o=0,s=u.length;for(null==n?n=1/0:n*=n,o=0;o<s;++o)(r=(r=t-(a=u[o]).x)*r+(r=e-a.y)*r)<n&&(i=a,n=r);return i},on:function(t,e){return 1<arguments.length?(c.on(t,e),n):c.on(t)}}}function manyBody(){var a,u,c,l,r=constant$7(-30),f=1,h=1/0,d=.81;function e(t){var e,n=a.length,r=quadtree(a,x$1,y$1).visitAfter(i);for(c=t,e=0;e<n;++e)u=a[e],r.visit(o)}function n(){if(a){var t,e,n=a.length;for(l=new Array(n),t=0;t<n;++t)e=a[t],l[e.index]=+r(e,t,a)}}function i(t){var e,n,r,a,i,o=0,s=0;if(t.length){for(r=a=i=0;i<4;++i)(e=t[i])&&(n=Math.abs(e.value))&&(o+=e.value,s+=n,r+=n*e.x,a+=n*e.y);t.x=r/s,t.y=a/s}else for(e=t,e.x=e.data.x,e.y=e.data.y;o+=l[e.data.index],e=e.next;);t.value=o}function o(t,e,n,r){if(!t.value)return!0;var a=t.x-u.x,i=t.y-u.y,o=r-e,s=a*a+i*i;if(o*o/d<s)return s<h&&(0===a&&(s+=(a=jiggle())*a),0===i&&(s+=(i=jiggle())*i),s<f&&(s=Math.sqrt(f*s)),u.vx+=a*t.value*c/s,u.vy+=i*t.value*c/s),!0;if(!(t.length||h<=s))for(t.data===u&&!t.next||(0===a&&(s+=(a=jiggle())*a),0===i&&(s+=(i=jiggle())*i),s<f&&(s=Math.sqrt(f*s)));t.data!==u&&(o=l[t.data.index]*c/s,u.vx+=a*o,u.vy+=i*o),t=t.next;);}return e.initialize=function(t){a=t,n()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:constant$7(+t),n(),e):r},e.distanceMin=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.distanceMax=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e}function radial(n,s,u){var c,l,f,r=constant$7(.1);function e(t){for(var e=0,n=c.length;e<n;++e){var r=c[e],a=r.x-s||1e-6,i=r.y-u||1e-6,o=Math.sqrt(a*a+i*i),o=(f[e]-o)*l[e]*t/o;r.vx+=a*o,r.vy+=i*o}}function a(){if(c){var t,e=c.length;for(l=new Array(e),f=new Array(e),t=0;t<e;++t)f[t]=+n(c[t],t,c),l[t]=isNaN(f[t])?0:+r(c[t],t,c)}}return"function"!=typeof n&&(n=constant$7(+n)),null==s&&(s=0),null==u&&(u=0),e.initialize=function(t){c=t,a()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:constant$7(+t),a(),e):r},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:constant$7(+t),a(),e):n},e.x=function(t){return arguments.length?(s=+t,e):s},e.y=function(t){return arguments.length?(u=+t,e):u},e}function x$2(n){var a,i,o,r=constant$7(.1);function e(t){for(var e,n=0,r=a.length;n<r;++n)(e=a[n]).vx+=(o[n]-e.x)*i[n]*t}function s(){if(a){var t,e=a.length;for(i=new Array(e),o=new Array(e),t=0;t<e;++t)i[t]=isNaN(o[t]=+n(a[t],t,a))?0:+r(a[t],t,a)}}return"function"!=typeof n&&(n=constant$7(null==n?0:+n)),e.initialize=function(t){a=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:constant$7(+t),s(),e):r},e.x=function(t){return arguments.length?(n="function"==typeof t?t:constant$7(+t),s(),e):n},e}function y$2(n){var a,i,o,r=constant$7(.1);function e(t){for(var e,n=0,r=a.length;n<r;++n)(e=a[n]).vy+=(o[n]-e.y)*i[n]*t}function s(){if(a){var t,e=a.length;for(i=new Array(e),o=new Array(e),t=0;t<e;++t)i[t]=isNaN(o[t]=+n(a[t],t,a))?0:+r(a[t],t,a)}}return"function"!=typeof n&&(n=constant$7(null==n?0:+n)),e.initialize=function(t){a=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:constant$7(+t),s(),e):r},e.y=function(t){return arguments.length?(n="function"==typeof t?t:constant$7(+t),s(),e):n},e}function formatDecimal(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,e=t.slice(0,n);return[1<e.length?e[0]+e.slice(2):e,+t.slice(n+1)]}function exponent$1(t){return(t=formatDecimal(Math.abs(t)))?t[1]:NaN}function formatGroup(s,u){return function(t,e){for(var n=t.length,r=[],a=0,i=s[0],o=0;0<n&&0<i&&(e<o+i+1&&(i=Math.max(1,e-o)),r.push(t.substring(n-=i,n+i)),!((o+=i+1)>e));)i=s[a=(a+1)%s.length];return r.reverse().join(u)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}function formatDefault(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,a=1,i=-1;a<r;++a)switch(t[a]){case".":i=n=a;break;case"0":0===i&&(i=a),n=a;break;case"e":break t;default:0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(n+1):t}function formatPrefixAuto(t,e){var n=formatDecimal(t,e);if(!n)return t+"";var r=n[0],a=n[1],n=a-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,a=r.length;return n===a?r:a<n?r+new Array(n-a+1).join("0"):0<n?r.slice(0,n)+"."+r.slice(n):"0."+new Array(1-n).join("0")+formatDecimal(t,Math.max(0,e+n-1))[0]}function formatRounded(t,e){e=formatDecimal(t,e);if(!e)return t+"";t=e[0],e=e[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}var formatTypes={"":formatDefault,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded(100*t,e)},r:formatRounded,s:formatPrefixAuto,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},re=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function formatSpecifier(t){return new FormatSpecifier(t)}function FormatSpecifier(t){if(!(u=re.exec(t)))throw new Error("invalid format: "+t);var e=u[1]||" ",n=u[2]||">",r=u[3]||"-",a=u[4]||"",i=!!u[5],o=u[6]&&+u[6],s=!!u[7],t=u[8]&&+u[8].slice(1),u=u[9]||"";"n"===u?(s=!0,u="g"):formatTypes[u]||(u=""),(i||"0"===e&&"="===n)&&(i=!0,e="0",n="="),this.fill=e,this.align=n,this.sign=r,this.symbol=a,this.zero=i,this.width=o,this.comma=s,this.precision=t,this.type=u}function identity$4(t){return t}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var locale,format,formatPrefix,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(t){var b=t.grouping&&t.thousands?formatGroup(t.grouping,t.thousands):identity$4,r=t.currency,x=t.decimal,w=t.numerals?formatNumerals(t.numerals):identity$4,a=t.percent||"%";function i(t){var c=(t=formatSpecifier(t)).fill,l=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,y=t.type,_="$"===e?r[0]:"#"===e&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",m="$"===e?r[1]:/[%p]/.test(y)?a:"",$=formatTypes[y],v=!y||/[defgprs%]/.test(y);function n(t){var e,n,r,a=_,i=m;if("c"===y)i=$(t)+i,t="";else{var o=(t=+t)<0;if(t=$(Math.abs(t),g),o&&0==+t&&(o=!1),a=(o?"("===f?f:"-":"-"===f||"("===f?"":f)+a,i=("s"===y?prefixes[8+prefixExponent/3]:"")+i+(o&&"("===f?")":""),v)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){i=(46===r?x+t.slice(e+1):t.slice(e))+i,t=t.slice(0,e);break}}p&&!h&&(t=b(t,1/0));var s=a.length+t.length+i.length,u=s<d?new Array(d-s+1).join(c):"";switch(p&&h&&(t=b(u+t,u.length?d-i.length:1/0),u=""),l){case"<":t=a+t+i+u;break;case"=":t=a+u+t+i;break;case"^":t=u.slice(0,s=u.length>>1)+a+t+i+u.slice(s);break;default:t=u+a+t+i}return w(t)}return g=null==g?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:i,formatPrefix:function(t,e){var n=i(((t=formatSpecifier(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(exponent$1(e)/3))),r=Math.pow(10,-e),a=prefixes[8+e/3];return function(t){return n(r*t)+a}}}}function defaultLocale(t){return locale=formatLocale(t),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(t){return Math.max(0,-exponent$1(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent$1(e)/3)))-exponent$1(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent$1(e)-exponent$1(t))+1}function adder(){return new Adder}function Adder(){this.reset()}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(t){add$1(temp,t,this.t),add$1(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add$1(t,e,n){var r=t.s=e+n,a=r-e,r=r-a;t.t=e-r+(n-a)}var epsilon$2=1e-6,epsilon2$1=1e-12,pi$3=Math.PI,halfPi$2=pi$3/2,quarterPi=pi$3/4,tau$3=2*pi$3,degrees$1=180/pi$3,radians=pi$3/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos$1=Math.cos,ceil=Math.ceil,exp=Math.exp,log=Math.log,pow=Math.pow,sin$1=Math.sin,sign=Math.sign||function(t){return 0<t?1:t<0?-1:0},sqrt=Math.sqrt,tan=Math.tan;function acos(t){return 1<t?0:t<-1?pi$3:Math.acos(t)}function asin(t){return 1<t?halfPi$2:t<-1?-halfPi$2:Math.asin(t)}function haversin(t){return(t=sin$1(t/2))*t}function noop$2(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)streamGeometry(n[r].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)streamLine(n[r],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)streamPolygon(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)streamGeometry(n[r],e)}};function streamLine(t,e,n){var r,a=-1,i=t.length-n;for(e.lineStart();++a<i;)r=t[a],e.point(r[0],r[1],r[2]);e.lineEnd()}function streamPolygon(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)streamLine(t[n],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}var lambda00,phi00,lambda0,cosPhi0,sinPhi0,areaRingSum=adder(),areaSum=adder(),areaStream={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaRingSum.reset(),areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var t=+areaRingSum;areaSum.add(t<0?tau$3+t:t),this.lineStart=this.lineEnd=this.point=noop$2},sphere:function(){areaSum.add(tau$3)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(t,e){areaStream.point=areaPoint,lambda00=t,phi00=e,lambda0=t*=radians,cosPhi0=cos$1(e=(e*=radians)/2+quarterPi),sinPhi0=sin$1(e)}function areaPoint(t,e){var n=(t*=radians)-lambda0,r=0<=n?1:-1,a=r*n,i=cos$1(e=(e*=radians)/2+quarterPi),o=sin$1(e),n=sinPhi0*o,e=cosPhi0*i+n*cos$1(a),a=n*r*sin$1(a);areaRingSum.add(atan2(a,e)),lambda0=t,cosPhi0=i,sinPhi0=o}function area(t){return areaSum.reset(),geoStream(t,areaStream),2*areaSum}function spherical(t){return[atan2(t[1],t[0]),asin(t[2])]}function cartesian(t){var e=t[0],n=t[1],t=cos$1(n);return[t*cos$1(e),t*sin$1(e),sin$1(n)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var lambda0$1,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,ranges,range$1,W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,lambda00$2,phi00$2,x0,y0,z0,deltaSum=adder(),boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum.reset(),areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(lambda0$1=-(lambda1=180),phi0=-(phi1=90)):epsilon$2<deltaSum?phi1=90:deltaSum<-epsilon$2&&(phi0=-90),range$1[0]=lambda0$1,range$1[1]=lambda1}};function boundsPoint(t,e){ranges.push(range$1=[lambda0$1=t,lambda1=t]),e<phi0&&(phi0=e),phi1<e&&(phi1=e)}function linePoint(t,e){var n,r,a,i,o,s=cartesian([t*radians,e*radians]);p0?(a=cartesianCross(p0,s),cartesianNormalizeInPlace(n=cartesianCross([a[1],-a[0],0],a)),n=spherical(n),r=0<(o=t-lambda2)?1:-1,a=n[0]*degrees$1*r,(o=180<abs(o))^(r*lambda2<a&&a<r*t)?(i=n[1]*degrees$1,phi1<i&&(phi1=i)):o^(r*lambda2<(a=(a+360)%360-180)&&a<r*t)?(i=-n[1]*degrees$1)<phi0&&(phi0=i):(e<phi0&&(phi0=e),phi1<e&&(phi1=e)),o?t<lambda2?angle(lambda0$1,t)>angle(lambda0$1,lambda1)&&(lambda1=t):angle(t,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=t):lambda0$1<=lambda1?(t<lambda0$1&&(lambda0$1=t),lambda1<t&&(lambda1=t)):lambda2<t?angle(lambda0$1,t)>angle(lambda0$1,lambda1)&&(lambda1=t):angle(t,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=t)):ranges.push(range$1=[lambda0$1=t,lambda1=t]),e<phi0&&(phi0=e),phi1<e&&(phi1=e),p0=s,lambda2=t}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){range$1[0]=lambda0$1,range$1[1]=lambda1,boundsStream.point=boundsPoint,p0=null}function boundsRingPoint(t,e){var n;p0?(n=t-lambda2,deltaSum.add(180<abs(n)?n+(0<n?360:-360):n)):(lambda00$1=t,phi00$1=e),areaStream.point(t,e),linePoint(t,e)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1),areaStream.lineEnd(),abs(deltaSum)>epsilon$2&&(lambda0$1=-(lambda1=180)),range$1[0]=lambda0$1,range$1[1]=lambda1,p0=null}function angle(t,e){return(e-=t)<0?e+360:e}function rangeCompare(t,e){return t[0]-e[0]}function rangeContains(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function bounds(t){var e,n,r,a,i,o,s;if(phi1=lambda1=-(lambda0$1=phi0=1/0),ranges=[],geoStream(t,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),e=1,i=[r=ranges[0]];e<n;++e)rangeContains(r,(a=ranges[e])[0])||rangeContains(r,a[1])?(angle(r[0],a[1])>angle(r[0],r[1])&&(r[1]=a[1]),angle(a[0],r[1])>angle(r[0],r[1])&&(r[0]=a[0])):i.push(r=a);for(o=-1/0,e=0,r=i[n=i.length-1];e<=n;r=a,++e)a=i[e],(s=angle(r[1],a[0]))>o&&(o=s,lambda0$1=a[0],lambda1=r[1])}return ranges=range$1=null,lambda0$1===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[lambda0$1,phi0],[lambda1,phi1]]}var centroidStream={sphere:noop$2,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(t,e){t*=radians;var n=cos$1(e*=radians);centroidPointCartesian(n*cos$1(t),n*sin$1(t),sin$1(e))}function centroidPointCartesian(t,e,n){X0+=(t-X0)/++W0,Y0+=(e-Y0)/W0,Z0+=(n-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(t,e){t*=radians;var n=cos$1(e*=radians);x0=n*cos$1(t),y0=n*sin$1(t),z0=sin$1(e),centroidStream.point=centroidLinePoint,centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(t,e){t*=radians;var n=cos$1(e*=radians),r=n*cos$1(t),n=n*sin$1(t),t=sin$1(e),e=atan2(sqrt((e=y0*t-z0*n)*e+(e=z0*r-x0*t)*e+(e=x0*n-y0*r)*e),x0*r+y0*n+z0*t);W1+=e,X1+=e*(x0+(x0=r)),Y1+=e*(y0+(y0=n)),Z1+=e*(z0+(z0=t)),centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(lambda00$2,phi00$2),centroidStream.point=centroidPoint}function centroidRingPointFirst(t,e){lambda00$2=t,phi00$2=e,t*=radians,e*=radians,centroidStream.point=centroidRingPoint;var n=cos$1(e);x0=n*cos$1(t),y0=n*sin$1(t),z0=sin$1(e),centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(t,e){t*=radians;var n=cos$1(e*=radians),r=n*cos$1(t),a=n*sin$1(t),i=sin$1(e),o=y0*i-z0*a,s=z0*r-x0*i,n=x0*a-y0*r,t=sqrt(o*o+s*s+n*n),e=asin(t),t=t&&-e/t;X2+=t*o,Y2+=t*s,Z2+=t*n,W1+=e,X1+=e*(x0+(x0=r)),Y1+=e*(y0+(y0=a)),Z1+=e*(z0+(z0=i)),centroidPointCartesian(x0,y0,z0)}function centroid(t){W0=W1=X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,geoStream(t,centroidStream);var e=X2,n=Y2,r=Z2,t=e*e+n*n+r*r;return t<epsilon2$1&&(e=X1,n=Y1,r=Z1,W1<epsilon$2&&(e=X0,n=Y0,r=Z0),(t=e*e+n*n+r*r)<epsilon2$1)?[NaN,NaN]:[atan2(n,e)*degrees$1,asin(r/sqrt(t))*degrees$1]}function constant$8(t){return function(){return t}}function compose(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function rotationIdentity(t,e){return[pi$3<t?t-tau$3:t<-pi$3?t+tau$3:t,e]}function rotateRadians(t,e,n){return(t%=tau$3)?e||n?compose(rotationLambda(t),rotationPhiGamma(e,n)):rotationLambda(t):e||n?rotationPhiGamma(e,n):rotationIdentity}function forwardRotationLambda(n){return function(t,e){return[pi$3<(t+=n)?t-tau$3:t<-pi$3?t+tau$3:t,e]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var a=cos$1(t),i=sin$1(t),o=cos$1(e),s=sin$1(e);function n(t,e){var n=cos$1(e),r=cos$1(t)*n,t=sin$1(t)*n,n=sin$1(e),e=n*a+r*i;return[atan2(t*o-e*s,r*a-n*i),asin(e*o+t*s)]}return n.invert=function(t,e){var n=cos$1(e),r=cos$1(t)*n,t=sin$1(t)*n,n=sin$1(e),e=n*o-t*s;return[atan2(t*o+n*s,r*a+e*i),asin(e*a-r*i)]},n}function rotation(e){function t(t){return(t=e(t[0]*radians,t[1]*radians))[0]*=degrees$1,t[1]*=degrees$1,t}return e=rotateRadians(e[0]*radians,e[1]*radians,2<e.length?e[2]*radians:0),t.invert=function(t){return(t=e.invert(t[0]*radians,t[1]*radians))[0]*=degrees$1,t[1]*=degrees$1,t},t}function circleStream(t,e,n,r,a,i){if(n){var o=cos$1(e),s=sin$1(e),u=r*n;null==a?(a=e+r*tau$3,i=e-u/2):(a=circleRadius(o,a),i=circleRadius(o,i),(0<r?a<i:i<a)&&(a+=r*tau$3));for(var c,l=a;0<r?i<l:l<i;l-=u)c=spherical([o,-s*cos$1(l),-s*sin$1(l)]),t.point(c[0],c[1])}}function circleRadius(t,e){(e=cartesian(e))[0]-=t,cartesianNormalizeInPlace(e);t=acos(-e[1]);return((-e[2]<0?-t:t)+tau$3-epsilon$2)%tau$3}function circle(){var r,a,i=constant$8([0,0]),o=constant$8(90),s=constant$8(6),u={point:function(t,e){r.push(t=a(t,e)),t[0]*=degrees$1,t[1]*=degrees$1}};function e(){var t=i.apply(this,arguments),e=o.apply(this,arguments)*radians,n=s.apply(this,arguments)*radians;return r=[],a=rotateRadians(-t[0]*radians,-t[1]*radians,0).invert,circleStream(u,e,n,1),t={type:"Polygon",coordinates:[r]},r=a=null,t}return e.center=function(t){return arguments.length?(i="function"==typeof t?t:constant$8([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:constant$8(+t),e):o},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:constant$8(+t),e):s},e}function clipBuffer(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:noop$2,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function pointEqual(t,e){return abs(t[0]-e[0])<epsilon$2&&abs(t[1]-e[1])<epsilon$2}function Intersection(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function clipRejoin(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(pointEqual(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new Intersection(r,t,null,!0)),u.push(n.o=new Intersection(r,null,n,!1)),s.push(n=new Intersection(a,t,null,!1)),u.push(n.o=new Intersection(a,null,n,!0))}}),s.length){for(u.sort(e),link$1(s),link$1(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;0<=o;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}}while(c=(h=h.o).z,d=!d,!h.v);i.lineEnd()}}}function link$1(t){if(e=t.length){for(var e,n,r=0,a=t[0];++r<e;)a.n=n=t[r],n.p=a,a=n;a.n=n=t[0],n.p=a}}rotationIdentity.invert=rotationIdentity;var sum$1=adder();function polygonContains(t,e){var n=e[0],r=e[1],a=[sin$1(n),-cos$1(n),0],i=0,o=0;sum$1.reset();for(var s=0,u=t.length;s<u;++s)if(l=(c=t[s]).length)for(var c,l,f=c[l-1],h=f[0],d=f[1]/2+quarterPi,p=sin$1(d),g=cos$1(d),y=0;y<l;++y,h=m,p=v,g=b,f=_){var _=c[y],m=_[0],$=_[1]/2+quarterPi,v=sin$1($),b=cos$1($),x=m-h,w=0<=x?1:-1,T=w*x,S=pi$3<T,$=p*v;sum$1.add(atan2($*w*sin$1(T),g*b+$*cos$1(T))),i+=S?x+w*tau$3:x,S^n<=h^n<=m&&(cartesianNormalizeInPlace(T=cartesianCross(cartesian(f),cartesian(_))),cartesianNormalizeInPlace(w=cartesianCross(a,T)),((w=(S^0<=x?-1:1)*asin(w[2]))<r||r===w&&(T[0]||T[1]))&&(o+=S^0<=x?1:-1))}return(i<-epsilon$2||i<epsilon$2&&sum$1<-epsilon$2)^1&o}function clip(y,_,m,$){return function(s){var u,c,l,n=_(s),f=clipBuffer(),h=_(f),d=!1,e={point:r,lineStart:a,lineEnd:i,polygonStart:function(){e.point=p,e.lineStart=o,e.lineEnd=g,c=[],u=[]},polygonEnd:function(){e.point=r,e.lineStart=a,e.lineEnd=i,c=merge$1(c);var t=polygonContains(u,$);c.length?(d||(s.polygonStart(),d=!0),clipRejoin(c,compareIntersection,t,m,s)):t&&(d||(s.polygonStart(),d=!0),s.lineStart(),m(null,null,1,s),s.lineEnd()),d&&(s.polygonEnd(),d=!1),c=u=null},sphere:function(){s.polygonStart(),s.lineStart(),m(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function r(t,e){y(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function a(){e.point=t,n.lineStart()}function i(){e.point=r,n.lineEnd()}function p(t,e){l.push([t,e]),h.point(t,e)}function o(){h.lineStart(),l=[]}function g(){p(l[0][0],l[0][1]),h.lineEnd();var t,e,n,r,a=h.clean(),i=f.result(),o=i.length;if(l.pop(),u.push(l),l=null,o)if(1&a){if(0<(e=(n=i[0]).length-1)){for(d||(s.polygonStart(),d=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<o&&2&a&&i.push(i.pop().concat(i.shift())),c.push(i.filter(validSegment))}return e}}function validSegment(t){return 1<t.length}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-halfPi$2-epsilon$2:halfPi$2-t[1])-((e=e.x)[0]<0?e[1]-halfPi$2-epsilon$2:halfPi$2-e[1])}var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$3,-halfPi$2]);function clipAntimeridianLine(a){var i,o=NaN,s=NaN,u=NaN;return{lineStart:function(){a.lineStart(),i=1},point:function(t,e){var n=0<t?pi$3:-pi$3,r=abs(t-o);abs(r-pi$3)<epsilon$2?(a.point(o,s=0<(s+e)/2?halfPi$2:-halfPi$2),a.point(u,s),a.lineEnd(),a.lineStart(),a.point(n,s),a.point(t,s),i=0):u!==n&&pi$3<=r&&(abs(o-u)<epsilon$2&&(o-=u*epsilon$2),abs(t-n)<epsilon$2&&(t-=n*epsilon$2),s=clipAntimeridianIntersect(o,s,t,e),a.point(u,s),a.lineEnd(),a.lineStart(),a.point(n,s),i=0),a.point(o=t,s=e),u=n},lineEnd:function(){a.lineEnd(),o=s=NaN},clean:function(){return 2-i}}}function clipAntimeridianIntersect(t,e,n,r){var a,i=sin$1(t-n);return abs(i)>epsilon$2?atan((sin$1(e)*(a=cos$1(r))*sin$1(n)-sin$1(r)*(n=cos$1(e))*sin$1(t))/(n*a*i)):(e+r)/2}function clipAntimeridianInterpolate(t,e,n,r){var a;null==t?(a=n*halfPi$2,r.point(-pi$3,a),r.point(0,a),r.point(pi$3,a),r.point(pi$3,0),r.point(pi$3,-a),r.point(0,-a),r.point(-pi$3,-a),r.point(-pi$3,0),r.point(-pi$3,a)):abs(t[0]-e[0])>epsilon$2?(a=n*(t=t[0]<e[0]?pi$3:-pi$3)/2,r.point(-t,a),r.point(0,a),r.point(t,a)):r.point(e[0],e[1])}function clipCircle(a){var d=cos$1(a),i=6*radians,h=0<d,p=abs(d)>epsilon$2;function g(t,e){return cos$1(t)*cos$1(e)>d}function y(t,e,n){var r=[1,0,0],a=cartesianCross(cartesian(t),cartesian(e)),i=cartesianDot(a,a),o=a[0],s=i-o*o;if(!s)return!n&&t;var u=d*i/s,c=-d*o/s,l=cartesianCross(r,a),f=cartesianScale(r,u);cartesianAddInPlace(f,cartesianScale(a,c));i=l,o=cartesianDot(f,i),s=cartesianDot(i,i),r=o*o-s*(cartesianDot(f,f)-1);if(!(r<0)){u=sqrt(r),a=cartesianScale(i,(-o-u)/s);if(cartesianAddInPlace(a,f),a=spherical(a),!n)return a;var h,c=t[0],l=e[0],r=t[1],n=e[1];l<c&&(h=c,c=l,l=h);t=l-c,e=abs(t-pi$3)<epsilon$2;if(!e&&n<r&&(h=r,r=n,n=h),e||t<epsilon$2?e?0<r+n^a[1]<(abs(a[0]-c)<epsilon$2?r:n):r<=a[1]&&a[1]<=n:pi$3<t^(c<=a[0]&&a[0]<=l)){s=cartesianScale(i,(-o+u)/s);return cartesianAddInPlace(s,f),[a,spherical(s)]}}}function _(t,e){var n=h?a:pi$3-a,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return clip(g,function(o){var s,u,c,l,f;return{lineStart:function(){l=c=!1,f=1},point:function(t,e){var n,r,a=[t,e],i=g(t,e),e=h?i?0:_(t,e):i?_(t+(t<0?pi$3:-pi$3),e):0;!s&&(l=c=i)&&o.lineStart(),i!==c&&((n=y(s,a))&&!pointEqual(s,n)&&!pointEqual(a,n)||(a[0]+=epsilon$2,a[1]+=epsilon$2,i=g(a[0],a[1]))),i!==c?(f=0,i?(o.lineStart(),n=y(a,s),o.point(n[0],n[1])):(n=y(s,a),o.point(n[0],n[1]),o.lineEnd()),s=n):p&&s&&h^i&&(e&u||!(r=y(a,s,!0))||(f=0,h?(o.lineStart(),o.point(r[0][0],r[0][1]),o.point(r[1][0],r[1][1]),o.lineEnd()):(o.point(r[1][0],r[1][1]),o.lineEnd(),o.lineStart(),o.point(r[0][0],r[0][1])))),!i||s&&pointEqual(s,a)||o.point(a[0],a[1]),s=a,c=i,u=e},lineEnd:function(){c&&o.lineEnd(),s=null},clean:function(){return f|(l&&c)<<1}}},function(t,e,n,r){circleStream(r,a,i,n,t,e)},h?[0,-a]:[-pi$3,a-pi$3])}function clipLine(t,e,n,r,a,i){var o=t[0],s=t[1],u=0,c=1,l=e[0]-o,f=e[1]-s,n=n-o;if(l||!(0<n)){if(n/=l,l<0){if(n<u)return;n<c&&(c=n)}else if(0<l){if(c<n)return;u<n&&(u=n)}if(n=a-o,l||!(n<0)){if(n/=l,l<0){if(c<n)return;u<n&&(u=n)}else if(0<l){if(n<u)return;n<c&&(c=n)}if(n=r-s,f||!(0<n)){if(n/=f,f<0){if(n<u)return;n<c&&(c=n)}else if(0<f){if(c<n)return;u<n&&(u=n)}if(n=i-s,f||!(n<0)){if(n/=f,f<0){if(c<n)return;u<n&&(u=n)}else if(0<f){if(n<u)return;n<c&&(c=n)}return 0<u&&(t[0]=o+u*l,t[1]=s+u*f),c<1&&(e[0]=o+c*l,e[1]=s+c*f),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(_,m,$,v){function b(t,e){return _<=t&&t<=$&&m<=e&&e<=v}function x(t,e,n,r){var a=0,i=0;if(null==t||(a=o(t,n))!==(i=o(e,n))||s(t,e)<0^0<n)for(;r.point(0===a||3===a?_:$,1<a?v:m),(a=(a+n+4)%4)!==i;);else r.point(e[0],e[1])}function o(t,e){return abs(t[0]-_)<epsilon$2?0<e?0:3:abs(t[0]-$)<epsilon$2?0<e?2:1:abs(t[1]-m)<epsilon$2?0<e?1:0:0<e?3:2}function w(t,e){return s(t.x,e.x)}function s(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var a,f,i,o,s,u,c,l,h,d,p,g=r,t=clipBuffer(),e={point:n,lineStart:function(){e.point=y,f&&f.push(i=[]);d=!0,h=!1,c=l=NaN},lineEnd:function(){a&&(y(o,s),u&&h&&t.rejoin(),a.push(t.result()));e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,a=[],f=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,a,i=f[e],o=1,s=i.length,u=i[0],c=u[0],l=u[1];o<s;++o)r=c,a=l,u=i[o],c=u[0],l=u[1],a<=v?v<l&&(l-a)*(_-r)<(c-r)*(v-a)&&++t:l<=v&&(c-r)*(v-a)<(l-a)*(_-r)&&--t;return t}(),e=p&&t,n=(a=merge$1(a)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),x(null,null,1,r),r.lineEnd()),n&&clipRejoin(a,w,t,x,r),r.polygonEnd());g=r,a=f=i=null}};function n(t,e){b(t,e)&&g.point(t,e)}function y(t,e){var n,r,a=b(t,e);f&&i.push([t,e]),d?(o=t,s=e,d=!1,(u=a)&&(g.lineStart(),g.point(t,e))):a&&h?g.point(t,e):clipLine(n=[c=Math.max(clipMin,Math.min(clipMax,c)),l=Math.max(clipMin,Math.min(clipMax,l))],r=[t=Math.max(clipMin,Math.min(clipMax,t)),e=Math.max(clipMin,Math.min(clipMax,e))],_,m,$,v)?(h||(g.lineStart(),g.point(n[0],n[1])),g.point(r[0],r[1]),a||g.lineEnd(),p=!1):a&&(g.lineStart(),g.point(t,e),p=!1),c=t,l=e,h=a}return e}}function extent$1(){var e,n,r,a=0,i=0,o=960,s=500;return r={stream:function(t){return e&&n===t?e:e=clipRectangle(a,i,o,s)(n=t)},extent:function(t){return arguments.length?(a=+t[0][0],i=+t[0][1],o=+t[1][0],s=+t[1][1],e=n=null,r):[[a,i],[o,s]]}}}var lambda0$2,sinPhi0$1,cosPhi0$1,lengthSum=adder(),lengthStream={sphere:noop$2,point:noop$2,lineStart:lengthLineStart,lineEnd:noop$2,polygonStart:noop$2,polygonEnd:noop$2};function lengthLineStart(){lengthStream.point=lengthPointFirst,lengthStream.lineEnd=lengthLineEnd}function lengthLineEnd(){lengthStream.point=lengthStream.lineEnd=noop$2}function lengthPointFirst(t,e){lambda0$2=t*=radians,sinPhi0$1=sin$1(e*=radians),cosPhi0$1=cos$1(e),lengthStream.point=lengthPoint}function lengthPoint(t,e){t*=radians;var n=sin$1(e*=radians),r=cos$1(e),a=abs(t-lambda0$2),i=cos$1(a),e=r*sin$1(a),a=cosPhi0$1*n-sinPhi0$1*r*i,i=sinPhi0$1*n+cosPhi0$1*r*i;lengthSum.add(atan2(sqrt(e*e+a*a),i)),lambda0$2=t,sinPhi0$1=n,cosPhi0$1=r}function length$1(t){return lengthSum.reset(),geoStream(t,lengthStream),+lengthSum}var coordinates=[null,null],object$1={type:"LineString",coordinates:coordinates};function distance(t,e){return coordinates[0]=t,coordinates[1]=e,length$1(object$1)}var containsObjectType={Feature:function(t,e){return containsGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)if(containsGeometry(n[r].geometry,e))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(t,e){return containsPoint(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)if(containsPoint(n[r],e))return!0;return!1},LineString:function(t,e){return containsLine(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)if(containsLine(n[r],e))return!0;return!1},Polygon:function(t,e){return containsPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)if(containsPolygon(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)if(containsGeometry(n[r],e))return!0;return!1}};function containsGeometry(t,e){return!(!t||!containsGeometryType.hasOwnProperty(t.type))&&containsGeometryType[t.type](t,e)}function containsPoint(t,e){return 0===distance(t,e)}function containsLine(t,e){var n=distance(t[0],t[1]);return distance(t[0],e)+distance(e,t[1])<=n+epsilon$2}function containsPolygon(t,e){return!!polygonContains(t.map(ringRadians),pointRadians(e))}function ringRadians(t){return(t=t.map(pointRadians)).pop(),t}function pointRadians(t){return[t[0]*radians,t[1]*radians]}function contains(t,e){return(t&&containsObjectType.hasOwnProperty(t.type)?containsObjectType[t.type]:containsGeometry)(t,e)}function graticuleX(t,e,n){var r=sequence(t,e-epsilon$2,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function graticuleY(t,e,n){var r=sequence(t,e-epsilon$2,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function graticule(){var e,n,r,a,i,o,s,u,c,l,f,h,d=10,p=d,g=90,y=360,_=2.5;function m(){return{type:"MultiLineString",coordinates:t()}}function t(){return sequence(ceil(a/g)*g,r,g).map(f).concat(sequence(ceil(u/y)*y,s,y).map(h)).concat(sequence(ceil(n/d)*d,e,d).filter(function(t){return abs(t%g)>epsilon$2}).map(c)).concat(sequence(ceil(o/p)*p,i,p).filter(function(t){return abs(t%y)>epsilon$2}).map(l))}return m.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(a=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],r<a&&(t=a,a=r,r=t),s<u&&(t=u,u=s,s=t),m.precision(_)):[[a,u],[r,s]]},m.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],o=+t[0][1],i=+t[1][1],e<n&&(t=n,n=e,e=t),i<o&&(t=o,o=i,i=t),m.precision(_)):[[n,o],[e,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(g=+t[0],y=+t[1],m):[g,y]},m.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],m):[d,p]},m.precision=function(t){return arguments.length?(_=+t,c=graticuleX(o,i,90),l=graticuleY(n,e,_),f=graticuleX(u,s,90),h=graticuleY(a,r,_),m):_},m.extentMajor([[-180,-90+epsilon$2],[180,90-epsilon$2]]).extentMinor([[-180,-80-epsilon$2],[180,80+epsilon$2]])}function graticule10(){return graticule()()}function interpolate$1(t,e){var n=t[0]*radians,r=t[1]*radians,a=e[0]*radians,i=e[1]*radians,t=cos$1(r),o=sin$1(r),e=cos$1(i),s=sin$1(i),u=t*cos$1(n),c=t*sin$1(n),l=e*cos$1(a),f=e*sin$1(a),h=2*asin(sqrt(haversin(i-r)+t*e*haversin(a-n))),d=sin$1(h),a=h?function(t){var e=sin$1(t*=h)/d,n=sin$1(h-t)/d,r=n*u+e*l,t=n*c+e*f,e=n*o+e*s;return[atan2(t,r)*degrees$1,atan2(e,sqrt(r*r+t*t))*degrees$1]}:function(){return[n*degrees$1,r*degrees$1]};return a.distance=h,a}function identity$5(t){return t}var x00,y00,x0$1,y0$1,areaSum$1=adder(),areaRingSum$1=adder(),areaStream$1={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaStream$1.lineStart=areaRingStart$1,areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){areaStream$1.lineStart=areaStream$1.lineEnd=areaStream$1.point=noop$2,areaSum$1.add(abs(areaRingSum$1)),areaRingSum$1.reset()},result:function(){var t=areaSum$1/2;return areaSum$1.reset(),t}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaPointFirst$1(t,e){areaStream$1.point=areaPoint$1,x00=x0$1=t,y00=y0$1=e}function areaPoint$1(t,e){areaRingSum$1.add(y0$1*t-x0$1*e),x0$1=t,y0$1=e}function areaRingEnd$1(){areaPoint$1(x00,y00)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream$1={point:boundsPoint$1,lineStart:noop$2,lineEnd:noop$2,polygonStart:noop$2,polygonEnd:noop$2,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint$1(t,e){t<x0$2&&(x0$2=t),x1<t&&(x1=t),e<y0$2&&(y0$2=e),y1<e&&(y1=e)}var x00$1,y00$1,x0$3,y0$3,X0$1=0,Y0$1=0,Z0$1=0,X1$1=0,Y1$1=0,Z1$1=0,X2$1=0,Y2$1=0,Z2$1=0,centroidStream$1={point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1,centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.point=centroidPoint$1,centroidStream$1.lineStart=centroidLineStart$1,centroidStream$1.lineEnd=centroidLineEnd$1},result:function(){var t=Z2$1?[X2$1/Z2$1,Y2$1/Z2$1]:Z1$1?[X1$1/Z1$1,Y1$1/Z1$1]:Z0$1?[X0$1/Z0$1,Y0$1/Z0$1]:[NaN,NaN];return X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=X2$1=Y2$1=Z2$1=0,t}};function centroidPoint$1(t,e){X0$1+=t,Y0$1+=e,++Z0$1}function centroidLineStart$1(){centroidStream$1.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){centroidStream$1.point=centroidPointLine,centroidPoint$1(x0$3=t,y0$3=e)}function centroidPointLine(t,e){var n=t-x0$3,r=e-y0$3,r=sqrt(n*n+r*r);X1$1+=r*(x0$3+t)/2,Y1$1+=r*(y0$3+e)/2,Z1$1+=r,centroidPoint$1(x0$3=t,y0$3=e)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidPointFirstRing}function centroidRingEnd$1(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,e){centroidStream$1.point=centroidPointRing,centroidPoint$1(x00$1=x0$3=t,y00$1=y0$3=e)}function centroidPointRing(t,e){var n=t-x0$3,r=e-y0$3,r=sqrt(n*n+r*r);X1$1+=r*(x0$3+t)/2,Y1$1+=r*(y0$3+e)/2,Z1$1+=r,X2$1+=(r=y0$3*t-x0$3*e)*(x0$3+t),Y2$1+=r*(y0$3+e),Z2$1+=3*r,centroidPoint$1(x0$3=t,y0$3=e)}function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tau$3)}},result:noop$2};var lengthRing,x00$2,y00$2,x0$4,y0$4,lengthSum$1=adder(),lengthStream$1={point:noop$2,lineStart:function(){lengthStream$1.point=lengthPointFirst$1},lineEnd:function(){lengthRing&&lengthPoint$1(x00$2,y00$2),lengthStream$1.point=noop$2},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum$1;return lengthSum$1.reset(),t}};function lengthPointFirst$1(t,e){lengthStream$1.point=lengthPoint$1,x00$2=x0$4=t,y00$2=y0$4=e}function lengthPoint$1(t,e){x0$4-=t,y0$4-=e,lengthSum$1.add(sqrt(x0$4*x0$4+y0$4*y0$4)),x0$4=t,y0$4=e}function PathString(){this._string=[]}function circle$1(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function index$1(e,n){var r,a,i=4.5;function o(t){return t&&("function"==typeof i&&a.pointRadius(+i.apply(this,arguments)),geoStream(t,r(a))),a.result()}return o.area=function(t){return geoStream(t,r(areaStream$1)),areaStream$1.result()},o.measure=function(t){return geoStream(t,r(lengthStream$1)),lengthStream$1.result()},o.bounds=function(t){return geoStream(t,r(boundsStream$1)),boundsStream$1.result()},o.centroid=function(t){return geoStream(t,r(centroidStream$1)),centroidStream$1.result()},o.projection=function(t){return arguments.length?(r=null==t?(e=null,identity$5):(e=t).stream,o):e},o.context=function(t){return arguments.length?(a=null==t?(n=null,new PathString):new PathContext(n=t),"function"!=typeof i&&a.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(a.pointRadius(+t),+t),o):i},o.projection(e).context(n)}function transform$1(t){return{stream:transformer(t)}}function transformer(r){return function(t){var e,n=new TransformStream;for(e in r)n[e]=r[e];return n.stream=t,n}}function TransformStream(){}function fit(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),geoStream(n,t.stream(boundsStream$1)),e(boundsStream$1.result()),null!=r&&t.clipExtent(r),t}function fitExtent(a,i,t){return fit(a,function(t){var e=i[1][0]-i[0][0],n=i[1][1]-i[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),e=+i[0][0]+(e-r*(t[1][0]+t[0][0]))/2,t=+i[0][1]+(n-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([e,t])},t)}function fitSize(t,e,n){return fitExtent(t,[[0,0],e],n)}function fitWidth(r,a,t){return fit(r,function(t){var e=+a,n=e/(t[1][0]-t[0][0]),e=(e-n*(t[1][0]+t[0][0]))/2,t=-n*t[0][1];r.scale(150*n).translate([e,t])},t)}function fitHeight(a,i,t){return fit(a,function(t){var e=+i,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],t=(e-n*(t[1][1]+t[0][1]))/2;a.scale(150*n).translate([r,t])},t)}PathString.prototype={_radius:4.5,_circle:circle$1(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=circle$1(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos$1(30*radians);function resample(t,e){return+e?resample$1(t,e):resampleNone(t)}function resampleNone(n){return transformer({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function resample$1(M,C){function k(t,e,n,r,a,i,o,s,u,c,l,f,h,d){var p,g,y,_,m,$,v,b,x,w,T=o-t,S=s-e,E=T*T+S*S;4*C<E&&h--&&(y=i+f,x=asin(y/=_=sqrt((p=r+c)*p+(g=a+l)*g+y*y)),m=abs(abs(y)-1)<epsilon$2||abs(n-u)<epsilon$2?(n+u)/2:atan2(g,p),$=(w=M(m,x))[0],v=w[1],(C<(w=S*(b=$-t)-T*(x=v-e))*w/E||.3<abs((T*b+S*x)/E-.5)||r*c+a*l+i*f<cosMinDistance)&&(k(t,e,n,r,a,i,$,v,m,p/=_,g/=_,y,h,d),d.point($,v),k($,v,m,p,g,y,o,s,u,c,l,f,h,d)))}return function(r){var n,a,i,o,s,u,c,l,f,h,d,p,g={point:t,lineStart:e,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=m},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=M(t,e),r.point(t[0],t[1])}function e(){l=NaN,g.point=y,r.lineStart()}function y(t,e){var n=cartesian([t,e]),e=M(t,e);k(l,f,c,h,d,p,l=e[0],f=e[1],c=t,h=n[0],d=n[1],p=n[2],maxDepth,r),r.point(l,f)}function _(){g.point=t,r.lineEnd()}function m(){e(),g.point=$,g.lineEnd=v}function $(t,e){y(n=t,e),a=l,i=f,o=h,s=d,u=p,g.point=y}function v(){k(l,f,c,h,d,p,a,i,n,o,s,u,maxDepth,r),g.lineEnd=_,_()}return g}}var transformRadians=transformer({point:function(t,e){this.stream.point(t*radians,e*radians)}});function transformRotate(n){return transformer({point:function(t,e){e=n(t,e);return this.stream.point(e[0],e[1])}})}function projection(t){return projectionMutator(function(){return t})()}function projectionMutator(t){var n,r,a,e,i,o,s,u,c,l,f=150,h=480,d=250,p=0,g=0,y=0,_=0,m=0,$=null,v=clipAntimeridian,b=null,x=identity$5,w=.5,T=resample(M,w);function S(t){return[(t=i(t[0]*radians,t[1]*radians))[0]*f+r,a-t[1]*f]}function E(t){return(t=i.invert((t[0]-r)/f,(a-t[1])/f))&&[t[0]*degrees$1,t[1]*degrees$1]}function M(t,e){return[(t=n(t,e))[0]*f+r,a-t[1]*f]}function C(){i=compose(e=rotateRadians(y,_,m),n);var t=n(p,g);return r=h-t[0]*f,a=d+t[1]*f,k()}function k(){return c=l=null,S}return S.stream=function(t){return c&&l===t?c:c=transformRadians(transformRotate(e)(v(T(x(l=t)))))},S.preclip=function(t){return arguments.length?(v=t,$=void 0,k()):v},S.postclip=function(t){return arguments.length?(x=t,b=o=s=u=null,k()):x},S.clipAngle=function(t){return arguments.length?(v=+t?clipCircle($=t*radians):($=null,clipAntimeridian),k()):$*degrees$1},S.clipExtent=function(t){return arguments.length?(x=null==t?(b=o=s=u=null,identity$5):clipRectangle(b=+t[0][0],o=+t[0][1],s=+t[1][0],u=+t[1][1]),k()):null==b?null:[[b,o],[s,u]]},S.scale=function(t){return arguments.length?(f=+t,C()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*radians,g=t[1]%360*radians,C()):[p*degrees$1,g*degrees$1]},S.rotate=function(t){return arguments.length?(y=t[0]%360*radians,_=t[1]%360*radians,m=2<t.length?t[2]%360*radians:0,C()):[y*degrees$1,_*degrees$1,m*degrees$1]},S.precision=function(t){return arguments.length?(T=resample(M,w=t*t),k()):sqrt(w)},S.fitExtent=function(t,e){return fitExtent(S,t,e)},S.fitSize=function(t,e){return fitSize(S,t,e)},S.fitWidth=function(t,e){return fitWidth(S,t,e)},S.fitHeight=function(t,e){return fitHeight(S,t,e)},function(){return n=t.apply(this,arguments),S.invert=n.invert&&E,C()}}function conicProjection(t){var e=0,n=pi$3/3,r=projectionMutator(t),t=r(e,n);return t.parallels=function(t){return arguments.length?r(e=t[0]*radians,n=t[1]*radians):[e*degrees$1,n*degrees$1]},t}function cylindricalEqualAreaRaw(t){var n=cos$1(t);function e(t,e){return[t*n,sin$1(e)/n]}return e.invert=function(t,e){return[t/n,asin(e*n)]},e}function conicEqualAreaRaw(t,e){var n=sin$1(t),r=(n+sin$1(e))/2;if(abs(r)<epsilon$2)return cylindricalEqualAreaRaw(t);var a=1+n*(2*r-n),i=sqrt(a)/r;function o(t,e){e=sqrt(a-2*r*sin$1(e))/r;return[e*sin$1(t*=r),i-e*cos$1(t)]}return o.invert=function(t,e){e=i-e;return[atan2(t,abs(e))/r*sign(e),asin((a-(t*t+e*e)*r*r)/(2*r))]},o}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(r){var a=r.length;return{point:function(t,e){for(var n=-1;++n<a;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<a;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<a;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<a;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<a;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<a;)r[t].polygonEnd()}}}function albersUsa(){var e,n,a,i,o,r,s=albers(),u=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],t=t[1];return r=null,a.point(e,t),r||(i.point(e,t),r)||(o.point(e,t),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,e=(t[1]-n[1])/e;return(.12<=e&&e<.234&&-.425<=r&&r<-.214?u:.166<=e&&e<.234&&-.214<=r&&r<-.115?c:s).invert(t)},f.stream=function(t){return e&&n===t?e:e=multiplex([s.stream(n=t),u.stream(t),c.stream(t)])},f.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),c.precision(t),h()):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),c.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return a=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(l),i=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+epsilon$2,r+.12*e+epsilon$2],[n-.214*e-epsilon$2,r+.234*e-epsilon$2]]).stream(l),o=c.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+epsilon$2,r+.166*e+epsilon$2],[n-.115*e-epsilon$2,r+.234*e-epsilon$2]]).stream(l),h()},f.fitExtent=function(t,e){return fitExtent(f,t,e)},f.fitSize=function(t,e){return fitSize(f,t,e)},f.fitWidth=function(t,e){return fitWidth(f,t,e)},f.fitHeight=function(t,e){return fitHeight(f,t,e)},f.scale(1070)}function azimuthalRaw(a){return function(t,e){var n=cos$1(t),r=cos$1(e),n=a(n*r);return[n*r*sin$1(t),n*sin$1(e)]}}function azimuthalInvert(i){return function(t,e){var n=sqrt(t*t+e*e),r=i(n),a=sin$1(r),r=cos$1(r);return[atan2(t*a,n*r),asin(n&&e*a/n)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(t){return sqrt(2/(1+t))});function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert(function(t){return 2*asin(t/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(t){return(t=acos(t))&&t/sin$1(t)});function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(t,e){return[t,log(tan((halfPi$2+e)/2))]}function mercator(){return mercatorProjection(mercatorRaw).scale(961/tau$3)}function mercatorProjection(n){var r,a,i,o=projection(n),e=o.center,s=o.scale,u=o.translate,c=o.clipExtent,l=null;function f(){var t=pi$3*s(),e=o(rotation(o.rotate()).invert([0,0]));return c(null==l?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===mercatorRaw?[[Math.max(e[0]-t,l),r],[Math.min(e[0]+t,a),i]]:[[l,Math.max(e[1]-t,r)],[a,Math.min(e[1]+t,i)]])}return o.scale=function(t){return arguments.length?(s(t),f()):s()},o.translate=function(t){return arguments.length?(u(t),f()):u()},o.center=function(t){return arguments.length?(e(t),f()):e()},o.clipExtent=function(t){return arguments.length?(null==t?l=r=a=i=null:(l=+t[0][0],r=+t[0][1],a=+t[1][0],i=+t[1][1]),f()):null==l?null:[[l,r],[a,i]]},f()}function tany(t){return tan((halfPi$2+t)/2)}function conicConformalRaw(t,e){var n=cos$1(t),r=t===e?sin$1(t):log(n/cos$1(e))/log(tany(e)/tany(t)),a=n*pow(tany(t),r)/r;return r?(i.invert=function(t,e){var n=a-e,e=sign(r)*sqrt(t*t+n*n);return[atan2(t,abs(n))/r*sign(n),2*atan(pow(a/e,1/r))-halfPi$2]},i):mercatorRaw;function i(t,e){0<a?e<-halfPi$2+epsilon$2&&(e=-halfPi$2+epsilon$2):halfPi$2-epsilon$2<e&&(e=halfPi$2-epsilon$2);e=a/pow(tany(e),r);return[e*sin$1(r*t),a-e*cos$1(r*t)]}}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,e){return[t,e]}function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,e){var n=cos$1(t),r=t===e?sin$1(t):(n-cos$1(e))/(e-t),a=n/r+t;return abs(r)<epsilon$2?equirectangularRaw:(i.invert=function(t,e){e=a-e;return[atan2(t,abs(e))/r*sign(e),a-sign(r)*sqrt(t*t+e*e)]},i);function i(t,e){e=a-e,t*=r;return[e*sin$1(t),a-e*cos$1(t)]}}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}function gnomonicRaw(t,e){var n=cos$1(e),r=cos$1(t)*n;return[n*sin$1(t)/r,sin$1(e)/r]}function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function scaleTranslate(n,r,a,i){return 1===n&&1===r&&0===a&&0===i?identity$5:transformer({point:function(t,e){this.stream.point(t*n+a,e*r+i)}})}function identity$6(){var e,n,r,a,i,o,s=1,u=0,c=0,l=1,f=1,h=identity$5,d=null,p=identity$5;function g(){return a=i=null,o}return o={stream:function(t){return a&&i===t?a:a=h(p(i=t))},postclip:function(t){return arguments.length?(p=t,d=e=n=r=null,g()):p},clipExtent:function(t){return arguments.length?(p=null==t?(d=e=n=r=null,identity$5):clipRectangle(d=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),g()):null==d?null:[[d,e],[n,r]]},scale:function(t){return arguments.length?(h=scaleTranslate((s=+t)*l,s*f,u,c),g()):s},translate:function(t){return arguments.length?(h=scaleTranslate(s*l,s*f,u=+t[0],c=+t[1]),g()):[u,c]},reflectX:function(t){return arguments.length?(h=scaleTranslate(s*(l=t?-1:1),s*f,u,c),g()):l<0},reflectY:function(t){return arguments.length?(h=scaleTranslate(s*l,s*(f=t?-1:1),u,c),g()):f<0},fitExtent:function(t,e){return fitExtent(o,t,e)},fitSize:function(t,e){return fitSize(o,t,e)},fitWidth:function(t,e){return fitWidth(o,t,e)},fitHeight:function(t,e){return fitHeight(o,t,e)}}}function naturalEarth1Raw(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(t,e){return[cos$1(e)*sin$1(t),sin$1(e)]}function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+epsilon$2)}function stereographicRaw(t,e){var n=cos$1(e),r=1+cos$1(t)*n;return[n*sin$1(t)/r,sin$1(e)/r]}function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,e){return[log(tan((halfPi$2+e)/2)),-t]}function transverseMercator(){var t=mercatorProjection(transverseMercatorRaw),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function defaultSeparation(t,e){return t.parent===e.parent?1:2}function meanX(t){return t.reduce(meanXReduce,0)/t.length}function meanXReduce(t,e){return t+e.x}function maxY(t){return 1+t.reduce(maxYReduce,0)}function maxYReduce(t,e){return Math.max(t,e.y)}function leafLeft(t){for(var e;e=t.children;)t=e[0];return t}function leafRight(t){for(var e;e=t.children;)t=e[e.length-1];return t}function cluster(){var s=defaultSeparation,u=1,c=1,l=!1;function e(e){var n,r=0;e.eachAfter(function(t){var e=t.children;e?(t.x=meanX(e),t.y=maxY(e)):(t.x=n?r+=s(t,n):0,t.y=0,n=t)});var t=leafLeft(e),a=leafRight(e),i=t.x-s(t,a)/2,o=a.x+s(a,t)/2;return e.eachAfter(l?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-i)/(o-i)*u,t.y=(1-(e.y?t.y/e.y:1))*c})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=!1,u=+t[0],c=+t[1],e):l?null:[u,c]},e.nodeSize=function(t){return arguments.length?(l=!0,u=+t[0],c=+t[1],e):l?[u,c]:null},e}function count(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function node_count(){return this.eachAfter(count)}function node_each(t){var e,n,r,a,i,o=[this];do{for(n=o.reverse(),o=[];e=n.pop();)if(t(e),r=e.children)for(a=0,i=r.length;a<i;++a)o.push(r[a])}while(o.length);return this}function node_eachBefore(t){for(var e,n,r,a=[this];e=a.pop();)if(t(e),n=e.children)for(r=n.length-1;0<=r;--r)a.push(n[r]);return this}function node_eachAfter(t){for(var e,n,r,a=this,i=[a],o=[];a=i.pop();)if(o.push(a),e=a.children)for(n=0,r=e.length;n<r;++n)i.push(e[n]);for(;a=o.pop();)t(a);return this}function node_sum(a){return this.eachAfter(function(t){for(var e=+a(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})}function node_sort(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function node_path(t){for(var e=this,n=leastCommonAncestor(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r}function leastCommonAncestor(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;for(t=n.pop(),e=r.pop();t===e;)a=t,t=n.pop(),e=r.pop();return a}function node_ancestors(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function node_descendants(){var e=[];return this.each(function(t){e.push(t)}),e}function node_leaves(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function node_links(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n}function hierarchy(t,e){var n,r,a,i,o,s=new Node(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=defaultChildren);n=c.pop();)if(u&&(n.value=+n.data.value),(a=e(n.data))&&(o=a.length))for(n.children=new Array(o),i=o-1;0<=i;--i)c.push(r=n.children[i]=new Node(a[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function defaultChildren(t){return t.children}function copyData(t){t.data=t.data.data}function computeHeight(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Node(t){this.data=t,this.depth=this.height=0,this.parent=null}azimuthalEquidistantRaw.invert=azimuthalInvert(function(t){return t}),mercatorRaw.invert=function(t,e){return[t,2*atan(exp(e))-halfPi$2]},equirectangularRaw.invert=equirectangularRaw,gnomonicRaw.invert=azimuthalInvert(atan),naturalEarth1Raw.invert=function(t,e){var n=e,r=25;do{var a=n*n,i=a*a}while(n-=i=(n*(1.007226+a*(.015085+i*(.028874*a-.044475-.005916*i)))-e)/(1.007226+a*(.045255+i*(.259866*a-.311325-.005916*11*i))),abs(i)>epsilon$2&&0<--r);return[t/(.8707+(a=n*n)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),n]},orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert(function(t){return 2*atan(t)}),transverseMercatorRaw.invert=function(t,e){return[-e,2*atan(exp(t))-halfPi$2]},Node.prototype=hierarchy.prototype={constructor:Node,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy};var slice$3=Array.prototype.slice;function shuffle$1(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}function enclose(t){for(var e,n,r=0,a=(t=shuffle$1(slice$3.call(t))).length,i=[];r<a;)e=t[r],n&&enclosesWeak(n,e)?++r:(n=encloseBasis(i=extendBasis(i,e)),r=0);return n}function extendBasis(t,e){var n,r;if(enclosesWeakAll(e,t))return[e];for(n=0;n<t.length;++n)if(enclosesNot(e,t[n])&&enclosesWeakAll(encloseBasis2(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(enclosesNot(encloseBasis2(t[n],t[r]),e)&&enclosesNot(encloseBasis2(t[n],e),t[r])&&enclosesNot(encloseBasis2(t[r],e),t[n])&&enclosesWeakAll(encloseBasis3(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function enclosesNot(t,e){var n=t.r-e.r,r=e.x-t.x,t=e.y-t.y;return n<0||n*n<r*r+t*t}function enclosesWeak(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,t=e.y-t.y;return 0<n&&r*r+t*t<n*n}function enclosesWeakAll(t,e){for(var n=0;n<e.length;++n)if(!enclosesWeak(t,e[n]))return!1;return!0}function encloseBasis(t){switch(t.length){case 1:return encloseBasis1(t[0]);case 2:return encloseBasis2(t[0],t[1]);case 3:return encloseBasis3(t[0],t[1],t[2])}}function encloseBasis1(t){return{x:t.x,y:t.y,r:t.r}}function encloseBasis2(t,e){var n=t.x,r=t.y,a=t.r,i=e.x,o=e.y,s=e.r,u=i-n,c=o-r,t=s-a,e=Math.sqrt(u*u+c*c);return{x:(n+i+u/e*t)/2,y:(r+o+c/e*t)/2,r:(e+a+s)/2}}function encloseBasis3(t,e,n){var r=t.x,a=t.y,i=t.r,o=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=r-o,d=r-c,p=a-s,g=a-l,t=u-i,e=f-i,n=r*r+a*a-i*i,u=n-o*o-s*s+u*u,c=n-c*c-l*l+f*f,l=d*p-h*g,f=(p*c-g*u)/(2*l)-r,p=(g*t-p*e)/l,c=(d*u-h*c)/(2*l)-a,d=(h*e-d*t)/l,t=p*p+d*d-1,l=2*(i+f*p+c*d),i=f*f+c*c-i*i,l=-(t?(l+Math.sqrt(l*l-4*t*i))/(2*t):i/l);return{x:r+f+p*l,y:a+c+d*l,r:l}}function place(t,e,n){var r=t.x,a=t.y,i=e.r+n.r,o=t.r+n.r,s=e.x-r,u=e.y-a,t=s*s+u*u;t?(e=.5+((o*=o)-(i*=i))/(2*t),t=Math.sqrt(Math.max(0,2*i*(o+t)-(o-=t)*o-i*i))/(2*t),n.x=r+e*s+t*u,n.y=a+e*u-t*s):(n.x=r+o,n.y=a)}function intersects(t,e){var n=e.x-t.x,r=e.y-t.y,e=t.r+e.r;return n*n+r*r<e*e-1e-6}function score(t){var e=t._,n=t.next._,r=e.r+n.r,t=(e.x*n.r+n.x*e.r)/r,r=(e.y*n.r+n.y*e.r)/r;return t*t+r*r}function Node$1(t){this._=t,this.next=null,this.previous=null}function packEnclose(t){if(!(r=t.length))return 0;var e,n,r,a,i,o,s,u,c,l,f=t[0];if(f.x=0,f.y=0,!(1<r))return f.r;if(e=t[1],f.x=-e.r,e.x=f.r,e.y=0,!(2<r))return f.r+e.r;place(e,f,n=t[2]),f=new Node$1(f),e=new Node$1(e),n=new Node$1(n),((f.next=n.previous=e).next=f.previous=n).next=e.previous=f;t:for(o=3;o<r;++o){place(f._,e._,n=t[o]),n=new Node$1(n),s=e.next,u=f.previous,c=e._.r,l=f._.r;do{if(c<=l){if(intersects(s._,n._)){e=s,(f.next=e).previous=f,--o;continue t}c+=s._.r,s=s.next}else{if(intersects(u._,n._)){((f=u).next=e).previous=f,--o;continue t}l+=u._.r,u=u.previous}}while(s!==u.next);for(n.previous=f,n.next=e,f.next=e.previous=e=n,a=score(f);(n=n.next)!==e;)(i=score(n))<a&&(f=n,a=i);e=f.next}for(f=[e._],n=e;(n=n.next)!==e;)f.push(n._);for(n=enclose(f),o=0;o<r;++o)(f=t[o]).x-=n.x,f.y-=n.y;return n.r}function siblings(t){return packEnclose(t),t}function optional(t){return null==t?null:required(t)}function required(t){if("function"!=typeof t)throw new Error;return t}function constantZero(){return 0}function constant$9(t){return function(){return t}}function defaultRadius$1(t){return Math.sqrt(t.value)}function index$2(){var e=null,n=1,r=1,a=constantZero;function i(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(radiusLeaf(e)).eachAfter(packChildren(a,.5)).eachBefore(translateChild(1)):t.eachBefore(radiusLeaf(defaultRadius$1)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(a,t.r/Math.min(n,r))).eachBefore(translateChild(Math.min(n,r)/(2*t.r))),t}return i.radius=function(t){return arguments.length?(e=optional(t),i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.padding=function(t){return arguments.length?(a="function"==typeof t?t:constant$9(+t),i):a},i}function radiusLeaf(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function packChildren(o,s){return function(t){if(e=t.children){var e,n,r,a=e.length,i=o(t)*s||0;if(i)for(n=0;n<a;++n)e[n].r+=i;if(r=packEnclose(e),i)for(n=0;n<a;++n)e[n].r-=i;t.r=r+i}}}function translateChild(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function roundNode(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function treemapDice(t,e,n,r,a){for(var i,o=t.children,s=-1,u=o.length,c=t.value&&(r-e)/t.value;++s<u;)(i=o[s]).y0=n,i.y1=a,i.x0=e,i.x1=e+=i.value*c}function partition$1(){var n=1,r=1,s=0,a=!1;function e(t){var i,o,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=r/e,t.eachBefore((i=r,o=e,function(t){t.children&&treemapDice(t,t.x0,i*(t.depth+1)/o,t.x1,i*(t.depth+2)/o);var e=t.x0,n=t.y0,r=t.x1-s,a=t.y1-s;r<e&&(e=r=(e+r)/2),a<n&&(n=a=(n+a)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=a})),a&&t.eachBefore(roundNode),t}return e.round=function(t){return arguments.length?(a=!!t,e):a},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e}var keyPrefix$1="$",preroot={depth:-1},ambiguous={};function defaultId(t){return t.id}function defaultParentId(t){return t.parentId}function stratify(){var l=defaultId,f=defaultParentId;function e(t){for(var e,n,r,a,i,o=t.length,s=new Array(o),u={},c=0;c<o;++c)i=t[c],r=s[c]=new Node(i),null!=(a=l(i,c,t))&&(a+="")&&(u[i=keyPrefix$1+(r.id=a)]=i in u?ambiguous:r);for(c=0;c<o;++c)if(r=s[c],null!=(a=f(t[c],c,t))&&(a+="")){if(!(n=u[keyPrefix$1+a]))throw new Error("missing: "+a);if(n===ambiguous)throw new Error("ambiguous: "+a);n.children?n.children.push(r):n.children=[r],r.parent=n}else{if(e)throw new Error("multiple roots");e=r}if(!e)throw new Error("no root");if(e.parent=preroot,e.eachBefore(function(t){t.depth=t.parent.depth+1,--o}).eachBefore(computeHeight),e.parent=null,0<o)throw new Error("cycle");return e}return e.id=function(t){return arguments.length?(l=required(t),e):l},e.parentId=function(t){return arguments.length?(f=required(t),e):f},e}function defaultSeparation$1(t,e){return t.parent===e.parent?1:2}function nextLeft(t){var e=t.children;return e?e[0]:t.t}function nextRight(t){var e=t.children;return e?e[e.length-1]:t.t}function moveSubtree(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function executeShifts(t){for(var e,n=0,r=0,a=t.children,i=a.length;0<=--i;)(e=a[i]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function nextAncestor(t,e,n){return t.a.parent===e.parent?t.a:n}function TreeNode(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function treeRoot(t){for(var e,n,r,a,i,t=new TreeNode(t,0),o=[t];e=o.pop();)if(r=e._.children)for(e.children=new Array(i=r.length),a=i-1;0<=a;--a)o.push(n=e.children[a]=new TreeNode(r[a],a)),n.parent=e;return(t.parent=new TreeNode(null,0)).children=[t],t}function tree(){var h=defaultSeparation$1,u=1,c=1,l=null;function e(t){var e,n,r,a,i,o,s=treeRoot(t);return s.eachAfter(f),s.parent.m=-s.z,s.eachBefore(d),l?t.eachBefore(p):((r=n=e=t).eachBefore(function(t){t.x<e.x&&(e=t),t.x>n.x&&(n=t),t.depth>r.depth&&(r=t)}),s=e===n?1:h(e,n)/2,a=s-e.x,i=u/(n.x+s+a),o=c/(r.depth||1),t.eachBefore(function(t){t.x=(t.x+a)*i,t.y=t.depth*o})),t}function f(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;e?(executeShifts(t),e=(e[0].z+e[e.length-1].z)/2,r?(t.z=r.z+h(t._,r._),t.m=t.z-e):t.z=e):r&&(t.z=r.z+h(t._,r._)),t.parent.A=function(t,e,n){if(e){for(var r,a=t,i=t,o=e,s=a.parent.children[0],u=a.m,c=i.m,l=o.m,f=s.m;o=nextRight(o),a=nextLeft(a),o&&a;)s=nextLeft(s),(i=nextRight(i)).a=t,0<(r=o.z+l-a.z-u+h(o._,a._))&&(moveSubtree(nextAncestor(o,t,n),t,r),u+=r,c+=r),l+=o.m,u+=a.m,f+=s.m,c+=i.m;o&&!nextRight(i)&&(i.t=o,i.m+=l-c),a&&!nextLeft(s)&&(s.t=a,s.m+=u-f,n=t)}return n}(t,r,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=u,t.y=t.depth*c}return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(l=!1,u=+t[0],c=+t[1],e):l?null:[u,c]},e.nodeSize=function(t){return arguments.length?(l=!0,u=+t[0],c=+t[1],e):l?[u,c]:null},e}function treemapSlice(t,e,n,r,a){for(var i,o=t.children,s=-1,u=o.length,c=t.value&&(a-n)/t.value;++s<u;)(i=o[s]).x0=e,i.x1=r,i.y0=n,i.y1=n+=i.value*c}TreeNode.prototype=Object.create(Node.prototype);var phi=(1+Math.sqrt(5))/2;function squarifyRatio(t,e,n,r,a,i){for(var o,s,u,c,l,f,h,d,p,g,y,_=[],m=e.children,$=0,v=0,b=m.length,x=e.value;$<b;){for(u=a-n,c=i-r;l=m[v++].value,!l&&v<b;);for(y=(f=h=l)*l*(g=Math.max(c/u,u/c)/(x*t)),p=Math.max(h/y,y/f);v<b;++v){if(l+=s=m[v].value,s<f&&(f=s),h<s&&(h=s),y=l*l*g,p<(d=Math.max(h/y,y/f))){l-=s;break}p=d}_.push(o={value:l,dice:u<c,children:m.slice($,v)}),o.dice?treemapDice(o,n,r,a,x?r+=c*l/x:i):treemapSlice(o,n,r,x?n+=u*l/x:a,i),x-=l,$=v}return _}var squarify=function e(i){function t(t,e,n,r,a){squarifyRatio(i,t,e,n,r,a)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(phi);function index$3(){var o=squarify,e=!1,n=1,r=1,s=[0],u=constantZero,c=constantZero,l=constantZero,f=constantZero,h=constantZero;function a(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(i),s=[0],e&&t.eachBefore(roundNode),t}function i(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,a=t.x1-e,i=t.y1-e;a<n&&(n=a=(n+a)/2),i<r&&(r=i=(r+i)/2),t.x0=n,t.y0=r,t.x1=a,t.y1=i,t.children&&(e=s[t.depth+1]=u(t)/2,n+=h(t)-e,r+=c(t)-e,(a-=l(t)-e)<n&&(n=a=(n+a)/2),(i-=f(t)-e)<r&&(r=i=(r+i)/2),o(t,n,r,a,i))}return a.round=function(t){return arguments.length?(e=!!t,a):e},a.size=function(t){return arguments.length?(n=+t[0],r=+t[1],a):[n,r]},a.tile=function(t){return arguments.length?(o=required(t),a):o},a.padding=function(t){return arguments.length?a.paddingInner(t).paddingOuter(t):a.paddingInner()},a.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:constant$9(+t),a):u},a.paddingOuter=function(t){return arguments.length?a.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):a.paddingTop()},a.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:constant$9(+t),a):c},a.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:constant$9(+t),a):l},a.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:constant$9(+t),a):f},a.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:constant$9(+t),a):h},a}function binary(t,e,n,r,a){var i,o,g=t.children,s=g.length,y=new Array(s+1);for(y[0]=o=i=0;i<s;++i)y[i+1]=o+=g[i].value;!function t(e,n,r,a,i,o,s){if(n-1<=e){var u=g[e];return u.x0=a,u.y0=i,u.x1=o,void(u.y1=s)}var c=y[e],l=r/2+c,f=e+1,h=n-1;for(;f<h;){var d=f+h>>>1;y[d]<l?f=1+d:h=d}l-y[f-1]<y[f]-l&&e+1<f&&--f;var p=y[f]-c,u=r-p;s-i<o-a?(t(e,f,p,a,i,c=(a*u+o*p)/r,s),t(f,n,u,c,i,o,s)):(t(e,f,p,a,i,o,r=(i*u+s*p)/r),t(f,n,u,a,r,o,s))}(0,s,t.value,e,n,r,a)}function sliceDice(t,e,n,r,a){(1&t.depth?treemapSlice:treemapDice)(t,e,n,r,a)}var resquarify=function e(d){function t(t,e,n,r,a){if((i=t._squarify)&&i.ratio===d)for(var i,o,s,u,c,l=-1,f=i.length,h=t.value;++l<f;){for(s=(o=i[l]).children,u=o.value=0,c=s.length;u<c;++u)o.value+=s[u].value;o.dice?treemapDice(o,e,n,r,n+=(a-n)*o.value/h):treemapSlice(o,e,n,e+=(r-e)*o.value/h,a),h-=o.value}else t._squarify=i=squarifyRatio(d,t,e,n,r,a),i.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(phi);function area$1(t){for(var e,n=-1,r=t.length,a=t[r-1],i=0;++n<r;)e=a,a=t[n],i+=e[1]*a[0]-e[0]*a[1];return i/2}function centroid$1(t){for(var e,n,r=-1,a=t.length,i=0,o=0,s=t[a-1],u=0;++r<a;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],i+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[i/(u*=3),o/u]}function cross$1(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function lexicographicOrder(t,e){return t[0]-e[0]||t[1]-e[1]}function computeUpperHullIndexes(t){for(var e=t.length,n=[0,1],r=2,a=2;a<e;++a){for(;1<r&&cross$1(t[n[r-2]],t[n[r-1]],t[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function hull(t){if((e=t.length)<3)return null;for(var e,n=new Array(e),r=new Array(e),a=0;a<e;++a)n[a]=[+t[a][0],+t[a][1],a];for(n.sort(lexicographicOrder),a=0;a<e;++a)r[a]=[n[a][0],-n[a][1]];var i=computeUpperHullIndexes(n),o=computeUpperHullIndexes(r),s=o[0]===i[0],u=o[o.length-1]===i[i.length-1],c=[];for(a=i.length-1;0<=a;--a)c.push(t[n[i[a]][2]]);for(a=+s;a<o.length-u;++a)c.push(t[n[o[a]][2]]);return c}function contains$1(t,e){for(var n,r,a=t.length,i=t[a-1],o=e[0],s=e[1],u=i[0],c=i[1],l=!1,f=0;f<a;++f)n=(i=t[f])[0],s<(r=i[1])!=s<c&&o<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l}function length$2(t){for(var e,n,r=-1,a=t.length,i=t[a-1],o=i[0],s=i[1],u=0;++r<a;)e=o,n=s,e-=o=(i=t[r])[0],n-=s=i[1],u+=Math.sqrt(e*e+n*n);return u}var slice$4=[].slice,noabort={};function Queue(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function poke$1(e){if(!e._start)try{start$1(e)}catch(t){if(e._tasks[e._ended+e._active-1])abort(e,t);else if(!e._data)throw t}}function start$1(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,a=n[r];n[r]=end(t,e),--t._waiting,++t._active,n=a.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||noabort)}}function end(n,r){return function(t,e){n._tasks[r]&&(--n._active,++n._ended,(n._tasks[r]=null)==n._error&&(null!=t?abort(n,t):(n._data[r]=e,(n._waiting?poke$1:maybeNotify)(n))))}}function abort(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--r;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,maybeNotify(t)}function maybeNotify(t){var e;!t._active&&t._call&&(e=t._data,t._data=void 0,t._call(t._error,e))}function queue(t){if(null==t)t=1/0;else if(!(1<=(t=+t)))throw new Error("invalid concurrency");return new Queue(t)}function defaultSource$1(){return Math.random()}Queue.prototype=queue.prototype={constructor:Queue,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=slice$4.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),poke$1(this),this},abort:function(){return null==this._error&&abort(this,new Error("abort")),this},await:function(n){if("function"!=typeof n)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,e){n.apply(null,[t].concat(e))},maybeNotify(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,maybeNotify(this),this}};var uniform=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(defaultSource$1),normal=function t(i){function e(e,n){var r,a;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*i()-1,t=2*i()-1,a=r*r+t*t,!a||1<a;);return e+n*t*Math.sqrt(-2*Math.log(a)/a)}}return e.source=t,e}(defaultSource$1),logNormal=function t(e){function n(){var t=normal.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(defaultSource$1),irwinHall=function t(r){function e(n){return function(){for(var t=0,e=0;e<n;++e)t+=r();return t}}return e.source=t,e}(defaultSource$1),bates=function t(n){function e(t){var e=irwinHall.source(n)(t);return function(){return e()/t}}return e.source=t,e}(defaultSource$1),exponential$1=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(defaultSource$1),prefix$1="$";function Map$2(){}function map$3(t,e){var n=new Map$2;if(t instanceof Map$2)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,a=-1,i=t.length;if(null==e)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e(r=t[a],a,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Set$2(){}Map$2.prototype=map$3.prototype={constructor:Map$2,has:function(t){return prefix$1+t in this},get:function(t){return this[prefix$1+t]},set:function(t,e){return this[prefix$1+t]=e,this},remove:function(t){t=prefix$1+t;return t in this&&delete this[t]},clear:function(){for(var t in this)t[0]===prefix$1&&delete this[t]},keys:function(){var t,e=[];for(t in this)t[0]===prefix$1&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)t[0]===prefix$1&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)t[0]===prefix$1&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)t[0]===prefix$1&&++e;return e},empty:function(){for(var t in this)if(t[0]===prefix$1)return!1;return!0},each:function(t){for(var e in this)e[0]===prefix$1&&t(this[e],e.slice(1),this)}};var proto$1=map$3.prototype;function set$3(t,e){var n=new Set$2;if(t instanceof Set$2)t.each(function(t){n.add(t)});else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}Set$2.prototype=set$3.prototype={constructor:Set$2,has:proto$1.has,add:function(t){return this[prefix$1+(t+="")]=t,this},remove:proto$1.remove,clear:proto$1.clear,values:proto$1.keys,size:proto$1.size,empty:proto$1.empty,each:proto$1.each};var noop$3={value:function(){}};function dispatch$1(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Dispatch$1(r)}function Dispatch$1(t){this._=t}function parseTypenames$2(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function get$3(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function set$4(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=noop$3,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function request(r,t){var a,i,o,s,u=dispatch$1("beforesend","progress","load","error"),c=map$3(),l=new XMLHttpRequest,f=null,h=null,d=0;function e(t){var e,n=l.status;if(!n&&hasResponse(l)||200<=n&&n<300||304===n){if(o)try{e=o.call(a,l)}catch(t){return void u.call("error",a,t)}else e=l;u.call("load",a,e)}else u.call("error",a,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(r)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=e:l.onreadystatechange=function(t){3<l.readyState&&e(t)},l.onprogress=function(t){u.call("progress",a,t)},a={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),a)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",a):i},responseType:function(t){return arguments.length?(s=t,a):s},timeout:function(t){return arguments.length?(d=+t,a):d},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",a)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",a)},response:function(t){return o=t,a},get:function(t,e){return a.send("GET",t,e)},post:function(t,e){return a.send("POST",t,e)},send:function(t,e,n){return l.open(t,r,!0,f,h),null==i||c.has("accept")||c.set("accept",i+",*/*"),l.setRequestHeader&&c.each(function(t,e){l.setRequestHeader(e,t)}),null!=i&&l.overrideMimeType&&l.overrideMimeType(i),null!=s&&(l.responseType=s),0<d&&(l.timeout=d),null==n&&"function"==typeof e&&(n=e,e=null),null!=n&&1===n.length&&(n=fixCallback(n)),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),u.call("beforesend",a,l),l.send(null==e?null:e),a},abort:function(){return l.abort(),a},on:function(){var t=u.on.apply(u,arguments);return t===u?a:t}},null==t)return a;if("function"!=typeof t)throw new Error("invalid callback: "+t);return a.get(t)}function fixCallback(n){return function(t,e){n(null==t?e:null)}}function hasResponse(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function type$1(n,r){return function(t,e){t=request(t).mimeType(n).response(r);if(null==e)return t;if("function"!=typeof e)throw new Error("invalid callback: "+e);return t.get(e)}}Dispatch$1.prototype=dispatch$1.prototype={constructor:Dispatch$1,on:function(t,e){var n,r=this._,a=parseTypenames$2(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=set$4(r[n],t.name,e);else if(null==e)for(n in r)r[n]=set$4(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=get$3(r[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new Dispatch$1(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var html=type$1("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),json$1=type$1("application/json",function(t){return JSON.parse(t.responseText)}),text=type$1("text/plain",function(t){return t.responseText}),xml=type$1("application/xml",function(t){t=t.responseXML;if(!t)throw new Error("parse error");return t}),EOL$1={},EOF$1={},QUOTE$1=34,NEWLINE$1=10,RETURN$1=13;function objectConverter$1(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function customConverter$1(n,r){var a=objectConverter$1(n);return function(t,e){return r(a(t),e,n)}}function inferColumns$1(t){var n=Object.create(null),r=[];return t.forEach(function(t){for(var e in t)e in n||r.push(n[e]=e)}),r}function pad(t,e){var n=t+"",t=n.length;return t<e?new Array(e-t+1).join(0)+n:n}function formatYear(t){return t<0?"-"+pad(-t,6):9999<t?"+"+pad(t,6):pad(t,4)}function formatDate(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":formatYear(t.getUTCFullYear())+"-"+pad(t.getUTCMonth()+1,2)+"-"+pad(t.getUTCDate(),2)+(a?"T"+pad(e,2)+":"+pad(n,2)+":"+pad(r,2)+"."+pad(a,3)+"Z":r?"T"+pad(e,2)+":"+pad(n,2)+":"+pad(r,2)+"Z":n||e?"T"+pad(e,2)+":"+pad(n,2)+"Z":"")}function dsvFormat(r){var e=new RegExp('["'+r+"\n\r]"),f=r.charCodeAt(0);function i(r,t){var e,n=[],a=r.length,i=0,o=0,s=a<=0,u=!1;function c(){if(s)return EOF$1;if(u)return u=!1,EOL$1;var t,e,n=i;if(r.charCodeAt(n)===QUOTE$1){for(;i++<a&&r.charCodeAt(i)!==QUOTE$1||r.charCodeAt(++i)===QUOTE$1;);return(t=i)>=a?s=!0:(e=r.charCodeAt(i++))===NEWLINE$1?u=!0:e===RETURN$1&&(u=!0,r.charCodeAt(i)===NEWLINE$1&&++i),r.slice(n+1,t-1).replace(/""/g,'"')}for(;i<a;){if((e=r.charCodeAt(t=i++))===NEWLINE$1)u=!0;else if(e===RETURN$1)u=!0,r.charCodeAt(i)===NEWLINE$1&&++i;else if(e!==f)continue;return r.slice(n,t)}return s=!0,r.slice(n,a)}for(r.charCodeAt(a-1)===NEWLINE$1&&--a,r.charCodeAt(a-1)===RETURN$1&&--a;(e=c())!==EOF$1;){for(var l=[];e!==EOL$1&&e!==EOF$1;)l.push(e),e=c();t&&null==(l=t(l,o++))||n.push(l)}return n}function n(t,n){return t.map(function(e){return n.map(function(t){return o(e[t])}).join(r)})}function a(t){return t.map(o).join(r)}function o(t){return null==t?"":t instanceof Date?formatDate(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var r,a;return(t=i(t,function(t,e){return r?r(t,e-1):(a=t,void(r=n?customConverter$1(t,n):objectConverter$1(t)))})).columns=a||[],t},parseRows:i,format:function(t,e){return null==e&&(e=inferColumns$1(t)),[e.map(o).join(r)].concat(n(t,e)).join("\n")},formatBody:function(t,e){return null==e&&(e=inferColumns$1(t)),n(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}}var csv$1=dsvFormat(","),csvParse$1=csv$1.parse,tsv$1=dsvFormat("\t"),tsvParse$1=tsv$1.parse;function dsv$1(a,i){return function(t,e,n){arguments.length<3&&(n=e,e=null);var r=request(t).mimeType(a);return r.row=function(t){return arguments.length?r.response(responseOf(i,e=t)):e},r.row(e),n?r.get(n):r}}function responseOf(e,n){return function(t){return e(t.responseText,n)}}var csv$2=dsv$1("text/csv",csvParse$1),tsv$2=dsv$1("text/tab-separated-values",tsvParse$1),array$2=Array.prototype,map$4=array$2.map,slice$5=array$2.slice,implicit={name:"implicit"};function ordinal(r){var i=map$2(),o=[],a=implicit;function s(t){var e=t+"",n=i.get(e);if(!n){if(a!==implicit)return a;i.set(e,n=o.push(t))}return r[(n-1)%r.length]}return r=null==r?[]:slice$5.call(r),s.domain=function(t){if(!arguments.length)return o.slice();o=[],i=map$2();for(var e,n,r=-1,a=t.length;++r<a;)i.has(n=(e=t[r])+"")||i.set(n,o.push(e));return s},s.range=function(t){return arguments.length?(r=slice$5.call(t),s):r.slice()},s.unknown=function(t){return arguments.length?(a=t,s):a},s.copy=function(){return ordinal().domain(o).range(r).unknown(a)},s}function band(){var a,i,t=ordinal().unknown(void 0),o=t.domain,s=t.range,u=[0,1],c=!1,l=0,f=0,h=.5;function e(){var t=o().length,e=u[1]<u[0],n=u[+e],r=u[1-e];a=(r-n)/Math.max(1,t-l+2*f),c&&(a=Math.floor(a)),n+=(r-n-a*(t-l))*h,i=a*(1-l),c&&(n=Math.round(n),i=Math.round(i));t=sequence(t).map(function(t){return n+a*t});return s(e?t.reverse():t)}return delete t.unknown,t.domain=function(t){return arguments.length?(o(t),e()):o()},t.range=function(t){return arguments.length?(u=[+t[0],+t[1]],e()):u.slice()},t.rangeRound=function(t){return u=[+t[0],+t[1]],c=!0,e()},t.bandwidth=function(){return i},t.step=function(){return a},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(l=f=Math.max(0,Math.min(1,t)),e()):l},t.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),e()):l},t.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.copy=function(){return band().domain(o()).range(u).round(c).paddingInner(l).paddingOuter(f).align(h)},e()}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point$1(){return pointish(band().paddingInner(1))}function constant$a(t){return function(){return t}}function number$2(t){return+t}var unit=[0,1];function deinterpolateLinear(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:constant$a(n)}function deinterpolateClamp(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}}function reinterpolateClamp(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}}function bimap(t,e,n,r){var a=t[0],t=t[1],i=e[0],e=e[1],i=t<a?(a=n(t,a),r(e,i)):(a=n(a,t),r(i,e));return function(t){return i(a(t))}}function polymap(n,t,e,r){var a=Math.min(n.length,t.length)-1,i=new Array(a),o=new Array(a),s=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<a;)i[s]=e(n[s],n[s+1]),o[s]=r(t[s],t[s+1]);return function(t){var e=bisectRight(n,t,1,a)-1;return o[e](i[e](t))}}function copy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function continuous(e,n){var r,a,i,o=unit,s=unit,u=interpolateValue,c=!1;function l(){return r=2<Math.min(o.length,s.length)?polymap:bimap,a=i=null,t}function t(t){return(a=a||r(o,s,c?deinterpolateClamp(e):e,u))(+t)}return t.invert=function(t){return(i=i||r(s,o,deinterpolateLinear,c?reinterpolateClamp(n):n))(+t)},t.domain=function(t){return arguments.length?(o=map$4.call(t,number$2),l()):o.slice()},t.range=function(t){return arguments.length?(s=slice$5.call(t),l()):s.slice()},t.rangeRound=function(t){return s=slice$5.call(t),u=interpolateRound,l()},t.clamp=function(t){return arguments.length?(c=!!t,l()):c},t.interpolate=function(t){return arguments.length?(u=t,l()):u},l()}function tickFormat(t,e,n){var r,a=t[0],i=t[t.length-1],o=tickStep(a,i,null==e?10:e);switch((n=formatSpecifier(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(a),Math.abs(i));return null!=n.precision||isNaN(r=precisionPrefix(o,s))||(n.precision=r),formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=precisionRound(o,Math.max(Math.abs(a),Math.abs(i))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=precisionFixed(o))||(n.precision=r-2*("%"===n.type))}return format(n)}function linearish(s){var u=s.domain;return s.ticks=function(t){var e=u();return ticks(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return tickFormat(u(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=u(),r=0,a=n.length-1,i=n[r],o=n[a];return o<i&&(e=i,i=o,o=e,e=r,r=a,a=e),0<(e=tickIncrement(i,o,t))?e=tickIncrement(i=Math.floor(i/e)*e,o=Math.ceil(o/e)*e,t):e<0&&(e=tickIncrement(i=Math.ceil(i*e)/e,o=Math.floor(o*e)/e,t)),0<e?(n[r]=Math.floor(i/e)*e,n[a]=Math.ceil(o/e)*e,u(n)):e<0&&(n[r]=Math.ceil(i*e)/e,n[a]=Math.floor(o*e)/e,u(n)),s},s}function linear$2(){var t=continuous(deinterpolateLinear,reinterpolate);return t.copy=function(){return copy(t,linear$2())},linearish(t)}function identity$7(){var e=[0,1];function n(t){return+t}return(n.invert=n).domain=n.range=function(t){return arguments.length?(e=map$4.call(t,number$2),n):e.slice()},n.copy=function(){return identity$7().domain(e)},linearish(n)}function nice(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}function deinterpolate(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:constant$a(n)}function reinterpolate$1(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(e){return 10===e?pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function logp(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function reflect(e){return function(t){return-e(-t)}}function log$1(){var e=continuous(deinterpolate,reinterpolate$1).domain([1,10]),l=e.domain,f=10,h=logp(10),d=powp(10);function n(){return h=logp(f),d=powp(f),l()[0]<0&&(h=reflect(h),d=reflect(d)),e}return e.base=function(t){return arguments.length?(f=+t,n()):f},e.domain=function(t){return arguments.length?(l(t),n()):l()},e.ticks=function(t){var e=l(),n=e[0],r=e[e.length-1];(e=r<n)&&(s=n,n=r,r=s);var a,i,o,s=h(n),u=h(r),t=null==t?10:+t,c=[];if(!(f%1)&&u-s<t){if(s=Math.round(s)-1,u=Math.round(u)+1,0<n){for(;s<u;++s)for(i=1,a=d(s);i<f;++i)if(!((o=a*i)<n)){if(r<o)break;c.push(o)}}else for(;s<u;++s)for(i=f-1,a=d(s);1<=i;--i)if(!((o=a*i)<n)){if(r<o)break;c.push(o)}}else c=ticks(s,u,Math.min(u-s,t)).map(d);return e?c.reverse():c},e.tickFormat=function(t,n){if(null==n&&(n=10===f?".0e":","),"function"!=typeof n&&(n=format(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,f*t/e.ticks().length);return function(t){var e=t/d(Math.round(h(t)));return e*f<f-.5&&(e*=f),e<=r?n(t):""}},e.nice=function(){return l(nice(l(),{floor:function(t){return d(Math.floor(h(t)))},ceil:function(t){return d(Math.ceil(h(t)))}}))},e.copy=function(){return copy(e,log$1().base(f))},e}function raise$1(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function pow$1(){var r=1,t=continuous(function(e,n){return(n=raise$1(n,r)-(e=raise$1(e,r)))?function(t){return(raise$1(t,r)-e)/n}:constant$a(n)},function(e,n){return n=raise$1(n,r)-(e=raise$1(e,r)),function(t){return raise$1(e+n*t,1/r)}}),e=t.domain;return t.exponent=function(t){return arguments.length?(r=+t,e(e())):r},t.copy=function(){return copy(t,pow$1().exponent(r))},linearish(t)}function sqrt$1(){return pow$1().exponent(.5)}function quantile(){var a=[],n=[],r=[];function i(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=threshold(a,t/e);return o}function o(t){if(!isNaN(t=+t))return n[bisectRight(r,t)]}return o.invertExtent=function(t){t=n.indexOf(t);return t<0?[NaN,NaN]:[0<t?r[t-1]:a[0],t<r.length?r[t]:a[a.length-1]]},o.domain=function(t){if(!arguments.length)return a.slice();a=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||a.push(e);return a.sort(ascending),i()},o.range=function(t){return arguments.length?(n=slice$5.call(t),i()):n.slice()},o.quantiles=function(){return r.slice()},o.copy=function(){return quantile().domain(a).range(n)},o}function quantize$1(){var e=0,n=1,r=1,a=[.5],i=[0,1];function o(t){if(t<=t)return i[bisectRight(a,t,0,r)]}function s(){var t=-1;for(a=new Array(r);++t<r;)a[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},o.range=function(t){return arguments.length?(r=(i=slice$5.call(t)).length-1,s()):i.slice()},o.invertExtent=function(t){t=i.indexOf(t);return t<0?[NaN,NaN]:t<1?[e,a[0]]:r<=t?[a[r-1],n]:[a[t-1],a[t]]},o.copy=function(){return quantize$1().domain([e,n]).range(i)},linearish(o)}function threshold$1(){var e=[.5],n=[0,1],r=1;function a(t){if(t<=t)return n[bisectRight(e,t,0,r)]}return a.domain=function(t){return arguments.length?(e=slice$5.call(t),r=Math.min(e.length,n.length-1),a):e.slice()},a.range=function(t){return arguments.length?(n=slice$5.call(t),r=Math.min(e.length,n.length-1),a):n.slice()},a.invertExtent=function(t){t=n.indexOf(t);return[e[t-1],e[t]]},a.copy=function(){return threshold$1().domain(e).range(n)},a}var t0$1=new Date,t1$1=new Date;function newInterval(i,o,n,r){function s(t){return i(t=new Date(+t)),t}return(s.floor=s).ceil=function(t){return i(t=new Date(t-1)),o(t,1),i(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,a=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return a;for(;a.push(r=new Date(+t)),o(t,n),i(t),r<t&&t<e;);return a},s.filter=function(n){return newInterval(function(t){if(t<=t)for(;i(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(s.count=function(t,e){return t0$1.setTime(+t),t1$1.setTime(+e),i(t0$1),i(t1$1),Math.floor(n(t0$1,t1$1))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var millisecond=newInterval(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});millisecond.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?newInterval(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):millisecond:null};var milliseconds=millisecond.range,durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,second=newInterval(function(t){t.setTime(Math.floor(t/durationSecond)*durationSecond)},function(t,e){t.setTime(+t+e*durationSecond)},function(t,e){return(e-t)/durationSecond},function(t){return t.getUTCSeconds()}),seconds=second.range,minute=newInterval(function(t){t.setTime(Math.floor(t/durationMinute)*durationMinute)},function(t,e){t.setTime(+t+e*durationMinute)},function(t,e){return(e-t)/durationMinute},function(t){return t.getMinutes()}),minutes=minute.range,hour=newInterval(function(t){var e=t.getTimezoneOffset()*durationMinute%durationHour;e<0&&(e+=durationHour),t.setTime(Math.floor((+t-e)/durationHour)*durationHour+e)},function(t,e){t.setTime(+t+e*durationHour)},function(t,e){return(e-t)/durationHour},function(t){return t.getHours()}),hours=hour.range,day=newInterval(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay},function(t){return t.getDate()-1}),days=day.range;function weekday(e){return newInterval(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,tuesdays=tuesday.range,wednesdays=wednesday.range,thursdays=thursday.range,fridays=friday.range,saturdays=saturday.range,month=newInterval(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),months=month.range,year=newInterval(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});year.every=function(n){return isFinite(n=Math.floor(n))&&0<n?newInterval(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var years=year.range,utcMinute=newInterval(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*durationMinute)},function(t,e){return(e-t)/durationMinute},function(t){return t.getUTCMinutes()}),utcMinutes=utcMinute.range,utcHour=newInterval(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*durationHour)},function(t,e){return(e-t)/durationHour},function(t){return t.getUTCHours()}),utcHours=utcHour.range,utcDay=newInterval(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/durationDay},function(t){return t.getUTCDate()-1}),utcDays=utcDay.range;function utcWeekday(e){return newInterval(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/durationWeek})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,utcMonth=newInterval(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),utcMonths=utcMonth.range,utcYear=newInterval(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});utcYear.every=function(n){return isFinite(n=Math.floor(n))&&0<n?newInterval(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var utcYears=utcYear.range;function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newYear(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale$1(t){var r=t.dateTime,a=t.date,i=t.time,e=t.periods,n=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=formatRe(e),l=formatLookup(e),f=formatRe(n),h=formatLookup(n),d=formatRe(o),p=formatLookup(o),g=formatRe(s),y=formatLookup(s),_=formatRe(u),m=formatLookup(u),$={a:function(t){return o[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return e[+(12<=t.getHours())]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return e[+(12<=t.getUTCHours())]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},b={a:function(t,e,n){e=d.exec(e.slice(n));return e?(t.w=p[e[0].toLowerCase()],n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=h[e[0].toLowerCase()],n+e[0].length):-1},b:function(t,e,n){e=_.exec(e.slice(n));return e?(t.m=m[e[0].toLowerCase()],n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=y[e[0].toLowerCase()],n+e[0].length):-1},c:function(t,e,n){return T(t,r,e,n)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,e,n){e=c.exec(e.slice(n));return e?(t.p=l[e[0].toLowerCase()],n+e[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,e,n){return T(t,a,e,n)},X:function(t,e,n){return T(t,i,e,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function x(u,c){return function(t){var e,n,r,a=[],i=-1,o=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++i<s;)37===u.charCodeAt(i)&&(a.push(u.slice(o,i)),null!=(n=pads[e=u.charAt(++i)])?e=u.charAt(++i):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),a.push(e),o=i+1);return a.push(u.slice(o,i)),a.join("")}}function w(a,i){return function(t){var e,n,r=newYear(1900);if(T(r,a,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=utcDate(newYear(r.y))).getUTCDay())||0===n?utcMonday.ceil(e):utcMonday(e),e=utcDay.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=i(newYear(r.y))).getDay())||0===n?monday.ceil(e):monday(e),e=day.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?utcDate(newYear(r.y)).getUTCDay():i(newYear(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,utcDate(r)):i(r)}}function T(t,e,n,r){for(var a,i,o=0,s=e.length,u=n.length;o<s;){if(u<=r)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=b[a in pads?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return $.x=x(a,$),$.X=x(i,$),$.c=x(r,$),v.x=x(a,v),v.X=x(i,v),v.c=x(r,v),{format:function(t){var e=x(t+="",$);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",localDate);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,utcDate);return e.toString=function(){return t},e}}}var locale$1,timeFormat,timeParse,utcFormat,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",t=a.length;return r+(t<n?new Array(n-t+1).join(e)+a:a)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function parseWeekdayNumberSunday(t,e,n){e=numberRe.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function parseWeekdayNumberMonday(t,e,n){e=numberRe.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function parseWeekNumberSunday(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function parseWeekNumberISO(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function parseWeekNumberMonday(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function parseFullYear(t,e,n){e=numberRe.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function parseYear(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function parseZone(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function parseMonthNumber(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function parseDayOfMonth(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function parseDayOfYear(t,e,n){e=numberRe.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function parseHour24(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function parseMinutes(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function parseSeconds(t,e,n){e=numberRe.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function parseMilliseconds(t,e,n){e=numberRe.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function parseMicroseconds(t,e,n){e=numberRe.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function parseLiteralPercent(t,e,n){e=percentRe.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function parseUnixTimestamp(t,e,n){e=numberRe.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function parseUnixTimestampSeconds(t,e,n){e=numberRe.exec(e.slice(n));return e?(t.Q=1e3*+e[0],n+e[0].length):-1}function formatDayOfMonth(t,e){return pad$1(t.getDate(),e,2)}function formatHour24(t,e){return pad$1(t.getHours(),e,2)}function formatHour12(t,e){return pad$1(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad$1(1+day.count(year(t),t),e,3)}function formatMilliseconds(t,e){return pad$1(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad$1(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad$1(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad$1(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){t=t.getDay();return 0===t?7:t}function formatWeekNumberSunday(t,e){return pad$1(sunday.count(year(t),t),e,2)}function formatWeekNumberISO(t,e){var n=t.getDay();return t=4<=n||0===n?thursday(t):thursday.ceil(t),pad$1(thursday.count(year(t),t)+(4===year(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad$1(monday.count(year(t),t),e,2)}function formatYear$1(t,e){return pad$1(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad$1(t.getFullYear()%1e4,e,4)}function formatZone(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+pad$1(t/60|0,"0",2)+pad$1(t%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad$1(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad$1(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad$1(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad$1(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad$1(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad$1(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad$1(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad$1(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){t=t.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday(t,e){return pad$1(utcSunday.count(utcYear(t),t),e,2)}function formatUTCWeekNumberISO(t,e){var n=t.getUTCDay();return t=4<=n||0===n?utcThursday(t):utcThursday.ceil(t),pad$1(utcThursday.count(utcYear(t),t)+(4===utcYear(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad$1(utcMonday.count(utcYear(t),t),e,2)}function formatUTCYear(t,e){return pad$1(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad$1(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale$1(t){return locale$1=formatLocale$1(t),timeFormat=locale$1.format,timeParse=locale$1.parse,utcFormat=locale$1.utcFormat,utcParse=locale$1.utcParse,locale$1}defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(t){return t.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier);function parseIsoNative(t){t=new Date(t);return isNaN(t)?null:t}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier),durationSecond$1=1e3,durationMinute$1=60*durationSecond$1,durationHour$1=60*durationMinute$1,durationDay$1=24*durationHour$1,durationWeek$1=7*durationDay$1,durationMonth=30*durationDay$1,durationYear=365*durationDay$1;function date$1(t){return new Date(t)}function number$3(t){return t instanceof Date?+t:+new Date(+t)}function calendar(o,e,n,r,a,i,s,u,c){var l=continuous(deinterpolateLinear,reinterpolate),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),_=c("%a %d"),m=c("%b %d"),$=c("%B"),v=c("%Y"),b=[[s,1,durationSecond$1],[s,5,5*durationSecond$1],[s,15,15*durationSecond$1],[s,30,30*durationSecond$1],[i,1,durationMinute$1],[i,5,5*durationMinute$1],[i,15,15*durationMinute$1],[i,30,30*durationMinute$1],[a,1,durationHour$1],[a,3,3*durationHour$1],[a,6,6*durationHour$1],[a,12,12*durationHour$1],[r,1,durationDay$1],[r,2,2*durationDay$1],[n,1,durationWeek$1],[e,1,durationMonth],[e,3,3*durationMonth],[o,1,durationYear]];function x(t){return(s(t)<t?d:i(t)<t?p:a(t)<t?g:r(t)<t?y:e(t)<t?n(t)<t?_:m:o(t)<t?$:v)(t)}function w(t,e,n,r){var a,i;return null==t&&(t=10),"number"==typeof t&&(a=Math.abs(n-e)/t,t=(i=bisector(function(t){return t[2]}).right(b,a))===b.length?(r=tickStep(e/durationYear,n/durationYear,t),o):i?(r=(i=b[a/b[i-1][2]<b[i][2]/a?i-1:i])[1],i[0]):(r=Math.max(tickStep(e,n,t),1),u)),null==r?t:t.every(r)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(map$4.call(t,number$3)):h().map(date$1)},l.ticks=function(t,e){var n,r=h(),a=r[0],i=r[r.length-1],r=i<a;return r&&(n=a,a=i,i=n),n=(n=w(t,a,i,e))?n.range(a,i+1):[],r?n.reverse():n},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t,e){var n=h();return(t=w(t,n[0],n[n.length-1],e))?h(nice(n,t)):l},l.copy=function(){return copy(l,calendar(o,e,n,r,a,i,s,u,c))},l}function time$1(){return calendar(year,month,sunday,day,hour,minute,second,millisecond,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function utcTime(){return calendar(utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,millisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function colors(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}var category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),category20b=colors("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),category20c=colors("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),category20=colors("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),cubehelix$3=cubehelixLong(cubehelix(300,.5,0),cubehelix(-240,.5,1)),warm=cubehelixLong(cubehelix(-100,.75,.35),cubehelix(80,1.5,.8)),cool=cubehelixLong(cubehelix(260,.75,.35),cubehelix(80,1.5,.8)),rainbow=cubehelix();function rainbow$1(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return rainbow.h=360*t-100,rainbow.s=1.5-1.5*e,rainbow.l=.8-.9*e,rainbow+""}function ramp(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var viridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function sequential(e){var n=0,r=1,a=!1;function i(t){t=(t-n)/(r-n);return e(a?Math.max(0,Math.min(1,t)):t)}return i.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.clamp=function(t){return arguments.length?(a=!!t,i):a},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return sequential(e).domain([n,r]).clamp(a)},linearish(i)}function constant$b(t){return function(){return t}}var abs$1=Math.abs,atan2$1=Math.atan2,cos$2=Math.cos,max$3=Math.max,min$2=Math.min,sin$2=Math.sin,sqrt$2=Math.sqrt,epsilon$3=1e-12,pi$4=Math.PI,halfPi$3=pi$4/2,tau$4=2*pi$4;function acos$1(t){return 1<t?0:t<-1?pi$4:Math.acos(t)}function asin$1(t){return 1<=t?halfPi$3:t<=-1?-halfPi$3:Math.asin(t)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function intersect$1(t,e,n,r,a,i,o,s){n-=t,r-=e,o-=a,s-=i,o=(o*(e-i)-s*(t-a))/(s*n-o*r);return[t+o*n,e+o*r]}function cornerTangents(t,e,n,r,a,i,o){var s=t-n,u=e-r,c=(o?i:-i)/sqrt$2(s*s+u*u),l=c*u,f=-c*s,h=t+l,d=e+f,o=n+l,u=r+f,c=(h+o)/2,s=(d+u)/2,t=o-h,e=u-d,n=t*t+e*e,r=a-i,i=h*u-o*d,h=(e<0?-1:1)*sqrt$2(max$3(0,r*r*n-i*i)),u=(i*e-t*h)/n,o=(-i*t-e*h)/n,d=(i*e+t*h)/n,e=(-i*t+e*h)/n,h=u-c,n=o-s,c=d-c,s=e-s;return c*c+s*s<h*h+n*n&&(u=d,o=e),{cx:u,cy:o,x01:-l,y01:-f,x11:u*(a/r-1),y11:o*(a/r-1)}}function arc(){var C=arcInnerRadius,k=arcOuterRadius,N=constant$b(0),A=null,R=arcStartAngle,P=arcEndAngle,I=arcPadAngle,O=null;function e(){var t,e,n,r,a,i,o,s,u,c,l,f,h,d,p,g,y,_,m,$,v,b,x=+C.apply(this,arguments),w=+k.apply(this,arguments),T=R.apply(this,arguments)-halfPi$3,S=P.apply(this,arguments)-halfPi$3,E=abs$1(S-T),M=T<S;if(O=O||(t=path()),w<x&&(f=w,w=x,x=f),epsilon$3<w?tau$4-epsilon$3<E?(O.moveTo(w*cos$2(T),w*sin$2(T)),O.arc(0,0,w,T,S,!M),epsilon$3<x&&(O.moveTo(x*cos$2(S),x*sin$2(S)),O.arc(0,0,x,S,T,M))):(r=e=T,a=n=S,o=i=E,d=I.apply(this,arguments)/2,h=epsilon$3<d&&(A?+A.apply(this,arguments):sqrt$2(x*x+w*w)),b=v=s=min$2(abs$1(w-x)/2,+N.apply(this,arguments)),epsilon$3<h&&($=asin$1(h/x*sin$2(d)),m=asin$1(h/w*sin$2(d)),(i-=2*$)>epsilon$3?(r+=$*=M?1:-1,a-=$):(i=0,r=a=(T+S)/2),(o-=2*m)>epsilon$3?(e+=m*=M?1:-1,n-=m):(o=0,e=n=(T+S)/2)),l=w*cos$2(e),f=w*sin$2(e),h=x*cos$2(a),d=x*sin$2(a),epsilon$3<s&&(p=w*cos$2(n),g=w*sin$2(n),y=x*cos$2(r),_=x*sin$2(r),E<pi$4&&(m=l-($=epsilon$3<i?intersect$1(l,f,y,_,p,g,h,d):[h,d])[0],T=f-$[1],S=p-$[0],E=g-$[1],E=1/sin$2(acos$1((m*S+T*E)/(sqrt$2(m*m+T*T)*sqrt$2(S*S+E*E)))/2),$=sqrt$2($[0]*$[0]+$[1]*$[1]),v=min$2(s,(x-$)/(E-1)),b=min$2(s,(w-$)/(1+E)))),epsilon$3<o?epsilon$3<b?(u=cornerTangents(y,_,l,f,w,b,M),c=cornerTangents(p,g,h,d,w,b,M),O.moveTo(u.cx+u.x01,u.cy+u.y01),b<s?O.arc(u.cx,u.cy,b,atan2$1(u.y01,u.x01),atan2$1(c.y01,c.x01),!M):(O.arc(u.cx,u.cy,b,atan2$1(u.y01,u.x01),atan2$1(u.y11,u.x11),!M),O.arc(0,0,w,atan2$1(u.cy+u.y11,u.cx+u.x11),atan2$1(c.cy+c.y11,c.cx+c.x11),!M),O.arc(c.cx,c.cy,b,atan2$1(c.y11,c.x11),atan2$1(c.y01,c.x01),!M))):(O.moveTo(l,f),O.arc(0,0,w,e,n,!M)):O.moveTo(l,f),epsilon$3<x&&epsilon$3<i?epsilon$3<v?(u=cornerTangents(h,d,p,g,x,-v,M),c=cornerTangents(l,f,y,_,x,-v,M),O.lineTo(u.cx+u.x01,u.cy+u.y01),v<s?O.arc(u.cx,u.cy,v,atan2$1(u.y01,u.x01),atan2$1(c.y01,c.x01),!M):(O.arc(u.cx,u.cy,v,atan2$1(u.y01,u.x01),atan2$1(u.y11,u.x11),!M),O.arc(0,0,x,atan2$1(u.cy+u.y11,u.cx+u.x11),atan2$1(c.cy+c.y11,c.cx+c.x11),M),O.arc(c.cx,c.cy,v,atan2$1(c.y11,c.x11),atan2$1(c.y01,c.x01),!M))):O.arc(0,0,x,a,r,M):O.lineTo(h,d)):O.moveTo(0,0),O.closePath(),t)return O=null,t+""||null}return e.centroid=function(){var t=(+C.apply(this,arguments)+ +k.apply(this,arguments))/2,e=(+R.apply(this,arguments)+ +P.apply(this,arguments))/2-pi$4/2;return[cos$2(e)*t,sin$2(e)*t]},e.innerRadius=function(t){return arguments.length?(C="function"==typeof t?t:constant$b(+t),e):C},e.outerRadius=function(t){return arguments.length?(k="function"==typeof t?t:constant$b(+t),e):k},e.cornerRadius=function(t){return arguments.length?(N="function"==typeof t?t:constant$b(+t),e):N},e.padRadius=function(t){return arguments.length?(A=null==t?null:"function"==typeof t?t:constant$b(+t),e):A},e.startAngle=function(t){return arguments.length?(R="function"==typeof t?t:constant$b(+t),e):R},e.endAngle=function(t){return arguments.length?(P="function"==typeof t?t:constant$b(+t),e):P},e.padAngle=function(t){return arguments.length?(I="function"==typeof t?t:constant$b(+t),e):I},e.context=function(t){return arguments.length?(O=null==t?null:t,e):O},e}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x$3(t){return t[0]}function y$3(t){return t[1]}function line(){var o=x$3,s=y$3,u=constant$b(!0),c=null,l=curveLinear,f=null;function e(t){var e,n,r,a=t.length,i=!1;for(null==c&&(f=l(r=path())),e=0;e<=a;++e)!(e<a&&u(n=t[e],e,t))===i&&((i=!i)?f.lineStart():f.lineEnd()),i&&f.point(+o(n,e,t),+s(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(o="function"==typeof t?t:constant$b(+t),e):o},e.y=function(t){return arguments.length?(s="function"==typeof t?t:constant$b(+t),e):s},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:constant$b(!!t),e):u},e.curve=function(t){return arguments.length?(l=t,null!=c&&(f=l(c)),e):l},e.context=function(t){return arguments.length?(null==t?c=f=null:f=l(c=t),e):c},e}function area$2(){var l=x$3,f=null,h=constant$b(0),d=y$3,p=constant$b(!0),g=null,y=curveLinear,_=null;function e(t){var e,n,r,a,i,o=t.length,s=!1,u=new Array(o),c=new Array(o);for(null==g&&(_=y(i=path())),e=0;e<=o;++e){if(!(e<o&&p(a=t[e],e,t))===s)if(s=!s)n=e,_.areaStart(),_.lineStart();else{for(_.lineEnd(),_.lineStart(),r=e-1;n<=r;--r)_.point(u[r],c[r]);_.lineEnd(),_.areaEnd()}s&&(u[e]=+l(a,e,t),c[e]=+h(a,e,t),_.point(f?+f(a,e,t):u[e],d?+d(a,e,t):c[e]))}if(i)return _=null,i+""||null}function t(){return line().defined(p).curve(y).context(g)}return e.x=function(t){return arguments.length?(l="function"==typeof t?t:constant$b(+t),f=null,e):l},e.x0=function(t){return arguments.length?(l="function"==typeof t?t:constant$b(+t),e):l},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:constant$b(+t),e):f},e.y=function(t){return arguments.length?(h="function"==typeof t?t:constant$b(+t),d=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:constant$b(+t),e):h},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:constant$b(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(l).y(h)},e.lineY1=function(){return t().x(l).y(d)},e.lineX1=function(){return t().x(f).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:constant$b(!!t),e):p},e.curve=function(t){return arguments.length?(y=t,null!=g&&(_=y(g)),e):y},e.context=function(t){return arguments.length?(null==t?g=_=null:_=y(g=t),e):g},e}function descending$1(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function identity$8(t){return t}function pie(){var p=identity$8,g=descending$1,y=null,_=constant$b(0),m=constant$b(tau$4),$=constant$b(0);function e(n){for(var t,e,r,a,i=n.length,o=0,s=new Array(i),u=new Array(i),c=+_.apply(this,arguments),l=Math.min(tau$4,Math.max(-tau$4,m.apply(this,arguments)-c)),f=Math.min(Math.abs(l)/i,$.apply(this,arguments)),h=f*(l<0?-1:1),d=0;d<i;++d)0<(a=u[s[d]=d]=+p(n[d],d,n))&&(o+=a);for(null!=g?s.sort(function(t,e){return g(u[t],u[e])}):null!=y&&s.sort(function(t,e){return y(n[t],n[e])}),d=0,e=o?(l-i*h)/o:0;d<i;++d,c=r)t=s[d],r=c+(0<(a=u[t])?a*e:0)+h,u[t]={data:n[t],index:d,value:a,startAngle:c,endAngle:r,padAngle:f};return u}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:constant$b(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,y=null,e):g},e.sort=function(t){return arguments.length?(y=t,g=null,e):y},e.startAngle=function(t){return arguments.length?(_="function"==typeof t?t:constant$b(+t),e):_},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:constant$b(+t),e):m},e.padAngle=function(t){return arguments.length?($="function"==typeof t?t:constant$b(+t),e):$},e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var curveRadialLinear=curveRadial(curveLinear);function Radial(t){this._curve=t}function curveRadial(e){function t(t){return new Radial(e(t))}return t._curve=e,t}function lineRadial(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t}function lineRadial$1(){return lineRadial(line().curve(curveRadialLinear))}function areaRadial(){var t=area$2().curve(curveRadialLinear),e=t.curve,n=t.lineX0,r=t.lineX1,a=t.lineY0,i=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lineRadial(n())},delete t.lineX0,t.lineEndAngle=function(){return lineRadial(r())},delete t.lineX1,t.lineInnerRadius=function(){return lineRadial(a())},delete t.lineY0,t.lineOuterRadius=function(){return lineRadial(i())},delete t.lineY1,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t}function pointRadial(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var slice$6=Array.prototype.slice;function linkSource(t){return t.source}function linkTarget(t){return t.target}function link$2(a){var i=linkSource,o=linkTarget,s=x$3,u=y$3,c=null;function e(){var t,e=slice$6.call(arguments),n=i.apply(this,e),r=o.apply(this,e);if(c=c||(t=path()),a(c,+s.apply(this,(e[0]=n,e)),+u.apply(this,e),+s.apply(this,(e[0]=r,e)),+u.apply(this,e)),t)return c=null,t+""||null}return e.source=function(t){return arguments.length?(i=t,e):i},e.target=function(t){return arguments.length?(o=t,e):o},e.x=function(t){return arguments.length?(s="function"==typeof t?t:constant$b(+t),e):s},e.y=function(t){return arguments.length?(u="function"==typeof t?t:constant$b(+t),e):u},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e}function curveHorizontal(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,a,r,a)}function curveVertical(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+a)/2,r,n,r,a)}function curveRadial$1(t,e,n,r,a){var i=pointRadial(e,n),e=pointRadial(e,n=(n+a)/2),n=pointRadial(r,n),a=pointRadial(r,a);t.moveTo(i[0],i[1]),t.bezierCurveTo(e[0],e[1],n[0],n[1],a[0],a[1])}function linkHorizontal(){return link$2(curveHorizontal)}function linkVertical(){return link$2(curveVertical)}function linkRadial(){var t=link$2(curveRadial$1);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var circle$2={draw:function(t,e){e=Math.sqrt(e/pi$4);t.moveTo(e,0),t.arc(0,0,e,0,tau$4)}},cross$2={draw:function(t,e){e=Math.sqrt(e/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},tan30=Math.sqrt(1/3),tan30_2=2*tan30,diamond={draw:function(t,e){var n=Math.sqrt(e/tan30_2),e=n*tan30;t.moveTo(0,-n),t.lineTo(e,0),t.lineTo(0,n),t.lineTo(-e,0),t.closePath()}},ka=.8908130915292852,kr=Math.sin(pi$4/10)/Math.sin(7*pi$4/10),kx=Math.sin(tau$4/10)*kr,ky=-Math.cos(tau$4/10)*kr,star={draw:function(t,e){var n=Math.sqrt(e*ka),r=kx*n,a=ky*n;t.moveTo(0,-n),t.lineTo(r,a);for(var i=1;i<5;++i){var o=tau$4*i/5,s=Math.cos(o),o=Math.sin(o);t.lineTo(o*n,-s*n),t.lineTo(s*r-o*a,o*r+s*a)}t.closePath()}},square={draw:function(t,e){var n=Math.sqrt(e),e=-n/2;t.rect(e,e,n,n)}},sqrt3=Math.sqrt(3),triangle={draw:function(t,e){e=-Math.sqrt(e/(3*sqrt3));t.moveTo(0,2*e),t.lineTo(-sqrt3*e,-e),t.lineTo(sqrt3*e,-e),t.closePath()}},c=-.5,s=Math.sqrt(3)/2,k=1/Math.sqrt(12),a=3*(k/2+1),wye={draw:function(t,e){var n=Math.sqrt(e/a),r=n/2,i=n*k,o=r,u=n*k+n,e=-o,n=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(e,n),t.lineTo(c*r-s*i,s*r+c*i),t.lineTo(c*o-s*u,s*o+c*u),t.lineTo(c*e-s*n,s*e+c*n),t.lineTo(c*r+s*i,c*i-s*r),t.lineTo(c*o+s*u,c*u-s*o),t.lineTo(c*e+s*n,c*n-s*e),t.closePath()}},symbols=[circle$2,cross$2,diamond,square,star,triangle,wye];function symbol(){var e=constant$b(circle$2),n=constant$b(64),r=null;function a(){var t;if(r=r||(t=path()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return a.type=function(t){return arguments.length?(e="function"==typeof t?t:constant$b(t),a):e},a.size=function(t){return arguments.length?(n="function"==typeof t?t:constant$b(+t),a):n},a.context=function(t){return arguments.length?(r=null==t?null:t,a):r},a}function noop$4(){}function point$2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}function basis$2(t){return new Basis(t)}function BasisClosed(t){this._context=t}function basisClosed$1(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}function basisOpen(t){return new BasisOpen(t)}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:point$2(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,a=t[0],i=e[0],o=t[n]-a,s=e[n]-i,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(a+r*o),this._beta*e[u]+(1-this._beta)*(i+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var bundle=function e(n){function t(t){return 1===n?new Basis(t):new Bundle(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function point$3(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:point$3(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cardinal=function e(n){function t(t){return new Cardinal(t,n)}return t.tension=function(t){return e(+t)},t}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$3(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cardinalClosed=function e(n){function t(t){return new CardinalClosed(t,n)}return t.tension=function(t){return e(+t)},t}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cardinalOpen=function e(n){function t(t){return new CardinalOpen(t,n)}return t.tension=function(t){return e(+t)},t}(0);function point$4(t,e,n){var r,a,i=t._x1,o=t._y1,s=t._x2,u=t._y2;t._l01_a>epsilon$3&&(r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,a=3*t._l01_a*(t._l01_a+t._l12_a),i=(i*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/a,o=(o*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/a),t._l23_a>epsilon$3&&(r=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,a=3*t._l23_a*(t._l23_a+t._l12_a),s=(s*r+t._x1*t._l23_2a-e*t._l12_2a)/a,u=(u*r+t._y1*t._l23_2a-n*t._l12_2a)/a),t._context.bezierCurveTo(i,o,s,u,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n,r;switch(t=+t,e=+e,this._point&&(n=this._x2-t,r=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))),this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:point$4(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var catmullRom=function e(n){function t(t){return n?new CatmullRom(t,n):new Cardinal(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){var n,r;switch(t=+t,e=+e,this._point&&(n=this._x2-t,r=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))),this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$4(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var catmullRomClosed=function e(n){function t(t){return n?new CatmullRomClosed(t,n):new CardinalClosed(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n,r;switch(t=+t,e=+e,this._point&&(n=this._x2-t,r=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))),this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$4(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var catmullRomOpen=function e(n){function t(t){return n?new CatmullRomOpen(t,n):new CardinalOpen(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function LinearClosed(t){this._context=t}function linearClosed(t){return new LinearClosed(t)}function sign$1(t){return t<0?-1:1}function slope3(t,e,n){var r=t._x1-t._x0,a=e-t._x1,e=(t._y1-t._y0)/(r||a<0&&-0),t=(n-t._y1)/(a||r<0&&-0),a=(e*a+t*r)/(r+a);return(sign$1(e)+sign$1(t))*Math.min(Math.abs(e),Math.abs(t),.5*Math.abs(a))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point$5(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,a+s*e,i-s,o-s*n,i,o)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,n,r=t.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(i[a[0]=0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;0<=e;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function natural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}function step(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function none$1(t,e){if(1<(a=t.length))for(var n,r,a,i=1,o=t[e[0]],s=o.length;i<a;++i)for(r=o,o=t[e[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function none$2(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stack(){var f=constant$b([]),h=none$2,d=none$1,p=stackValue;function e(t){for(var e,n=f.apply(this,arguments),r=t.length,a=n.length,i=new Array(a),o=0;o<a;++o){for(var s,u=n[o],c=i[o]=new Array(r),l=0;l<r;++l)c[l]=s=[0,+p(t[l],u,l,t)],s.data=t[l];c.key=u}for(o=0,e=h(i);o<a;++o)i[e[o]].index=o;return d(i,e),i}return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:constant$b(slice$6.call(t)),e):f},e.value=function(t){return arguments.length?(p="function"==typeof t?t:constant$b(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?none$2:"function"==typeof t?t:constant$b(slice$6.call(t)),e):h},e.offset=function(t){return arguments.length?(d=null==t?none$1:t,e):d},e}function expand(t,e){if(0<(r=t.length)){for(var n,r,a,i=0,o=t[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}none$1(t,e)}}function diverging(t,e){if(1<(s=t.length))for(var n,r,a,i,o,s,u=0,c=t[e[0]].length;u<c;++u)for(n=i=o=0;n<s;++n)0<=(a=(r=t[e[n]][u])[1]-r[0])?(r[0]=i,r[1]=i+=a):a<0?(r[1]=o,r[0]=o+=a):r[0]=i}function silhouette(t,e){if(0<(n=t.length)){for(var n,r=0,a=t[e[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}none$1(t,e)}}function wiggle(t,e){if(0<(a=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,u=0,c=0;s<a;++s){for(var l=t[e[s]],f=l[o][1]||0,h=(f-(l[o-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[o][1]||0)-(p[o-1][1]||0)}u+=f,c+=h*f}n[o-1][1]+=n[o-1][0]=i,u&&(i-=c/u)}n[o-1][1]+=n[o-1][0]=i,none$1(t,e)}}function ascending$2(t){var n=t.map(sum$2);return none$2(t).sort(function(t,e){return n[t]-n[e]})}function sum$2(t){for(var e,n=0,r=-1,a=t.length;++r<a;)(e=+t[r][1])&&(n+=e);return n}function descending$2(t){return ascending$2(t).reverse()}function insideOut(t){for(var e,n=t.length,r=t.map(sum$2),a=none$2(t).sort(function(t,e){return r[e]-r[t]}),i=0,o=0,s=[],u=[],c=0;c<n;++c)e=a[c],i<o?(i+=r[e],s.push(e)):(o+=r[e],u.push(e));return u.reverse().concat(s)}function reverse(t){return none$2(t).reverse()}function constant$c(t){return function(){return t}}function x$4(t){return t[0]}function y$4(t){return t[1]}function RedBlackTree(){this._=null}function RedBlackNode(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function RedBlackRotateLeft(t,e){var n=e,r=e.R,e=n.U;e?e.L===n?e.L=r:e.R=r:t._=r,r.U=e,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function RedBlackRotateRight(t,e){var n=e,r=e.L,e=n.U;e?e.L===n?e.L=r:e.R=r:t._=r,r.U=e,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function RedBlackFirst(t){for(;t.L;)t=t.L;return t}function createEdge(t,e,n,r){var a=[null,null],i=edges.push(a)-1;return a.left=t,a.right=e,n&&setEdgeEnd(a,t,e,n),r&&setEdgeEnd(a,e,t,r),cells[t.index].halfedges.push(i),cells[e.index].halfedges.push(i),a}function createBorderEdge(t,e,n){n=[e,n];return n.left=t,n}function setEdgeEnd(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function clipEdge(t,e,n,r,a){var i=t[0],o=t[1],s=i[0],u=i[1],c=0,l=1,i=o[0]-s,o=o[1]-u,e=e-s;if(i||!(0<e)){if(e/=i,i<0){if(e<c)return;e<l&&(l=e)}else if(0<i){if(l<e)return;c<e&&(c=e)}if(e=r-s,i||!(e<0)){if(e/=i,i<0){if(l<e)return;c<e&&(c=e)}else if(0<i){if(e<c)return;e<l&&(l=e)}if(e=n-u,o||!(0<e)){if(e/=o,o<0){if(e<c)return;e<l&&(l=e)}else if(0<o){if(l<e)return;c<e&&(c=e)}if(e=a-u,o||!(e<0)){if(e/=o,o<0){if(l<e)return;c<e&&(c=e)}else if(0<o){if(e<c)return;e<l&&(l=e)}return 0<c||l<1?(0<c&&(t[0]=[s+c*i,u+c*o]),l<1&&(t[1]=[s+l*i,u+l*o]),!0):!0}}}}}function connectEdge(t,e,n,r,a){var i=t[1];if(i)return!0;var o=t[0],s=t.left,u=t.right,c=s[0],l=s[1],f=u[0],h=u[1],s=(c+f)/2,u=(l+h)/2;if(h===l){if(s<e||r<=s)return;if(f<c){if(o){if(o[1]>=a)return}else o=[s,n];i=[s,a]}else{if(o){if(o[1]<n)return}else o=[s,a];i=[s,n]}}else if(s=u-(u=(c-f)/(h-l))*s,u<-1||1<u)if(f<c){if(o){if(o[1]>=a)return}else o=[(n-s)/u,n];i=[(a-s)/u,a]}else{if(o){if(o[1]<n)return}else o=[(a-s)/u,a];i=[(n-s)/u,n]}else if(l<h){if(o){if(o[0]>=r)return}else o=[e,u*e+s];i=[r,u*r+s]}else{if(o){if(o[0]<e)return}else o=[r,u*r+s];i=[e,u*e+s]}return t[0]=o,t[1]=i,!0}function clipEdges(t,e,n,r){for(var a,i=edges.length;i--;)connectEdge(a=edges[i],t,e,n,r)&&clipEdge(a,t,e,n,r)&&(Math.abs(a[0][0]-a[1][0])>epsilon$4||Math.abs(a[0][1]-a[1][1])>epsilon$4)||delete edges[i]}function createCell(t){return cells[t.index]={site:t,halfedges:[]}}function cellHalfedgeAngle(t,e){var n=t.site,r=e.left,t=e.right;return n===t&&(t=r,r=n),t?Math.atan2(t[1]-r[1],t[0]-r[0]):(t=n===r?(r=e[1],e[0]):(r=e[0],e[1]),Math.atan2(r[0]-t[0],t[1]-r[1]))}function cellHalfedgeStart(t,e){return e[+(e.left!==t.site)]}function cellHalfedgeEnd(t,e){return e[+(e.left===t.site)]}function sortCellHalfedges(){for(var t,e,n,r=0,a=cells.length;r<a;++r)if((t=cells[r])&&(n=(e=t.halfedges).length)){for(var i=new Array(n),o=new Array(n),s=0;s<n;++s)i[s]=s,o[s]=cellHalfedgeAngle(t,edges[e[s]]);for(i.sort(function(t,e){return o[e]-o[t]}),s=0;s<n;++s)o[s]=e[i[s]];for(s=0;s<n;++s)e[s]=o[s]}}function clipCells(t,e,n,r){var a,i,o,s,u,c,l,f,h,d,p=cells.length,g=!0;for(x=0;x<p;++x)if(a=cells[x]){for(i=a.site,o=(s=a.halfedges).length;o--;)edges[s[o]]||s.splice(o,1);for(o=0,u=s.length;o<u;)h=(f=cellHalfedgeEnd(a,edges[s[o]]))[0],d=f[1],c=(l=cellHalfedgeStart(a,edges[s[++o%u]]))[0],l=l[1],(Math.abs(h-c)>epsilon$4||Math.abs(d-l)>epsilon$4)&&(s.splice(o,0,edges.push(createBorderEdge(i,f,Math.abs(h-t)<epsilon$4&&epsilon$4<r-d?[t,Math.abs(c-t)<epsilon$4?l:r]:Math.abs(d-r)<epsilon$4&&epsilon$4<n-h?[Math.abs(l-r)<epsilon$4?c:n,r]:Math.abs(h-n)<epsilon$4&&epsilon$4<d-e?[n,Math.abs(c-n)<epsilon$4?l:e]:Math.abs(d-e)<epsilon$4&&epsilon$4<h-t?[Math.abs(l-e)<epsilon$4?c:t,e]:null))-1),++u);u&&(g=!1)}if(g){for(var y,_,m,$,v,b=1/0,x=0,g=null;x<p;++x)(a=cells[x])&&(y=(y=(i=a.site)[0]-t)*y+(y=i[1]-e)*y)<b&&(b=y,g=a);g&&(_=[t,e],m=[t,r],$=[n,r],v=[n,e],g.halfedges.push(edges.push(createBorderEdge(i=g.site,_,m))-1,edges.push(createBorderEdge(i,m,$))-1,edges.push(createBorderEdge(i,$,v))-1,edges.push(createBorderEdge(i,v,_))-1))}for(x=0;x<p;++x)(a=cells[x])&&(a.halfedges.length||delete cells[x])}LinearClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$5(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$5(this,slope2(this,n=slope3(this,t,e)),n);break;default:point$5(this,this._t0,n=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=controlPoints(t),a=controlPoints(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:var n;this._t<=0?(this._context.lineTo(this._x,e),this._context.lineTo(t,e)):(n=this._x*(1-this._t)+t*this._t,this._context.lineTo(n,this._y),this._context.lineTo(n,e))}this._x=t,this._y=e}},RedBlackTree.prototype={constructor:RedBlackTree,insert:function(t,e){var n,r,a;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=RedBlackFirst(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(a=r.R)&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.R&&(RedBlackRotateLeft(this,n),n=(t=n).U),n.C=!1,r.C=!0,RedBlackRotateRight(this,r)):(a=r.L)&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.L&&(RedBlackRotateRight(this,n),n=(t=n).U),n.C=!1,r.C=!0,RedBlackRotateLeft(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r=t.U,a=t.L,i=t.R,o=a?i?RedBlackFirst(i):a:i;if(r?r.L===t?r.L=o:r.R=o:this._=o,a&&i?(n=o.C,o.C=t.C,((o.L=a).U=o)!==i?(r=o.U,o.U=t.U,t=o.R,r.L=t,(o.R=i).U=o):(o.U=r,t=(r=o).R)):(n=t.C,t=o),t&&(t.U=r),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,RedBlackRotateLeft(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,RedBlackRotateRight(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,RedBlackRotateLeft(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,RedBlackRotateRight(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,RedBlackRotateLeft(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,RedBlackRotateRight(this,r),t=this._;break}}while(e.C=!0,r=(t=r).U,!t.C);t&&(t.C=!1)}}};var firstCircle,circlePool=[];function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,a=t.site,i=n.site;if(r!==i){var o=a[0],s=a[1],u=r[0]-o,c=r[1]-s,l=i[0]-o,e=i[1]-s,n=2*(u*e-c*l);if(!(-epsilon2$2<=n)){var r=u*u+c*c,i=l*l+e*e,c=(e*r-c*i)/n,n=(u*i-l*r)/n,f=circlePool.pop()||new Circle;f.arc=t,f.site=a,f.x=c+o,f.y=(f.cy=n+s)+Math.sqrt(c*c+n*n),t.circle=f;for(var h=null,d=circles._;d;)if(f.y<d.y||f.y===d.y&&f.x<=d.x){if(!d.L){h=d.P;break}d=d.L}else{if(!d.R){h=d;break}d=d.R}circles.insert(h,f),h||(firstCircle=f)}}}}function detachCircle(t){var e=t.circle;e&&(e.P||(firstCircle=e.N),circles.remove(e),circlePool.push(e),RedBlackNode(e),t.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(t){var e=beachPool.pop()||new Beach;return e.site=t,e}function detachBeach(t){detachCircle(t),beaches.remove(t),beachPool.push(t),RedBlackNode(t)}function removeBeach(t){var e=t.circle,n=e.x,r=e.cy,a=[n,r],i=t.P,o=t.N,s=[t];detachBeach(t);for(var u=i;u.circle&&Math.abs(n-u.circle.x)<epsilon$4&&Math.abs(r-u.circle.cy)<epsilon$4;)i=u.P,s.unshift(u),detachBeach(u),u=i;s.unshift(u),detachCircle(u);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<epsilon$4&&Math.abs(r-c.circle.cy)<epsilon$4;)o=c.N,s.push(c),detachBeach(c),c=o;s.push(c),detachCircle(c);for(var l=s.length,f=1;f<l;++f)c=s[f],u=s[f-1],setEdgeEnd(c.edge,u.site,c.site,a);u=s[0],(c=s[l-1]).edge=createEdge(u.site,c.site,null,a),attachCircle(u),attachCircle(c)}function addBeach(t){for(var e,n,r,a,i=t[0],o=t[1],s=beaches._;s;)if(r=leftBreakPoint(s,o)-i,epsilon$4<r)s=s.L;else{if(a=i-rightBreakPoint(s,o),!(epsilon$4<a)){-epsilon$4<r?(e=s.P,n=s):-epsilon$4<a?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}createCell(t);var u,c,l,f,h,d,p,g,y,_,m=createBeach(t);if(beaches.insert(e,m),e||n){if(e===n)return detachCircle(e),n=createBeach(e.site),beaches.insert(m,n),m.edge=n.edge=createEdge(e.site,m.site),attachCircle(e),void attachCircle(n);n?(detachCircle(e),detachCircle(n),c=(u=e.site)[0],_=u[1],l=t[0]-c,p=t[1]-_,h=(f=n.site)[0]-c,_=[((d=f[1]-_)*(g=l*l+p*p)-p*(y=h*h+d*d))/(p=2*(l*d-p*h))+c,(l*y-h*g)/p+_],setEdgeEnd(n.edge,u,f,_),m.edge=createEdge(u,t,null,_),n.edge=createEdge(t,f,null,_),attachCircle(e),attachCircle(n)):m.edge=createEdge(e.site,m.site)}}function leftBreakPoint(t,e){var n=t.site,r=n[0],a=n[1],i=a-e;if(!i)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],t=u-e;if(!t)return s;o=s-r,n=1/i-1/t,e=o/t;return n?(-e+Math.sqrt(e*e-2*n*(o*o/(-2*t)-u+t/2+a-i/2)))/n+r:(r+s)/2}function rightBreakPoint(t,e){var n=t.N;if(n)return leftBreakPoint(n,e);t=t.site;return t[1]===e?t[0]:1/0}var beaches,cells,circles,edges,epsilon$4=1e-6,epsilon2$2=1e-12;function triangleArea(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function lexicographic(t,e){return e[1]-t[1]||e[0]-t[0]}function Diagram(t,e){var n,r,a,i,o,s,u=t.sort(lexicographic).pop();for(edges=[],cells=new Array(t.length),beaches=new RedBlackTree,circles=new RedBlackTree;;)if(a=firstCircle,u&&(!a||u[1]<a.y||u[1]===a.y&&u[0]<a.x))u[0]===n&&u[1]===r||(addBeach(u),n=u[0],r=u[1]),u=t.pop();else{if(!a)break;removeBeach(a.arc)}sortCellHalfedges(),e&&(clipEdges(i=+e[0][0],o=+e[0][1],s=+e[1][0],e=+e[1][1]),clipCells(i,o,s,e)),this.edges=edges,this.cells=cells,beaches=circles=edges=cells=null}function voronoi(){var a=x$4,i=y$4,e=null;function n(r){return new Diagram(r.map(function(t,e){var n=[Math.round(a(t,e,r)/epsilon$4)*epsilon$4,Math.round(i(t,e,r)/epsilon$4)*epsilon$4];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(a="function"==typeof t?t:constant$c(+t),n):a},n.y=function(t){return arguments.length?(i="function"==typeof t?t:constant$c(+t),n):i},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n}function constant$d(t){return function(){return t}}function ZoomEvent(t,e,n){this.target=t,this.type=e,this.transform=n}function Transform(t,e,n){this.k=t,this.x=e,this.y=n}Diagram.prototype={constructor:Diagram,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return cellHalfedgeStart(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var c=[],l=this.edges;return this.cells.forEach(function(t,e){if(r=(n=t.halfedges).length)for(var n,r,a,i=t.site,o=-1,s=l[n[r-1]],u=s.left===i?s.right:s.left;++o<r;)a=u,u=(s=l[n[o]]).left===i?s.right:s.left,a&&u&&e<a.index&&e<u.index&&triangleArea(i,a,u)<0&&c.push([i.data,a.data,u.data])}),c},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(n,r,t){for(var e,a,i=this,o=i._found||0,s=i.cells.length;!(a=i.cells[o]);)if(++o>=s)return null;for(var u=n-a.site[0],c=r-a.site[1],l=u*u+c*c;a=i.cells[e=o],o=null,a.halfedges.forEach(function(t){var e=i.edges[t],t=e.left;!(t!==a.site&&t||(t=e.right))||(e=(e=n-t[0])*e+(e=r-t[1])*e)<l&&(l=e,o=t.index)}),null!==o;);return i._found=e,null==t||l<=t*t?a.site:null}},Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$9=new Transform(1,0,0);function transform$2(t){return t.__zoom||identity$9}function nopropagation$2(){event.stopImmediatePropagation()}function noevent$2(){event.preventDefault(),event.stopImmediatePropagation()}function defaultFilter$2(){return!event.button}function defaultExtent$1(){var t,e=this,e=e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,e.height.baseVal.value):(t=e.clientWidth,e.clientHeight);return[[0,0],[t,e]]}function defaultTransform(){return this.__zoom||identity$9}function defaultWheelDelta(){return-event.deltaY*(event.deltaMode?120:1)/500}function defaultTouchable$1(){return"ontouchstart"in this}function defaultConstrain(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],n=t.invertY(e[1][1])-n[1][1];return t.translate(r<a?(r+a)/2:Math.min(0,r)||Math.max(0,a),i<n?(i+n)/2:Math.min(0,i)||Math.max(0,n))}function zoom(){var h,i,s=defaultFilter$2,c=defaultExtent$1,d=defaultConstrain,a=defaultWheelDelta,e=defaultTouchable$1,o=[0,1/0],p=[[-1/0,-1/0],[1/0,1/0]],u=250,l=interpolateZoom,f=[],n=dispatch("start","zoom","end"),g=500,y=150,_=0;function m(t){t.property("__zoom",defaultTransform).on("wheel.zoom",r).on("mousedown.zoom",S).on("dblclick.zoom",E).filter(e).on("touchstart.zoom",M).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function $(t,e){return(e=Math.max(o[0],Math.min(o[1],e)))===t.k?t:new Transform(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,n=e[1]-n[1]*t.k;return r===t.x&&n===t.y?t:new Transform(t.k,r,n)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,n,u){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=w(this,t),e=c.apply(this,t),a=u||b(e),i=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),e=this.__zoom,o="function"==typeof n?n.apply(this,t):n,s=l(e.invert(a).concat(i/e.k),o.invert(a).concat(i/o.k));return function(t){var e,n;t=1===t?o:(e=s(t),new Transform(n=i/e[2],a[0]-e[0]*n,a[1]-e[1]*n)),r.zoom(null,t)}})}function w(t,e){for(var n,r=0,a=f.length;r<a;++r)if((n=f[r]).that===t)return n;return new T(t,e)}function T(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=c.apply(t,e)}function r(){if(s.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,n=Math.max(o[0],Math.min(o[1],e.k*Math.pow(2,a.apply(this,arguments)))),r=mouse(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],interrupt(this),t.start()}noevent$2(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},y),t.zoom("mouse",d(v($(e,n),t.mouse[0],t.mouse[1]),t.extent,p))}}function S(){var n,t,e,r,a;!i&&s.apply(this,arguments)&&(n=w(this,arguments),t=select(event.view).on("mousemove.zoom",function(){{var t,e;noevent$2(),n.moved||(t=event.clientX-r,e=event.clientY-a,n.moved=_<t*t+e*e)}n.zoom("mouse",d(v(n.that.__zoom,n.mouse[0]=mouse(n.that),n.mouse[1]),n.extent,p))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),yesdrag(event.view,n.moved),noevent$2(),n.end()},!0),e=mouse(this),r=event.clientX,a=event.clientY,dragDisable(event.view),nopropagation$2(),n.mouse=[e,this.__zoom.invert(e)],interrupt(this),n.start())}function E(){var t,e,n,r;s.apply(this,arguments)&&(t=this.__zoom,e=mouse(this),r=t.invert(e),n=t.k*(event.shiftKey?.5:2),r=d(v($(t,n),e,r),c.apply(this,arguments),p),noevent$2(),0<u?select(this).transition().duration(u).call(x,r,e):select(this).call(m.transform,r))}function M(){if(s.apply(this,arguments)){var t,e,n,r,a=w(this,arguments),i=event.changedTouches,o=i.length;for(nopropagation$2(),e=0;e<o;++e)r=[r=touch(this,i,(n=i[e]).identifier),this.__zoom.invert(r),n.identifier],a.touch0?a.touch1||(a.touch1=r):(a.touch0=r,t=!0);if(h&&(h=clearTimeout(h),!a.touch1))return a.end(),void((r=select(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(h=setTimeout(function(){h=null},g),interrupt(this),a.start())}}function C(){var t,e=w(this,arguments),n=event.changedTouches,r=n.length;for(noevent$2(),h=h&&clearTimeout(h),t=0;t<r;++t)f=touch(this,n,(l=n[t]).identifier),e.touch0&&e.touch0[2]===l.identifier?e.touch0[0]=f:e.touch1&&e.touch1[2]===l.identifier&&(e.touch1[0]=f);if(l=e.that.__zoom,e.touch1)var a=e.touch0[0],i=e.touch0[1],o=e.touch1[0],s=e.touch1[1],u=(u=o[0]-a[0])*u+(u=o[1]-a[1])*u,c=(c=s[0]-i[0])*c+(c=s[1]-i[1])*c,l=$(l,Math.sqrt(u/c)),f=[(a[0]+o[0])/2,(a[1]+o[1])/2],s=[(i[0]+s[0])/2,(i[1]+s[1])/2];else{if(!e.touch0)return;f=e.touch0[0],s=e.touch0[1]}e.zoom("touch",d(v(l,f,s),e.extent,p))}function k(){var t,e,n=w(this,arguments),r=event.changedTouches,a=r.length;for(nopropagation$2(),i&&clearTimeout(i),i=setTimeout(function(){i=null},g),t=0;t<a;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}return m.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",defaultTransform),t!==n?x(t,e):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},m.scaleBy=function(t,e){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},m.scaleTo=function(t,i){m.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=b(t),r=e.invert(n),a="function"==typeof i?i.apply(this,arguments):i;return d(v($(e,a),n,r),t,p)})},m.translateBy=function(t,e,n){m.transform(t,function(){return d(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),c.apply(this,arguments),p)})},m.translateTo=function(t,r,a){m.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=b(t);return d(identity$9.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof a?-a.apply(this,arguments):-a),t,p)})},T.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){customEvent(new ZoomEvent(m,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:constant$d(+t),m):a},m.filter=function(t){return arguments.length?(s="function"==typeof t?t:constant$d(!!t),m):s},m.touchable=function(t){return arguments.length?(e="function"==typeof t?t:constant$d(!!t),m):e},m.extent=function(t){return arguments.length?(c="function"==typeof t?t:constant$d([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):c},m.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],m):[o[0],o[1]]},m.translateExtent=function(t){return arguments.length?(p[0][0]=+t[0][0],p[1][0]=+t[1][0],p[0][1]=+t[0][1],p[1][1]=+t[1][1],m):[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},m.constrain=function(t){return arguments.length?(d=t,m):d},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(l=t,m):l},m.on=function(){var t=n.on.apply(n,arguments);return t===n?m:t},m.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,m):Math.sqrt(_)},m}transform$2.prototype=Transform.prototype;var d3$1,d3=Object.freeze({version:version$2,bisect:bisectRight,bisectRight:bisectRight,bisectLeft:bisectLeft,ascending:ascending,bisector:bisector,cross:cross,descending:descending,deviation:deviation,extent:extent,histogram:histogram,thresholdFreedmanDiaconis:freedmanDiaconis,thresholdScott:scott,thresholdSturges:sturges,max:max$1,mean:mean,median:median,merge:merge$1,min:min$1,pairs:pairs,permute:permute,quantile:threshold,range:sequence,scan:scan,shuffle:shuffle,sum:sum,ticks:ticks,tickIncrement:tickIncrement,tickStep:tickStep,transpose:transpose,variance:variance,zip:zip,axisTop:axisTop,axisRight:axisRight,axisBottom:axisBottom,axisLeft:axisLeft,brush:brush,brushX:brushX,brushY:brushY,brushSelection:brushSelection,chord:chord,ribbon:ribbon,nest:nest,set:set$2,map:map$2,keys:keys$1,values:values$1,entries:entries,color:color,rgb:rgb,hsl:hsl,lab:lab,hcl:hcl,cubehelix:cubehelix,dispatch:dispatch,drag:drag,dragDisable:dragDisable,dragEnable:yesdrag,dsvFormat:dsv,csvParse:csvParse,csvParseRows:csvParseRows,csvFormat:csvFormat,csvFormatRows:csvFormatRows,tsvParse:tsvParse,tsvParseRows:tsvParseRows,tsvFormat:tsvFormat,tsvFormatRows:tsvFormatRows,easeLinear:linear$1,easeQuad:quadInOut,easeQuadIn:quadIn,easeQuadOut:quadOut,easeQuadInOut:quadInOut,easeCubic:cubicInOut,easeCubicIn:cubicIn,easeCubicOut:cubicOut,easeCubicInOut:cubicInOut,easePoly:polyInOut,easePolyIn:polyIn,easePolyOut:polyOut,easePolyInOut:polyInOut,easeSin:sinInOut,easeSinIn:sinIn,easeSinOut:sinOut,easeSinInOut:sinInOut,easeExp:expInOut,easeExpIn:expIn,easeExpOut:expOut,easeExpInOut:expInOut,easeCircle:circleInOut,easeCircleIn:circleIn,easeCircleOut:circleOut,easeCircleInOut:circleInOut,easeBounce:bounceOut,easeBounceIn:bounceIn,easeBounceOut:bounceOut,easeBounceInOut:bounceInOut,easeBack:backInOut,easeBackIn:backIn,easeBackOut:backOut,easeBackInOut:backInOut,easeElastic:elasticOut,easeElasticIn:elasticIn,easeElasticOut:elasticOut,easeElasticInOut:elasticInOut,forceCenter:center$1,forceCollide:collide,forceLink:link,forceManyBody:manyBody,forceRadial:radial,forceSimulation:simulation,forceX:x$2,forceY:y$2,formatDefaultLocale:defaultLocale,get format(){return format},get formatPrefix(){return formatPrefix},formatLocale:formatLocale,formatSpecifier:formatSpecifier,precisionFixed:precisionFixed,precisionPrefix:precisionPrefix,precisionRound:precisionRound,geoArea:area,geoBounds:bounds,geoCentroid:centroid,geoCircle:circle,geoClipAntimeridian:clipAntimeridian,geoClipCircle:clipCircle,geoClipExtent:extent$1,geoClipRectangle:clipRectangle,geoContains:contains,geoDistance:distance,geoGraticule:graticule,geoGraticule10:graticule10,geoInterpolate:interpolate$1,geoLength:length$1,geoPath:index$1,geoAlbers:albers,geoAlbersUsa:albersUsa,geoAzimuthalEqualArea:azimuthalEqualArea,geoAzimuthalEqualAreaRaw:azimuthalEqualAreaRaw,geoAzimuthalEquidistant:azimuthalEquidistant,geoAzimuthalEquidistantRaw:azimuthalEquidistantRaw,geoConicConformal:conicConformal,geoConicConformalRaw:conicConformalRaw,geoConicEqualArea:conicEqualArea,geoConicEqualAreaRaw:conicEqualAreaRaw,geoConicEquidistant:conicEquidistant,geoConicEquidistantRaw:conicEquidistantRaw,geoEquirectangular:equirectangular,geoEquirectangularRaw:equirectangularRaw,geoGnomonic:gnomonic,geoGnomonicRaw:gnomonicRaw,geoIdentity:identity$6,geoProjection:projection,geoProjectionMutator:projectionMutator,geoMercator:mercator,geoMercatorRaw:mercatorRaw,geoNaturalEarth1:naturalEarth1,geoNaturalEarth1Raw:naturalEarth1Raw,geoOrthographic:orthographic,geoOrthographicRaw:orthographicRaw,geoStereographic:stereographic,geoStereographicRaw:stereographicRaw,geoTransverseMercator:transverseMercator,geoTransverseMercatorRaw:transverseMercatorRaw,geoRotation:rotation,geoStream:geoStream,geoTransform:transform$1,cluster:cluster,hierarchy:hierarchy,pack:index$2,packSiblings:siblings,packEnclose:enclose,partition:partition$1,stratify:stratify,tree:tree,treemap:index$3,treemapBinary:binary,treemapDice:treemapDice,treemapSlice:treemapSlice,treemapSliceDice:sliceDice,treemapSquarify:squarify,treemapResquarify:resquarify,interpolate:interpolateValue,interpolateArray:array$1,interpolateBasis:basis$1,interpolateBasisClosed:basisClosed,interpolateDate:date,interpolateNumber:reinterpolate,interpolateObject:object,interpolateRound:interpolateRound,interpolateString:interpolateString,interpolateTransformCss:interpolateTransformCss,interpolateTransformSvg:interpolateTransformSvg,interpolateZoom:interpolateZoom,interpolateRgb:interpolateRgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateHsl:hsl$2,interpolateHslLong:hslLong,interpolateLab:lab$1,interpolateHcl:hcl$2,interpolateHclLong:hclLong,interpolateCubehelix:cubehelix$2,interpolateCubehelixLong:cubehelixLong,quantize:quantize,path:path,polygonArea:area$1,polygonCentroid:centroid$1,polygonHull:hull,polygonContains:contains$1,polygonLength:length$2,quadtree:quadtree,queue:queue,randomUniform:uniform,randomNormal:normal,randomLogNormal:logNormal,randomBates:bates,randomIrwinHall:irwinHall,randomExponential:exponential$1,request:request,html:html,json:json$1,text:text,xml:xml,csv:csv$2,tsv:tsv$2,scaleBand:band,scalePoint:point$1,scaleIdentity:identity$7,scaleLinear:linear$2,scaleLog:log$1,scaleOrdinal:ordinal,scaleImplicit:implicit,scalePow:pow$1,scaleSqrt:sqrt$1,scaleQuantile:quantile,scaleQuantize:quantize$1,scaleThreshold:threshold$1,scaleTime:time$1,scaleUtc:utcTime,schemeCategory10:category10,schemeCategory20b:category20b,schemeCategory20c:category20c,schemeCategory20:category20,interpolateCubehelixDefault:cubehelix$3,interpolateRainbow:rainbow$1,interpolateWarm:warm,interpolateCool:cool,interpolateViridis:viridis,interpolateMagma:magma,interpolateInferno:inferno,interpolatePlasma:plasma,scaleSequential:sequential,create:create,creator:creator,local:local,matcher:matcher$1,mouse:mouse,namespace:namespace,namespaces:namespaces,clientPoint:point,select:select,selectAll:selectAll,selection:selection,selector:selector,selectorAll:selectorAll,style:styleValue,touch:touch,touches:touches,window:defaultView,get event(){return event},customEvent:customEvent,arc:arc,area:area$2,line:line,pie:pie,areaRadial:areaRadial,radialArea:areaRadial,lineRadial:lineRadial$1,radialLine:lineRadial$1,pointRadial:pointRadial,linkHorizontal:linkHorizontal,linkVertical:linkVertical,linkRadial:linkRadial,symbol:symbol,symbols:symbols,symbolCircle:circle$2,symbolCross:cross$2,symbolDiamond:diamond,symbolSquare:square,symbolStar:star,symbolTriangle:triangle,symbolWye:wye,curveBasisClosed:basisClosed$1,curveBasisOpen:basisOpen,curveBasis:basis$2,curveBundle:bundle,curveCardinalClosed:cardinalClosed,curveCardinalOpen:cardinalOpen,curveCardinal:cardinal,curveCatmullRomClosed:catmullRomClosed,curveCatmullRomOpen:catmullRomOpen,curveCatmullRom:catmullRom,curveLinearClosed:linearClosed,curveLinear:curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural:natural,curveStep:step,curveStepAfter:stepAfter,curveStepBefore:stepBefore,stack:stack,stackOffsetExpand:expand,stackOffsetDiverging:diverging,stackOffsetNone:none$1,stackOffsetSilhouette:silhouette,stackOffsetWiggle:wiggle,stackOrderAscending:ascending$2,stackOrderDescending:descending$2,stackOrderInsideOut:insideOut,stackOrderNone:none$2,stackOrderReverse:reverse,timeInterval:newInterval,timeMillisecond:millisecond,timeMilliseconds:milliseconds,utcMillisecond:millisecond,utcMilliseconds:milliseconds,timeSecond:second,timeSeconds:seconds,utcSecond:second,utcSeconds:seconds,timeMinute:minute,timeMinutes:minutes,timeHour:hour,timeHours:hours,timeDay:day,timeDays:days,timeWeek:sunday,timeWeeks:sundays,timeSunday:sunday,timeSundays:sundays,timeMonday:monday,timeMondays:mondays,timeTuesday:tuesday,timeTuesdays:tuesdays,timeWednesday:wednesday,timeWednesdays:wednesdays,timeThursday:thursday,timeThursdays:thursdays,timeFriday:friday,timeFridays:fridays,timeSaturday:saturday,timeSaturdays:saturdays,timeMonth:month,timeMonths:months,timeYear:year,timeYears:years,utcMinute:utcMinute,utcMinutes:utcMinutes,utcHour:utcHour,utcHours:utcHours,utcDay:utcDay,utcDays:utcDays,utcWeek:utcSunday,utcWeeks:utcSundays,utcSunday:utcSunday,utcSundays:utcSundays,utcMonday:utcMonday,utcMondays:utcMondays,utcTuesday:utcTuesday,utcTuesdays:utcTuesdays,utcWednesday:utcWednesday,utcWednesdays:utcWednesdays,utcThursday:utcThursday,utcThursdays:utcThursdays,utcFriday:utcFriday,utcFridays:utcFridays,utcSaturday:utcSaturday,utcSaturdays:utcSaturdays,utcMonth:utcMonth,utcMonths:utcMonths,utcYear:utcYear,utcYears:utcYears,timeFormatDefaultLocale:defaultLocale$1,get timeFormat(){return timeFormat},get timeParse(){return timeParse},get utcFormat(){return utcFormat},get utcParse(){return utcParse},timeFormatLocale:formatLocale$1,isoFormat:formatIso,isoParse:parseIso,now:now$1,timer:timer,timerFlush:timerFlush,timeout:timeout$1,interval:interval$1,transition:transition,active:active,interrupt:interrupt,voronoi:voronoi,zoom:zoom,zoomTransform:transform$2,zoomIdentity:identity$9});if(!d3$1&&commonjsRequire)try{d3$1=d3}catch(t){}var d3_1=d3$1=d3$1||window.d3,util$3={isSubgraph:isSubgraph,edgeToId:edgeToId,applyStyle:applyStyle,applyClass:applyClass,applyTransition:applyTransition};function isSubgraph(t,e){return!!t.children(e).length}function edgeToId(t){return escapeId(t.v)+":"+escapeId(t.w)+":"+escapeId(t.name)}var ID_DELIM=/:/g;function escapeId(t){return t?String(t).replace(ID_DELIM,"\\:"):""}function applyStyle(t,e){e&&t.attr("style",e)}function applyClass(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function applyTransition(t,e){e=e.graph();if(lodash_1$2.isPlainObject(e)){e=e.transition;if(lodash_1$2.isFunction(e))return e(t)}return t}var addTextLabel_1=addTextLabel;function addTextLabel(t,e){for(var n=t.append("text"),r=processEscapeSequences(e.label).split("\n"),a=0;a<r.length;a++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(r[a]);return util$3.applyStyle(n,e.labelStyle),n}function processEscapeSequences(t){for(var e,n="",r=!1,a=0;a<t.length;++a)e=t[a],r?(n+="n"===e?"\n":e,r=!1):"\\"===e?r=!0:n+=e;return n}var addHtmlLabel_1=addHtmlLabel;function addHtmlLabel(t,e){var t=t.append("foreignObject").attr("width","100000"),n=t.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var r=e.label;switch(typeof r){case"function":n.insert(r);break;case"object":n.insert(function(){return r});break;default:n.html(r)}util$3.applyStyle(n,e.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");e=n.node().getBoundingClientRect();return t.attr("width",e.width).attr("height",e.height),t}var addSvgLabel=addSVGLabel;function addSVGLabel(t,e){return t.node().appendChild(e.label),util$3.applyStyle(t,e.labelStyle),t}var addLabel_1=addLabel;function addLabel(t,e,n){var r=e.label,t=t.append("g");("svg"===e.labelType?addSvgLabel:"string"!=typeof r||"html"===e.labelType?addHtmlLabel_1:addTextLabel_1)(t,e);var a,i=t.node().getBBox();switch(n){case"top":a=-e.height/2;break;case"bottom":a=e.height/2-i.height;break;default:a=-i.height/2}return t.attr("transform","translate("+-i.width/2+","+a+")"),t}var createNodes_1=createNodes;function createNodes(t,i,o){var e=i.nodes().filter(function(t){return!util$3.isSubgraph(i,t)}),e=t.selectAll("g.node").data(e,function(t){return t}).classed("update",!0);return e.exit().remove(),e.enter().append("g").attr("class","node").style("opacity",0),(e=t.selectAll("g.node")).each(function(t){var e=i.node(t),n=d3_1.select(this);util$3.applyClass(n,e.class,(n.classed("update")?"update ":"")+"node"),n.select("g.label").remove();var r=n.append("g").attr("class","label"),a=addLabel_1(r,e),t=o[e.shape],a=lodash_1$2.pick(a.node().getBBox(),"width","height");e.elem=this,e.id&&n.attr("id",e.id),e.labelId&&r.attr("id",e.labelId),lodash_1$2.has(e,"width")&&(a.width=e.width),lodash_1$2.has(e,"height")&&(a.height=e.height),a.width+=e.paddingLeft+e.paddingRight,a.height+=e.paddingTop+e.paddingBottom,r.attr("transform","translate("+(e.paddingLeft-e.paddingRight)/2+","+(e.paddingTop-e.paddingBottom)/2+")");r=d3_1.select(this);r.select(".label-container").remove();a=t(r,a,e).classed("label-container",!0);util$3.applyStyle(a,e.style);a=a.node().getBBox();e.width=a.width,e.height=a.height}),t=e.exit?e.exit():e.selectAll(null),util$3.applyTransition(t,i).style("opacity",0).remove(),e}var createClusters_1=createClusters;function createClusters(t,n){var e=n.nodes().filter(function(t){return util$3.isSubgraph(n,t)}),e=t.selectAll("g.cluster").data(e,function(t){return t});return e.selectAll("*").remove(),e.enter().append("g").attr("class","cluster").attr("id",function(t){return n.node(t).id}).style("opacity",0),e=t.selectAll("g.cluster"),util$3.applyTransition(e,n).style("opacity",1),e.each(function(t){var e=n.node(t),t=d3_1.select(this);d3_1.select(this).append("rect");t=t.append("g").attr("class","label");addLabel_1(t,e,e.clusterLabelPos)}),e.selectAll("rect").each(function(t){var e=n.node(t),t=d3_1.select(this);util$3.applyStyle(t,e.style)}),t=e.exit?e.exit():e.selectAll(null),util$3.applyTransition(t,n).style("opacity",0).remove(),e}var createEdgeLabels_1=createEdgeLabels;function createEdgeLabels(t,r){var e=t.selectAll("g.edgeLabel").data(r.edges(),function(t){return util$3.edgeToId(t)}).classed("update",!0);return e.exit().remove(),e.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(e=t.selectAll("g.edgeLabel")).each(function(t){var e=d3_1.select(this);e.select(".label").remove();var n=r.edge(t),e=addLabel_1(e,r.edge(t),0).classed("label",!0),t=e.node().getBBox();n.labelId&&e.attr("id",n.labelId),lodash_1$2.has(n,"width")||(n.width=t.width),lodash_1$2.has(n,"height")||(n.height=t.height)}),t=e.exit?e.exit():e.selectAll(null),util$3.applyTransition(t,r).style("opacity",0).remove(),e}var createEdgePaths_1=createEdgePaths;function createEdgePaths(t,n,e){var r=t.selectAll("g.edgePath").data(n.edges(),function(t){return util$3.edgeToId(t)}).classed("update",!0),t=enter(r,n);exit(r,n);t=r.merge(t);return util$3.applyTransition(t,n).style("opacity",1),t.each(function(t){var e=d3_1.select(this),t=n.edge(t);t.elem=this,t.id&&e.attr("id",t.id),util$3.applyClass(e,t.class,(e.classed("update")?"update ":"")+"edgePath")}),t.selectAll("path.path").each(function(t){var e=n.edge(t);e.arrowheadId=lodash_1$2.uniqueId("arrowhead");t=d3_1.select(this).attr("marker-end",function(){return"url("+makeFragmentRef(location.href,e.arrowheadId)+")"}).style("fill","none");util$3.applyTransition(t,n).attr("d",function(t){return calcPoints(n,t)}),util$3.applyStyle(t,e.style)}),t.selectAll("defs *").remove(),t.selectAll("defs").each(function(t){t=n.edge(t);(0,e[t.arrowhead])(d3_1.select(this),t.arrowheadId,t,"arrowhead")}),t}function makeFragmentRef(t,e){return t.split("#")[0]+"#"+e}function calcPoints(t,e){var n=t.edge(e),r=t.node(e.v),t=t.node(e.w),e=n.points.slice(1,n.points.length-1);return e.unshift(intersectNode_1(r,e[0])),e.push(intersectNode_1(t,e[e.length-1])),createLine(n,e)}function createLine(t,e){var n=(d3_1.line||d3_1.svg.line)().x(function(t){return t.x}).y(function(t){return t.y});return(n.curve||n.interpolate)(t.curve),n(e)}function getCoords(t){var e=t.getBBox(),e=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:e.e,y:e.f}}function enter(t,r){t=t.enter().append("g").attr("class","edgePath").style("opacity",0);return t.append("path").attr("class","path").attr("d",function(t){var e=r.edge(t),n=r.node(t.v).elem;return createLine(e,lodash_1$2.range(e.points.length).map(function(){return getCoords(n)}))}),t.append("defs"),t}function exit(t,e){t=t.exit();util$3.applyTransition(t,e).style("opacity",0).remove()}var positionNodes_1=positionNodes;function positionNodes(t,e){function n(t){t=e.node(t);return"translate("+t.x+","+t.y+")"}t.filter(function(){return!d3_1.select(this).classed("update")}).attr("transform",n),util$3.applyTransition(t,e).style("opacity",1).attr("transform",n)}var positionEdgeLabels_1=positionEdgeLabels;function positionEdgeLabels(t,e){function n(t){t=e.edge(t);return lodash_1$2.has(t,"x")?"translate("+t.x+","+t.y+")":""}t.filter(function(){return!d3_1.select(this).classed("update")}).attr("transform",n),util$3.applyTransition(t,e).style("opacity",1).attr("transform",n)}var positionClusters_1=positionClusters;function positionClusters(t,e){var n=t.filter(function(){return!d3_1.select(this).classed("update")});function r(t){t=e.node(t);return"translate("+t.x+","+t.y+")"}n.attr("transform",r),util$3.applyTransition(t,e).style("opacity",1).attr("transform",r),util$3.applyTransition(n.selectAll("rect"),e).attr("width",function(t){return e.node(t).width}).attr("height",function(t){return e.node(t).height}).attr("x",function(t){return-e.node(t).width/2}).attr("y",function(t){return-e.node(t).height/2})}var shapes={rect:rect,ellipse:ellipse,circle:circle$3,diamond:diamond$1};function rect(t,e,n){e=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return intersectRect_1(n,t)},e}function ellipse(t,e,n){var r=e.width/2,a=e.height/2,e=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",a);return n.intersect=function(t){return intersectEllipse_1(n,r,a,t)},e}function circle$3(t,e,n){var r=Math.max(e.width,e.height)/2,e=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return intersectCircle_1(n,r,t)},e}function diamond$1(t,e,n){var r=e.width*Math.SQRT2/2,e=e.height*Math.SQRT2/2,a=[{x:0,y:-e},{x:-r,y:0},{x:0,y:e},{x:r,y:0}],t=t.insert("polygon",":first-child").attr("points",a.map(function(t){return t.x+","+t.y}).join(" "));return n.intersect=function(t){return intersectPolygon_1(n,a,t)},t}var arrows={default:normal$1,normal:normal$1,vee:vee,undirected:undirected};function normal$1(t,e,n,r){e=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");util$3.applyStyle(e,n[r+"Style"]),n[r+"Class"]&&e.attr("class",n[r+"Class"])}function vee(t,e,n,r){e=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");util$3.applyStyle(e,n[r+"Style"]),n[r+"Class"]&&e.attr("class",n[r+"Class"])}function undirected(t,e,n,r){e=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");util$3.applyStyle(e,n[r+"Style"]),n[r+"Class"]&&e.attr("class",n[r+"Class"])}var layout$1=dagre_1.layout,render_1=render;function render(){function e(t,e){preProcessGraph(e);var n=createOrSelectGroup(t,"output"),r=createOrSelectGroup(n,"clusters"),a=createOrSelectGroup(n,"edgePaths"),t=s(createOrSelectGroup(n,"edgeLabels"),e),n=i(createOrSelectGroup(n,"nodes"),e,h);layout$1(e),c(n,e),l(t,e),u(a,e,d),r=o(r,e),f(r,e),postProcessGraph(e)}var i=createNodes_1,o=createClusters_1,s=createEdgeLabels_1,u=createEdgePaths_1,c=positionNodes_1,l=positionEdgeLabels_1,f=positionClusters_1,h=shapes,d=arrows;return e.createNodes=function(t){return arguments.length?(i=t,e):i},e.createClusters=function(t){return arguments.length?(o=t,e):o},e.createEdgeLabels=function(t){return arguments.length?(s=t,e):s},e.createEdgePaths=function(t){return arguments.length?(u=t,e):u},e.shapes=function(t){return arguments.length?(h=t,e):h},e.arrows=function(t){return arguments.length?(d=t,e):d},e}var NODE_DEFAULT_ATTRS={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},EDGE_DEFAULT_ATTRS={arrowhead:"normal",curve:d3_1.curveLinear};function preProcessGraph(n){n.nodes().forEach(function(t){var e=n.node(t);lodash_1$2.has(e,"label")||n.children(t).length||(e.label=t),lodash_1$2.has(e,"paddingX")&&lodash_1$2.defaults(e,{paddingLeft:e.paddingX,paddingRight:e.paddingX}),lodash_1$2.has(e,"paddingY")&&lodash_1$2.defaults(e,{paddingTop:e.paddingY,paddingBottom:e.paddingY}),lodash_1$2.has(e,"padding")&&lodash_1$2.defaults(e,{paddingLeft:e.padding,paddingRight:e.padding,paddingTop:e.padding,paddingBottom:e.padding}),lodash_1$2.defaults(e,NODE_DEFAULT_ATTRS),lodash_1$2.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(t){e[t]=Number(e[t])}),lodash_1$2.has(e,"width")&&(e._prevWidth=e.width),lodash_1$2.has(e,"height")&&(e._prevHeight=e.height)}),n.edges().forEach(function(t){t=n.edge(t);lodash_1$2.has(t,"label")||(t.label=""),lodash_1$2.defaults(t,EDGE_DEFAULT_ATTRS)})}function postProcessGraph(e){lodash_1$2.each(e.nodes(),function(t){t=e.node(t);lodash_1$2.has(t,"_prevWidth")?t.width=t._prevWidth:delete t.width,lodash_1$2.has(t,"_prevHeight")?t.height=t._prevHeight:delete t.height,delete t._prevWidth,delete t._prevHeight})}function createOrSelectGroup(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}var version$3="0.6.3",dagreD3={graphlib:graphlib_1,dagre:dagre_1,intersect:intersect,render:render,util:util$3,version:version$3};function ascending$3(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function bisector$1(i){return 1===i.length&&(i=ascendingComparator$1(i)),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var a=n+r>>>1;i(t[a],e)<0?n=1+a:r=a}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var a=n+r>>>1;0<i(t[a],e)?r=a:n=1+a}return n}}}function ascendingComparator$1(n){return function(t,e){return ascending$3(n(t),e)}}var ascendingBisect$1=bisector$1(ascending$3),xhtml$1="http://www.w3.org/1999/xhtml",namespaces$1={svg:"http://www.w3.org/2000/svg",xhtml:xhtml$1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace$1(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),namespaces$1.hasOwnProperty(e)?{space:namespaces$1[e],local:t}:t}function creatorInherit$1(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===xhtml$1&&t.documentElement.namespaceURI===xhtml$1?t.createElement(n):t.createElementNS(e,n)}}function creatorFixed$1(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator$1(t){t=namespace$1(t);return(t.local?creatorFixed$1:creatorInherit$1)(t)}function none$3(){}function selector$1(t){return null==t?none$3:function(){return this.querySelector(t)}}function selection_select$1(t){"function"!=typeof t&&(t=selector$1(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,s=e[a],u=s.length,c=r[a]=new Array(u),l=0;l<u;++l)(i=s[l])&&(o=t.call(i,i.__data__,l,s))&&("__data__"in i&&(o.__data__=i.__data__),c[l]=o);return new Selection$2(r,this._parents)}function empty$2(){return[]}function selectorAll$1(t){return null==t?empty$2:function(){return this.querySelectorAll(t)}}function selection_selectAll$1(t){"function"!=typeof t&&(t=selectorAll$1(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,s=e[i],u=s.length,c=0;c<u;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),a.push(o));return new Selection$2(r,a)}function matcher$2(t){return function(){return this.matches(t)}}function selection_filter$1(t){"function"!=typeof t&&(t=matcher$2(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,u=r[a]=[],c=0;c<s;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&u.push(i);return new Selection$2(r,this._parents)}function sparse$1(t){return new Array(t.length)}function selection_enter$1(){return new Selection$2(this._enter||this._groups.map(sparse$1),this._parents)}function EnterNode$1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function constant$e(t){return function(){return t}}EnterNode$1.prototype={constructor:EnterNode$1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var keyPrefix$2="$";function bindIndex$1(t,e,n,r,a,i){for(var o,s=0,u=e.length,c=i.length;s<c;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new EnterNode$1(t,i[s]);for(;s<u;++s)(o=e[s])&&(a[s]=o)}function bindKey$1(t,e,n,r,a,i,o){for(var s,u,c={},l=e.length,f=i.length,h=new Array(l),d=0;d<l;++d)(s=e[d])&&(h[d]=u=keyPrefix$2+o.call(s,s.__data__,d,e),u in c?a[d]=s:c[u]=s);for(d=0;d<f;++d)(s=c[u=keyPrefix$2+o.call(t,i[d],d,i)])?((r[d]=s).__data__=i[d],c[u]=null):n[d]=new EnterNode$1(t,i[d]);for(d=0;d<l;++d)(s=e[d])&&c[h[d]]===s&&(a[d]=s)}function selection_data$1(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?bindKey$1:bindIndex$1,r=this._parents,a=this._groups;"function"!=typeof t&&(t=constant$e(t));for(var i=a.length,o=new Array(i),s=new Array(i),u=new Array(i),c=0;c<i;++c){var l=r[c],f=a[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=s[c]=new Array(p),y=o[c]=new Array(p);n(l,f,g,y,u[c]=new Array(h),d,e);for(var _,m,$=0,v=0;$<p;++$)if(_=g[$]){for(v<=$&&(v=$+1);!(m=y[v])&&++v<p;);_._next=m||null}}return(o=new Selection$2(o,r))._enter=s,o._exit=u,o}function selection_exit$1(){return new Selection$2(this._exit||this._groups.map(sparse$1),this._parents)}function selection_join(t,e,n){var r=this.enter(),a=this,i=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(a=e(a)),null==n?i.remove():n(i),r&&a?r.merge(a).order():a}function selection_merge$1(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,a=Math.min(r,t),i=new Array(r),o=0;o<a;++o)for(var s,u=e[o],c=n[o],l=u.length,f=i[o]=new Array(l),h=0;h<l;++h)(s=u[h]||c[h])&&(f[h]=s);for(;o<r;++o)i[o]=e[o];return new Selection$2(i,this._parents)}function selection_order$1(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];0<=--i;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}function selection_sort$1(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||ascending$4;for(var e=this._groups,r=e.length,a=new Array(r),i=0;i<r;++i){for(var o,s=e[i],u=s.length,c=a[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(c[l]=o);c.sort(t)}return new Selection$2(a,this._parents).order()}function ascending$4(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function selection_call$1(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes$1(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function selection_node$1(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function selection_size$1(){var t=0;return this.each(function(){++t}),t}function selection_empty$1(){return!this.node()}function selection_each$1(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,s=i.length;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function attrRemove$2(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$2(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS$2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction$2(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function attrFunctionNS$2(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function selection_attr$1(t,e){var n=namespace$1(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?attrRemoveNS$2:attrRemove$2:"function"==typeof e?n.local?attrFunctionNS$2:attrFunction$2:n.local?attrConstantNS$2:attrConstant$2)(n,e))}function defaultView$1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove$2(t){return function(){this.style.removeProperty(t)}}function styleConstant$2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function styleFunction$2(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}function selection_style$1(t,e,n){return 1<arguments.length?this.each((null==e?styleRemove$2:"function"==typeof e?styleFunction$2:styleConstant$2)(t,e,null==n?"":n)):styleValue$1(this.node(),t)}function styleValue$1(t,e){return t.style.getPropertyValue(e)||defaultView$1(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove$1(t){return function(){delete this[t]}}function propertyConstant$1(t,e){return function(){this[t]=e}}function propertyFunction$1(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function selection_property$1(t,e){return 1<arguments.length?this.each((null==e?propertyRemove$1:"function"==typeof e?propertyFunction$1:propertyConstant$1)(t,e)):this.node()[t]}function classArray$1(t){return t.trim().split(/^|\s+/)}function classList$1(t){return t.classList||new ClassList$1(t)}function ClassList$1(t){this._node=t,this._names=classArray$1(t.getAttribute("class")||"")}function classedAdd$1(t,e){for(var n=classList$1(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function classedRemove$1(t,e){for(var n=classList$1(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function classedTrue$1(t){return function(){classedAdd$1(this,t)}}function classedFalse$1(t){return function(){classedRemove$1(this,t)}}function classedFunction$1(t,e){return function(){(e.apply(this,arguments)?classedAdd$1:classedRemove$1)(this,t)}}function selection_classed$1(t,e){var n=classArray$1(t+"");if(arguments.length<2){for(var r=classList$1(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?classedFunction$1:e?classedTrue$1:classedFalse$1)(n,e))}function textRemove$1(){this.textContent=""}function textConstant$2(t){return function(){this.textContent=t}}function textFunction$2(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function selection_text$1(t){return arguments.length?this.each(null==t?textRemove$1:("function"==typeof t?textFunction$2:textConstant$2)(t)):this.node().textContent}function htmlRemove$1(){this.innerHTML=""}function htmlConstant$1(t){return function(){this.innerHTML=t}}function htmlFunction$1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function selection_html$1(t){return arguments.length?this.each(null==t?htmlRemove$1:("function"==typeof t?htmlFunction$1:htmlConstant$1)(t)):this.node().innerHTML}function raise$2(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise$1(){return this.each(raise$2)}function lower$1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower$1(){return this.each(lower$1)}function selection_append$1(t){var e="function"==typeof t?t:creator$1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull$1(){return null}function selection_insert$1(t,e){var n="function"==typeof t?t:creator$1(t),r=null==e?constantNull$1:"function"==typeof e?e:selector$1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function remove$1(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove$1(){return this.each(remove$1)}function selection_cloneShallow$1(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep$1(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function selection_clone$1(t){return this.select(t?selection_cloneDeep$1:selection_cloneShallow$1)}function selection_datum$1(t){return arguments.length?this.property("__data__",t):this.node().__data__}ClassList$1.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var element$2,filterEvents$1={},event$1=null;function filterContextListener$1(n,t,e){return n=contextListener$1(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function contextListener$1(n,r,a){return function(t){var e=event$1;event$1=t;try{n.call(this,this.__data__,r,a)}finally{event$1=e}}}function parseTypenames$3(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function onRemove$1(i){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,a=t.length;n<a;++n)e=t[n],i.type&&e.type!==i.type||e.name!==i.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function onAdd$1(u,c,l){var f=filterEvents$1.hasOwnProperty(u.type)?filterContextListener$1:contextListener$1;return function(t,e,n){var r,a=this.__on,i=f(c,e,n);if(a)for(var o=0,s=a.length;o<s;++o)if((r=a[o]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=i,r.capture=l),void(r.value=c);this.addEventListener(u.type,i,l),r={type:u.type,name:u.name,value:c,listener:i,capture:l},a?a.push(r):this.__on=[r]}}function selection_on$1(t,e,n){var r,a,i=parseTypenames$3(t+""),o=i.length;if(!(arguments.length<2)){for(s=e?onAdd$1:onRemove$1,null==n&&(n=!1),r=0;r<o;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value}function customEvent$1(t,e,n,r){var a=event$1;t.sourceEvent=event$1,event$1=t;try{return e.apply(n,r)}finally{event$1=a}}function dispatchEvent$1(t,e,n){var r=defaultView$1(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function dispatchConstant$1(t,e){return function(){return dispatchEvent$1(this,t,e)}}function dispatchFunction$1(t,e){return function(){return dispatchEvent$1(this,t,e.apply(this,arguments))}}function selection_dispatch$1(t,e){return this.each(("function"==typeof e?dispatchFunction$1:dispatchConstant$1)(t,e))}"undefined"!=typeof document&&("onmouseenter"in(element$2=document.documentElement)||(filterEvents$1={mouseenter:"mouseover",mouseleave:"mouseout"}));var root$3=[null];function Selection$2(t,e){this._groups=t,this._parents=e}function selection$1(){return new Selection$2([[document.documentElement]],root$3)}function select$1(t){return"string"==typeof t?new Selection$2([[document.querySelector(t)]],[document.documentElement]):new Selection$2([[t]],root$3)}function sourceEvent$1(){for(var t,e=event$1;t=e.sourceEvent;)e=t;return e}function point$6(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function mouse$1(t){var e=sourceEvent$1();return e.changedTouches&&(e=e.changedTouches[0]),point$6(t,e)}function touch$1(t,e,n){arguments.length<3&&(n=e,e=sourceEvent$1().changedTouches);for(var r,a=0,i=e?e.length:0;a<i;++a)if((r=e[a]).identifier===n)return point$6(t,r);return null}function noevent$3(){event$1.preventDefault(),event$1.stopImmediatePropagation()}function dragDisable$1(t){var e=t.document.documentElement,t=select$1(t).on("dragstart.drag",noevent$3,!0);"onselectstart"in e?t.on("selectstart.drag",noevent$3,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag$1(t,e){var n=t.document.documentElement,r=select$1(t).on("dragstart.drag",null);e&&(r.on("click.drag",noevent$3,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function define$1(t,e,n){(t.prototype=e.prototype=n).constructor=t}function extend$1(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function Color$1(){}Selection$2.prototype=selection$1.prototype={constructor:Selection$2,select:selection_select$1,selectAll:selection_selectAll$1,filter:selection_filter$1,data:selection_data$1,enter:selection_enter$1,exit:selection_exit$1,join:selection_join,merge:selection_merge$1,order:selection_order$1,sort:selection_sort$1,call:selection_call$1,nodes:selection_nodes$1,node:selection_node$1,size:selection_size$1,empty:selection_empty$1,each:selection_each$1,attr:selection_attr$1,style:selection_style$1,property:selection_property$1,classed:selection_classed$1,text:selection_text$1,html:selection_html$1,raise:selection_raise$1,lower:selection_lower$1,append:selection_append$1,insert:selection_insert$1,remove:selection_remove$1,clone:selection_clone$1,datum:selection_datum$1,on:selection_on$1,dispatch:selection_dispatch$1};var darker$1=.7,brighter$1=1/darker$1,reI$1="\\s*([+-]?\\d+)\\s*",reN$1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP$1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3$1=/^#([0-9a-f]{3})$/,reHex6$1=/^#([0-9a-f]{6})$/,reRgbInteger$1=new RegExp("^rgb\\("+[reI$1,reI$1,reI$1]+"\\)$"),reRgbPercent$1=new RegExp("^rgb\\("+[reP$1,reP$1,reP$1]+"\\)$"),reRgbaInteger$1=new RegExp("^rgba\\("+[reI$1,reI$1,reI$1,reN$1]+"\\)$"),reRgbaPercent$1=new RegExp("^rgba\\("+[reP$1,reP$1,reP$1,reN$1]+"\\)$"),reHslPercent$1=new RegExp("^hsl\\("+[reN$1,reP$1,reP$1]+"\\)$"),reHslaPercent$1=new RegExp("^hsla\\("+[reN$1,reP$1,reP$1,reN$1]+"\\)$"),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert$1(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(t){var e;return t=(t+"").trim().toLowerCase(),(e=reHex3$1.exec(t))?new Rgb$1((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=reHex6$1.exec(t))?rgbn$1(parseInt(e[1],16)):(e=reRgbInteger$1.exec(t))?new Rgb$1(e[1],e[2],e[3],1):(e=reRgbPercent$1.exec(t))?new Rgb$1(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger$1.exec(t))?rgba$1(e[1],e[2],e[3],e[4]):(e=reRgbaPercent$1.exec(t))?rgba$1(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent$1.exec(t))?hsla$1(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent$1.exec(t))?hsla$1(e[1],e[2]/100,e[3]/100,e[4]):named$1.hasOwnProperty(t)?rgbn$1(named$1[t]):"transparent"===t?new Rgb$1(NaN,NaN,NaN,0):null}function rgbn$1(t){return new Rgb$1(t>>16&255,t>>8&255,255&t,1)}function rgba$1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rgb$1(t,e,n,r)}function rgbConvert$1(t){return t instanceof Color$1||(t=color$1(t)),t?new Rgb$1((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb$1}function rgb$1(t,e,n,r){return 1===arguments.length?rgbConvert$1(t):new Rgb$1(t,e,n,null==r?1:r)}function Rgb$1(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function hex(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hsla$1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Hsl$1(t,e,n,r)}function hslConvert$1(t){if(t instanceof Hsl$1)return new Hsl$1(t.h,t.s,t.l,t.opacity);if(t instanceof Color$1||(t=color$1(t)),!t)return new Hsl$1;if(t instanceof Hsl$1)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(o=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=0<u&&u<1?0:o,new Hsl$1(o,s,u,t.opacity)}function hsl$3(t,e,n,r){return 1===arguments.length?hslConvert$1(t):new Hsl$1(t,e,n,null==r?1:r)}function Hsl$1(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hsl2rgb$1(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}define$1(Color$1,color$1,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define$1(Rgb$1,rgb$1,extend$1(Color$1,{brighter:function(t){return t=null==t?brighter$1:Math.pow(brighter$1,t),new Rgb$1(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?darker$1:Math.pow(darker$1,t),new Rgb$1(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define$1(Hsl$1,hsl$3,extend$1(Color$1,{brighter:function(t){return t=null==t?brighter$1:Math.pow(brighter$1,t),new Hsl$1(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker$1:Math.pow(darker$1,t),new Hsl$1(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Rgb$1(hsl2rgb$1(240<=t?t-240:120+t,n,e),hsl2rgb$1(t,n,e),hsl2rgb$1(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var deg2rad$1=Math.PI/180,rad2deg$1=180/Math.PI,K=18,Xn$1=.96422,Yn$1=1,Zn$1=.82521,t0$2=4/29,t1$2=6/29,t2$1=3*t1$2*t1$2,t3$1=t1$2*t1$2*t1$2;function labConvert$1(t){if(t instanceof Lab$1)return new Lab$1(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl$1)return hcl2lab(t);t instanceof Rgb$1||(t=rgbConvert$1(t));var e,n,r=rgb2lrgb(t.r),a=rgb2lrgb(t.g),i=rgb2lrgb(t.b),o=xyz2lab$1((.2225045*r+.7168786*a+.0606169*i)/Yn$1);return r===a&&a===i?e=n=o:(e=xyz2lab$1((.4360747*r+.3850649*a+.1430804*i)/Xn$1),n=xyz2lab$1((.0139322*r+.0971045*a+.7141733*i)/Zn$1)),new Lab$1(116*o-16,500*(e-o),200*(o-n),t.opacity)}function lab$2(t,e,n,r){return 1===arguments.length?labConvert$1(t):new Lab$1(t,e,n,null==r?1:r)}function Lab$1(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function xyz2lab$1(t){return t3$1<t?Math.pow(t,1/3):t/t2$1+t0$2}function lab2xyz$1(t){return t1$2<t?t*t*t:t2$1*(t-t0$2)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert$1(t){if(t instanceof Hcl$1)return new Hcl$1(t.h,t.c,t.l,t.opacity);if(t instanceof Lab$1||(t=labConvert$1(t)),0===t.a&&0===t.b)return new Hcl$1(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*rad2deg$1;return new Hcl$1(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hcl$3(t,e,n,r){return 1===arguments.length?hclConvert$1(t):new Hcl$1(t,e,n,null==r?1:r)}function Hcl$1(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function hcl2lab(t){if(isNaN(t.h))return new Lab$1(t.l,0,0,t.opacity);var e=t.h*deg2rad$1;return new Lab$1(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}define$1(Lab$1,lab$2,extend$1(Color$1,{brighter:function(t){return new Lab$1(this.l+K*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab$1(this.l-K*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rgb$1(lrgb2rgb(3.1338561*(e=Xn$1*lab2xyz$1(e))-1.6168667*(t=Yn$1*lab2xyz$1(t))-.4906146*(n=Zn$1*lab2xyz$1(n))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*n),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),define$1(Hcl$1,hcl$3,extend$1(Color$1,{brighter:function(t){return new Hcl$1(this.h,this.c,this.l+K*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl$1(this.h,this.c,this.l-K*(null==t?1:t),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var A$1=-.14861,B$1=1.78277,C$1=-.29227,D$1=-.90649,E$1=1.97294,ED$1=E$1*D$1,EB$1=E$1*B$1,BC_DA$1=B$1*C$1-D$1*A$1;function cubehelixConvert$1(t){if(t instanceof Cubehelix$1)return new Cubehelix$1(t.h,t.s,t.l,t.opacity);t instanceof Rgb$1||(t=rgbConvert$1(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(BC_DA$1*r+ED$1*e-EB$1*n)/(BC_DA$1+ED$1-EB$1),e=r-a,r=(E$1*(n-a)-C$1*e)/D$1,n=Math.sqrt(r*r+e*e)/(E$1*a*(1-a)),e=n?Math.atan2(r,e)*rad2deg$1-120:NaN;return new Cubehelix$1(e<0?e+360:e,n,a,t.opacity)}function cubehelix$4(t,e,n,r){return 1===arguments.length?cubehelixConvert$1(t):new Cubehelix$1(t,e,n,null==r?1:r)}function Cubehelix$1(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function constant$f(t){return function(){return t}}function linear$3(e,n){return function(t){return e+t*n}}function exponential$2(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}function gamma$1(n){return 1==(n=+n)?nogamma$1:function(t,e){return e-t?exponential$2(t,e,n):constant$f(isNaN(t)?e:t)}}function nogamma$1(t,e){var n=e-t;return n?linear$3(t,n):constant$f(isNaN(t)?e:t)}define$1(Cubehelix$1,cubehelix$4,extend$1(Color$1,{brighter:function(t){return t=null==t?brighter$1:Math.pow(brighter$1,t),new Cubehelix$1(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker$1:Math.pow(darker$1,t),new Cubehelix$1(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*deg2rad$1,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),t=Math.sin(t);return new Rgb$1(255*(e+n*(A$1*r+B$1*t)),255*(e+n*(C$1*r+D$1*t)),255*(e+E$1*r*n),this.opacity)}}));var interpolateRgb$1=function t(e){var o=gamma$1(e);function n(e,t){var n=o((e=rgb$1(e)).r,(t=rgb$1(t)).r),r=o(e.g,t.g),a=o(e.b,t.b),i=nogamma$1(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return n.gamma=t,n}(1);function interpolateNumber(e,n){return n-=e=+e,function(t){return e+n*t}}var reA$1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB$1=new RegExp(reA$1.source,"g");function zero$1(t){return function(){return t}}function one$1(e){return function(t){return e(t)+""}}function interpolateString$1(t,r){var e,n,a,i=reA$1.lastIndex=reB$1.lastIndex=0,o=-1,s=[],u=[];for(t+="",r+="";(e=reA$1.exec(t))&&(n=reB$1.exec(r));)(a=n.index)>i&&(a=r.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(e=e[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:interpolateNumber(e,n)})),i=reB$1.lastIndex;return i<r.length&&(a=r.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?one$1(u[0].x):zero$1(r):(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}var cssNode$1,cssRoot$1,cssView$1,svgNode$1,degrees$2=180/Math.PI,identity$a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose$1(t,e,n,r,a,i){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*degrees$2,skewX:Math.atan(u)*degrees$2,scaleX:o,scaleY:s}}function parseCss$1(t){return"none"===t?identity$a:(cssNode$1||(cssNode$1=document.createElement("DIV"),cssRoot$1=document.documentElement,cssView$1=document.defaultView),cssNode$1.style.transform=t,t=cssView$1.getComputedStyle(cssRoot$1.appendChild(cssNode$1),null).getPropertyValue("transform"),cssRoot$1.removeChild(cssNode$1),decompose$1(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function parseSvg$1(t){return null==t?identity$a:((svgNode$1=svgNode$1||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=svgNode$1.transform.baseVal.consolidate())?decompose$1((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):identity$a)}function interpolateTransform$1(f,h,d,p){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,a,i,o,s,u,c=[],l=[];return t=f(t),e=f(e),a=t.translateX,i=t.translateY,u=e.translateX,s=e.translateY,o=c,n=l,a!==u||i!==s?(r=o.push("translate(",null,h,null,d),n.push({i:r-4,x:interpolateNumber(a,u)},{i:r-2,x:interpolateNumber(i,s)})):(u||s)&&o.push("translate("+u+h+s+d),n=t.rotate,a=e.rotate,r=c,i=l,n!==a?(180<n-a?a+=360:180<a-n&&(n+=360),i.push({i:r.push(g(r)+"rotate(",null,p)-2,x:interpolateNumber(n,a)})):a&&r.push(g(r)+"rotate("+a+p),o=t.skewX,u=e.skewX,s=c,i=l,o!==u?i.push({i:s.push(g(s)+"skewX(",null,p)-2,x:interpolateNumber(o,u)}):u&&s.push(g(s)+"skewX("+u+p),n=t.scaleX,r=t.scaleY,a=e.scaleX,i=e.scaleY,o=c,s=l,n!==a||r!==i?(u=o.push(g(o)+"scale(",null,",",null,")"),s.push({i:u-4,x:interpolateNumber(n,a)},{i:u-2,x:interpolateNumber(r,i)})):1===a&&1===i||o.push(g(o)+"scale("+a+","+i+")"),t=e=null,function(t){for(var e,n=-1,r=l.length;++n<r;)c[(e=l[n]).i]=e.x(t);return c.join("")}}}var interpolateTransformCss$1=interpolateTransform$1(parseCss$1,"px, ","px)","deg)"),interpolateTransformSvg$1=interpolateTransform$1(parseSvg$1,", ",")",")"),rho$1=Math.SQRT2,rho2$1=2,rho4$1=4,epsilon2$3=1e-12;function cosh$1(t){return((t=Math.exp(t))+1/t)/2}function sinh$1(t){return((t=Math.exp(t))-1/t)/2}function tanh$1(t){return((t=Math.exp(2*t))-1)/(t+1)}function interpolateZoom$1(t,e){var r,a,i,n,o=t[0],s=t[1],u=t[2],c=e[0],t=e[1],e=e[2],l=c-o,f=t-s,c=l*l+f*f;return(n=c<epsilon2$3?(i=Math.log(e/u)/rho$1,function(t){return[o+t*l,s+t*f,u*Math.exp(rho$1*t*i)]}):(r=Math.sqrt(c),t=(e*e-u*u+rho4$1*c)/(2*u*rho2$1*r),n=(e*e-u*u-rho4$1*c)/(2*e*rho2$1*r),a=Math.log(Math.sqrt(t*t+1)-t),i=(Math.log(Math.sqrt(n*n+1)-n)-a)/rho$1,function(t){var e=t*i,n=cosh$1(a),t=u/(rho2$1*r)*(n*tanh$1(rho$1*e+a)-sinh$1(a));return[o+t*l,s+t*f,u*n/cosh$1(rho$1*e+a)]})).duration=1e3*i,n}var taskHead$1,taskTail$1,frame$1=0,timeout$2=0,interval$2=0,pokeDelay$1=1e3,clockLast$1=0,clockNow$1=0,clockSkew$1=0,clock$1="object"==typeof performance&&performance.now?performance:Date,setFrame$1="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now$2(){return clockNow$1||(setFrame$1(clearNow$1),clockNow$1=clock$1.now()+clockSkew$1)}function clearNow$1(){clockNow$1=0}function Timer$1(){this._call=this._time=this._next=null}function timer$1(t,e,n){var r=new Timer$1;return r.restart(t,e,n),r}function timerFlush$1(){now$2(),++frame$1;for(var t,e=taskHead$1;e;)0<=(t=clockNow$1-e._time)&&e._call.call(null,t),e=e._next;--frame$1}function wake$1(){clockNow$1=(clockLast$1=clock$1.now())+clockSkew$1,frame$1=timeout$2=0;try{timerFlush$1()}finally{frame$1=0,nap$1(),clockNow$1=0}}function poke$2(){var t=clock$1.now(),e=t-clockLast$1;pokeDelay$1<e&&(clockSkew$1-=e,clockLast$1=t)}function nap$1(){for(var t,e,n=taskHead$1,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:taskHead$1=e);taskTail$1=t,sleep$1(r)}function sleep$1(t){frame$1||(timeout$2=timeout$2&&clearTimeout(timeout$2),24<t-clockNow$1?(t<1/0&&(timeout$2=setTimeout(wake$1,t-clock$1.now()-clockSkew$1)),interval$2=interval$2&&clearInterval(interval$2)):(interval$2||(clockLast$1=clock$1.now(),interval$2=setInterval(poke$2,pokeDelay$1)),frame$1=1,setFrame$1(wake$1)))}function timeout$3(e,n,t){var r=new Timer$1;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}Timer$1.prototype=timer$1.prototype={constructor:Timer$1,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?now$2():+n)+(null==e?0:+e),this._next||taskTail$1===this||(taskTail$1?taskTail$1._next=this:taskHead$1=this,taskTail$1=this),this._call=t,this._time=n,sleep$1()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep$1())}};var emptyOn$1=dispatch$1("start","end","cancel","interrupt"),emptyTween$1=[],CREATED$1=0,SCHEDULED$1=1,STARTING$1=2,STARTED$1=3,RUNNING$1=4,ENDING$1=5,ENDED$1=6;function schedule$1(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};create$2(t,n,{name:e,index:r,group:a,on:emptyOn$1,tween:emptyTween$1,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:CREATED$1})}function init$1(t,e){e=get$4(t,e);if(e.state>CREATED$1)throw new Error("too late; already scheduled");return e}function set$5(t,e){e=get$4(t,e);if(e.state>STARTED$1)throw new Error("too late; already running");return e}function get$4(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function create$2(i,o,s){var u,c=i.__transition;function l(t){var e,n,r,a;if(s.state!==SCHEDULED$1)return h();for(e in c)if((a=c[e]).name===s.name){if(a.state===STARTED$1)return timeout$3(l);a.state===RUNNING$1?(a.state=ENDED$1,a.timer.stop(),a.on.call("interrupt",i,i.__data__,a.index,a.group),delete c[e]):+e<o&&(a.state=ENDED$1,a.timer.stop(),a.on.call("cancel",i,i.__data__,a.index,a.group),delete c[e])}if(timeout$3(function(){s.state===STARTED$1&&(s.state=RUNNING$1,s.timer.restart(f,s.delay,s.time),f(t))}),s.state=STARTING$1,s.on.call("start",i,i.__data__,s.index,s.group),s.state===STARTING$1){for(s.state=STARTED$1,u=new Array(r=s.tween.length),e=0,n=-1;e<r;++e)(a=s.tween[e].value.call(i,i.__data__,s.index,s.group))&&(u[++n]=a);u.length=n+1}}function f(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(h),s.state=ENDING$1,1),n=-1,r=u.length;++n<r;)u[n].call(i,e);s.state===ENDING$1&&(s.on.call("end",i,i.__data__,s.index,s.group),h())}function h(){for(var t in s.state=ENDED$1,s.timer.stop(),delete c[o],c)return;delete i.__transition}(c[o]=s).timer=timer$1(function(t){s.state=SCHEDULED$1,s.timer.restart(l,s.delay,s.time),s.delay<=t&&l(t-s.delay)},0,s.time)}function interrupt$1(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>STARTING$1&&n.state<ENDING$1,n.state=ENDED$1,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}}function selection_interrupt$1(t){return this.each(function(){interrupt$1(this,t)})}function tweenRemove$1(a,i){var o,s;return function(){var t=set$5(this,a),e=t.tween;if(e!==o)for(var n=0,r=(s=o=e).length;n<r;++n)if(s[n].name===i){(s=s.slice()).splice(n,1);break}t.tween=s}}function tweenFunction$1(i,o,s){var u,c;if("function"!=typeof s)throw new Error;return function(){var t=set$5(this,i),e=t.tween;if(e!==u){c=(u=e).slice();for(var n={name:o,value:s},r=0,a=c.length;r<a;++r)if(c[r].name===o){c[r]=n;break}r===a&&c.push(n)}t.tween=c}}function transition_tween$1(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=get$4(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?tweenRemove$1:tweenFunction$1)(n,t,e))}function tweenValue$1(t,e,n){var r=t._id;return t.each(function(){var t=set$5(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return get$4(t,r).value[e]}}function interpolate$2(t,e){var n;return("number"==typeof e?interpolateNumber:e instanceof color$1?interpolateRgb$1:(n=color$1(e))?(e=n,interpolateRgb$1):interpolateString$1)(t,e)}function attrRemove$3(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$3(e,n,r){var a,i,o=r+"";return function(){var t=this.getAttribute(e);return t===o?null:t===a?i:i=n(a=t,r)}}function attrConstantNS$3(e,n,r){var a,i,o=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===o?null:t===a?i:i=n(a=t,r)}}function attrFunction$3(r,a,i){var o,s,u;return function(){var t,e,n=i(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===o&&e===s?u:(s=e,u=a(o=t,n));this.removeAttribute(r)}}function attrFunctionNS$3(r,a,i){var o,s,u;return function(){var t,e,n=i(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===o&&e===s?u:(s=e,u=a(o=t,n));this.removeAttributeNS(r.space,r.local)}}function transition_attr$1(t,e){var n=namespace$1(t),r="transform"===n?interpolateTransformSvg$1:interpolate$2;return this.attrTween(t,"function"==typeof e?(n.local?attrFunctionNS$3:attrFunction$3)(n,r,tweenValue$1(this,"attr."+t,e)):null==e?(n.local?attrRemoveNS$3:attrRemove$3)(n):(n.local?attrConstantNS$3:attrConstant$3)(n,r,e))}function attrInterpolate(e,n){return function(t){this.setAttribute(e,n(t))}}function attrInterpolateNS(e,n){return function(t){this.setAttributeNS(e.space,e.local,n(t))}}function attrTweenNS$1(e,n){var r,a;function t(){var t=n.apply(this,arguments);return t!==a&&(r=(a=t)&&attrInterpolateNS(e,t)),r}return t._value=n,t}function attrTween$1(e,n){var r,a;function t(){var t=n.apply(this,arguments);return t!==a&&(r=(a=t)&&attrInterpolate(e,t)),r}return t._value=n,t}function transition_attrTween$1(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;t=namespace$1(t);return this.tween(n,(t.local?attrTweenNS$1:attrTween$1)(t,e))}function delayFunction$1(t,e){return function(){init$1(this,t).delay=+e.apply(this,arguments)}}function delayConstant$1(t,e){return e=+e,function(){init$1(this,t).delay=e}}function transition_delay$1(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction$1:delayConstant$1)(e,t)):get$4(this.node(),e).delay}function durationFunction$1(t,e){return function(){set$5(this,t).duration=+e.apply(this,arguments)}}function durationConstant$1(t,e){return e=+e,function(){set$5(this,t).duration=e}}function transition_duration$1(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction$1:durationConstant$1)(e,t)):get$4(this.node(),e).duration}function easeConstant$1(t,e){if("function"!=typeof e)throw new Error;return function(){set$5(this,t).ease=e}}function transition_ease$1(t){var e=this._id;return arguments.length?this.each(easeConstant$1(e,t)):get$4(this.node(),e).ease}function transition_filter$1(t){"function"!=typeof t&&(t=matcher$2(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,u=r[a]=[],c=0;c<s;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&u.push(i);return new Transition$1(r,this._parents,this._name,this._id)}function transition_merge$1(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,a=Math.min(r,t),i=new Array(r),o=0;o<a;++o)for(var s,u=e[o],c=n[o],l=u.length,f=i[o]=new Array(l),h=0;h<l;++h)(s=u[h]||c[h])&&(f[h]=s);for(;o<r;++o)i[o]=e[o];return new Transition$1(i,this._parents,this._name,this._id)}function start$2(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function onFunction$1(n,r,a){var i,o,s=start$2(r)?init$1:set$5;return function(){var t=s(this,n),e=t.on;e!==i&&(o=(i=e).copy()).on(r,a),t.on=o}}function transition_on$1(t,e){var n=this._id;return arguments.length<2?get$4(this.node(),n).on.on(t):this.each(onFunction$1(n,t,e))}function removeFunction$1(n){return function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function transition_remove$1(){return this.on("end.remove",removeFunction$1(this._id))}function transition_select$1(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=selector$1(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s,u,c=r[o],l=c.length,f=i[o]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,schedule$1(f[h],e,n,h,f,get$4(s,n)));return new Transition$1(i,this._parents,e,n)}function transition_selectAll$1(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=selectorAll$1(t));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=get$4(u,n),g=0,y=d.length;g<y;++g)(h=d[g])&&schedule$1(h,e,n,g,d,p);i.push(d),o.push(u)}return new Transition$1(i,o,e,n)}var Selection$3=selection$1.prototype.constructor;function transition_selection$1(){return new Selection$3(this._groups,this._parents)}function styleNull(n,r){var a,i,o;return function(){var t=styleValue$1(this,n),e=(this.style.removeProperty(n),styleValue$1(this,n));return t===e?null:t===a&&e===i?o:o=r(a=t,i=e)}}function styleRemove$3(t){return function(){this.style.removeProperty(t)}}function styleConstant$3(e,n,r){var a,i,o=r+"";return function(){var t=styleValue$1(this,e);return t===o?null:t===a?i:i=n(a=t,r)}}function styleFunction$3(r,a,i){var o,s,u;return function(){var t=styleValue$1(this,r),e=i(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=styleValue$1(this,r)),t===n?null:t===o&&n===s?u:(s=n,u=a(o=t,e))}}function styleMaybeRemove(r,a){var i,o,s,u,c="style."+a,l="end."+c;return function(){var t=set$5(this,r),e=t.on,n=null==t.value[c]?u=u||styleRemove$3(a):void 0;e===i&&s===n||(o=(i=e).copy()).on(l,s=n),t.on=o}}function transition_style$1(t,e,n){var r="transform"==(t+="")?interpolateTransformCss$1:interpolate$2;return null==e?this.styleTween(t,styleNull(t,r)).on("end.style."+t,styleRemove$3(t)):"function"==typeof e?this.styleTween(t,styleFunction$3(t,r,tweenValue$1(this,"style."+t,e))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant$3(t,r,e),n).on("end.style."+t,null)}function styleInterpolate(e,n,r){return function(t){this.style.setProperty(e,n(t),r)}}function styleTween$1(e,n,r){var a,i;function t(){var t=n.apply(this,arguments);return t!==i&&(a=(i=t)&&styleInterpolate(e,t,r)),a}return t._value=n,t}function transition_styleTween$1(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,styleTween$1(t,e,null==n?"":n))}function textConstant$3(t){return function(){this.textContent=t}}function textFunction$3(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function transition_text$1(t){return this.tween("text","function"==typeof t?textFunction$3(tweenValue$1(this,"text",t)):textConstant$3(null==t?"":t+""))}function transition_transition$1(){for(var t=this._name,e=this._id,n=newId$1(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],u=s.length,c=0;c<u;++c)(o=s[c])&&schedule$1(o,t,n,c,s,{time:(o=get$4(o,e)).time+o.delay+o.duration,delay:0,duration:o.duration,ease:o.ease});return new Transition$1(r,this._parents,t,n)}function transition_end(){var a,i,o=this,s=o._id,u=o.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--u&&t()}};o.each(function(){var t=set$5(this,s),e=t.on;e!==a&&((i=(a=e).copy())._.cancel.push(n),i._.interrupt.push(n),i._.end.push(r)),t.on=i})})}var id$1=0;function Transition$1(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function transition$1(t){return selection$1().transition(t)}function newId$1(){return++id$1}var selection_prototype$1=selection$1.prototype;function cubicInOut$1(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Transition$1.prototype=transition$1.prototype={constructor:Transition$1,select:transition_select$1,selectAll:transition_selectAll$1,filter:transition_filter$1,merge:transition_merge$1,selection:transition_selection$1,transition:transition_transition$1,call:selection_prototype$1.call,nodes:selection_prototype$1.nodes,node:selection_prototype$1.node,size:selection_prototype$1.size,empty:selection_prototype$1.empty,each:selection_prototype$1.each,on:transition_on$1,attr:transition_attr$1,attrTween:transition_attrTween$1,style:transition_style$1,styleTween:transition_styleTween$1,text:transition_text$1,remove:transition_remove$1,tween:transition_tween$1,delay:transition_delay$1,duration:transition_duration$1,ease:transition_ease$1,end:transition_end};var defaultTiming$1={time:null,delay:0,duration:250,ease:cubicInOut$1};function inherit$1(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return defaultTiming$1.time=now$2(),defaultTiming$1;return n}function selection_transition$1(t){var e,n;t=t instanceof Transition$1?(e=t._id,t._name):(e=newId$1(),(n=defaultTiming$1).time=now$2(),null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],u=s.length,c=0;c<u;++c)(o=s[c])&&schedule$1(o,t,e,c,s,n||inherit$1(o,e));return new Transition$1(r,this._parents,t,e)}function tree_add$1(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return add$2(this.cover(e,n),e,n,t)}function add$2(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var a,i,o,s,u,c,l,f,h,d=t._root,p={data:r},g=t._x0,y=t._y0,_=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(i=(g+_)/2))?g=i:_=i,(l=n>=(o=(y+m)/2))?y=o:m=o,!(d=(a=d)[f=l<<1|c]))return a[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,a?a[f]=p:t._root=p,t;for(;a=a?a[f]=new Array(4):t._root=new Array(4),(c=e>=(i=(g+_)/2))?g=i:_=i,(l=n>=(o=(y+m)/2))?y=o:m=o,(f=l<<1|c)==(h=(o<=u)<<1|i<=s););return a[h]=d,a[f]=p,t}function addAll$1(t){for(var e,n,r,a=t.length,i=new Array(a),o=new Array(a),s=1/0,u=1/0,c=-1/0,l=-1/0,f=0;f<a;++f)isNaN(n=+this._x.call(null,e=t[f]))||isNaN(r=+this._y.call(null,e))||((i[f]=n)<s&&(s=n),c<n&&(c=n),(o[f]=r)<u&&(u=r),l<r&&(l=r));if(c<s||l<u)return this;for(this.cover(s,u).cover(c,l),f=0;f<a;++f)add$2(this,i[f],o[f],t[f]);return this}function tree_cover$1(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var o,s,u=a-n,c=this._root;t<n||a<=t||e<r||i<=e;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=c,c=o,u*=2,s){case 0:a=n+u,i=r+u;break;case 1:n=a-u,i=r+u;break;case 2:a=n+u,r=i-u;break;case 3:n=a-u,r=i-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this}function tree_data$1(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e}function tree_extent$1(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad$1(t,e,n,r,a){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=a}function tree_find$1(t,e,n){var r,a,i,o,s,u,c,l,f=this._x0,h=this._y0,d=this._x1,p=this._y1,g=[],y=this._root;for(y&&g.push(new Quad$1(y,f,h,d,p)),null==n?n=1/0:(f=t-n,h=e-n,d=t+n,p=e+n,n*=n);c=g.pop();)!(y=c.node)||(r=c.x0)>d||(a=c.y0)>p||(i=c.x1)<f||(o=c.y1)<h||(y.length?(s=(r+i)/2,u=(a+o)/2,g.push(new Quad$1(y[3],s,u,i,o),new Quad$1(y[2],r,u,s,o),new Quad$1(y[1],s,a,i,u),new Quad$1(y[0],r,a,s,u)),(s=(u<=e)<<1|s<=t)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-s],g[g.length-1-s]=c)):(c=(c=t-+this._x.call(null,y.data))*c+(c=e-+this._y.call(null,y.data))*c)<n&&(f=t-(c=Math.sqrt(n=c)),h=e-c,d=t+c,p=e+c,l=y.data));return l}function tree_remove$1(t){if(isNaN(i=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,a,i,o,s,u,c,l,f,h=this._root,d=this._x0,p=this._y0,g=this._x1,y=this._y1;if(!h)return this;if(h.length)for(;;){if((u=i>=(c=(d+g)/2))?d=c:g=c,(c=o>=(s=(p+y)/2))?p=s:y=s,!(h=(e=h)[l=c<<1|u]))return this;if(!h.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,f=l)}for(;h.data!==t;)if(!(h=(r=h).next))return this;return(a=h.next)&&delete h.next,r?a?r.next=a:delete r.next:e?(a?e[l]=a:delete e[l],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[f]=h:this._root=h)):this._root=a,this}function removeAll$1(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function tree_root$1(){return this._root}function tree_size$1(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e}function tree_visit$1(t){var e,n,r,a,i,o,s,u=[],c=this._root;for(c&&u.push(new Quad$1(c,this._x0,this._y0,this._x1,this._y1));e=u.pop();)!t(c=e.node,n=e.x0,r=e.y0,a=e.x1,i=e.y1)&&c.length&&(o=(n+a)/2,s=(r+i)/2,(e=c[3])&&u.push(new Quad$1(e,o,s,a,i)),(e=c[2])&&u.push(new Quad$1(e,n,s,o,i)),(e=c[1])&&u.push(new Quad$1(e,o,r,a,s)),(e=c[0])&&u.push(new Quad$1(e,n,r,o,s)));return this}function tree_visitAfter$1(t){var e,n=[],r=[];for(this._root&&n.push(new Quad$1(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var a,i,o,s,u,c,l,f=e.node;f.length&&(i=e.x0,o=e.y0,c=(i+(s=e.x1))/2,l=(o+(u=e.y1))/2,(a=f[0])&&n.push(new Quad$1(a,i,o,c,l)),(a=f[1])&&n.push(new Quad$1(a,c,o,s,l)),(a=f[2])&&n.push(new Quad$1(a,i,l,c,u)),(a=f[3])&&n.push(new Quad$1(a,c,l,s,u))),r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function defaultX$1(t){return t[0]}function tree_x$1(t){return arguments.length?(this._x=t,this):this._x}function defaultY$1(t){return t[1]}function tree_y$1(t){return arguments.length?(this._y=t,this):this._y}function quadtree$1(t,e,n){n=new Quadtree$1(null==e?defaultX$1:e,null==n?defaultY$1:n,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function Quadtree$1(t,e,n,r,a,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function leaf_copy$1(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}selection$1.prototype.interrupt=selection_interrupt$1,selection$1.prototype.transition=selection_transition$1;var treeProto$1=quadtree$1.prototype=Quadtree$1.prototype;function formatDecimal$1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,e=t.slice(0,n);return[1<e.length?e[0]+e.slice(2):e,+t.slice(n+1)]}function exponent$2(t){return(t=formatDecimal$1(Math.abs(t)))?t[1]:NaN}function formatGroup$1(s,u){return function(t,e){for(var n=t.length,r=[],a=0,i=s[0],o=0;0<n&&0<i&&(e<o+i+1&&(i=Math.max(1,e-o)),r.push(t.substring(n-=i,n+i)),!((o+=i+1)>e));)i=s[a=(a+1)%s.length];return r.reverse().join(u)}}function formatNumerals$1(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}treeProto$1.copy=function(){var t,e,n=new Quadtree$1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=leaf_copy$1(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var a=0;a<4;++a)(e=r.source[a])&&(e.length?t.push({source:e,target:r.target[a]=new Array(4)}):r.target[a]=leaf_copy$1(e));return n},treeProto$1.add=tree_add$1,treeProto$1.addAll=addAll$1,treeProto$1.cover=tree_cover$1,treeProto$1.data=tree_data$1,treeProto$1.extent=tree_extent$1,treeProto$1.find=tree_find$1,treeProto$1.remove=tree_remove$1,treeProto$1.removeAll=removeAll$1,treeProto$1.root=tree_root$1,treeProto$1.size=tree_size$1,treeProto$1.visit=tree_visit$1,treeProto$1.visitAfter=tree_visitAfter$1,treeProto$1.x=tree_x$1,treeProto$1.y=tree_y$1;var prefixExponent$1,re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier$1(t){if(!(e=re$1.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier$1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function FormatSpecifier$1(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function formatTrim(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(0<a){if(!+t[r])break t;a=0}}return 0<a?t.slice(0,a)+t.slice(e+1):t}function formatPrefixAuto$1(t,e){var n=formatDecimal$1(t,e);if(!n)return t+"";var r=n[0],a=n[1],n=a-(prefixExponent$1=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,a=r.length;return n===a?r:a<n?r+new Array(n-a+1).join("0"):0<n?r.slice(0,n)+"."+r.slice(n):"0."+new Array(1-n).join("0")+formatDecimal$1(t,Math.max(0,e+n-1))[0]}function formatRounded$1(t,e){e=formatDecimal$1(t,e);if(!e)return t+"";t=e[0],e=e[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}formatSpecifier$1.prototype=FormatSpecifier$1.prototype,FormatSpecifier$1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes$1={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded$1(100*t,e)},r:formatRounded$1,s:formatPrefixAuto$1,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function identity$b(t){return t}var locale$2,format$1,formatPrefix$1,map$5=Array.prototype.map,prefixes$1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$2(t){var x=void 0===t.grouping||void 0===t.thousands?identity$b:formatGroup$1(map$5.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",w=void 0===t.decimal?".":t.decimal+"",T=void 0===t.numerals?identity$b:formatNumerals$1(map$5.call(t.numerals,String)),i=void 0===t.percent?"%":t.percent+"",S=void 0===t.minus?"-":t.minus+"",E=void 0===t.nan?"NaN":t.nan+"";function o(t){var c=(t=formatSpecifier$1(t)).fill,l=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,y=t.trim,_=t.type;"n"===_?(p=!0,_="g"):formatTypes$1[_]||(void 0===g&&(g=12),y=!0,_="g"),(h||"0"===c&&"="===l)&&(h=!0,c="0",l="=");var m="$"===e?r:"#"===e&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",$="$"===e?a:/[%p]/.test(_)?i:"",v=formatTypes$1[_],b=/[defgprs%]/.test(_);function n(t){var e,n,r,a=m,i=$;if("c"===_)i=v(t)+i,t="";else{var o=(t=+t)<0;if(t=isNaN(t)?E:v(Math.abs(t),g),y&&(t=formatTrim(t)),o&&0==+t&&(o=!1),a=(o?"("===f?f:S:"-"===f||"("===f?"":f)+a,i=("s"===_?prefixes$1[8+prefixExponent$1/3]:"")+i+(o&&"("===f?")":""),b)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){i=(46===r?w+t.slice(e+1):t.slice(e))+i,t=t.slice(0,e);break}}p&&!h&&(t=x(t,1/0));var s=a.length+t.length+i.length,u=s<d?new Array(d-s+1).join(c):"";switch(p&&h&&(t=x(u+t,u.length?d-i.length:1/0),u=""),l){case"<":t=a+t+i+u;break;case"=":t=a+u+t+i;break;case"^":t=u.slice(0,s=u.length>>1)+a+t+i+u.slice(s);break;default:t=u+a+t+i}return T(t)}return g=void 0===g?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:o,formatPrefix:function(t,e){var n=o(((t=formatSpecifier$1(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(exponent$2(e)/3))),r=Math.pow(10,-e),a=prefixes$1[8+e/3];return function(t){return n(r*t)+a}}}}function defaultLocale$2(t){return locale$2=formatLocale$2(t),format$1=locale$2.format,formatPrefix$1=locale$2.formatPrefix,locale$2}function adder$1(){return new Adder$1}function Adder$1(){this.reset()}defaultLocale$2({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Adder$1.prototype={constructor:Adder$1,reset:function(){this.s=this.t=0},add:function(t){add$3(temp$1,t,this.t),add$3(this,temp$1.s,this.s),this.s?this.t+=temp$1.t:this.s=temp$1.t},valueOf:function(){return this.s}};var temp$1=new Adder$1;function add$3(t,e,n){var r=t.s=e+n,a=r-e,r=r-a;t.t=e-r+(n-a)}var areaRingSum$2=adder$1(),areaSum$2=adder$1(),deltaSum$1=adder$1(),sum$3=adder$1(),lengthSum$2=adder$1(),areaSum$3=adder$1(),areaRingSum$3=adder$1(),lengthSum$3=adder$1(),t0$3=new Date,t1$3=new Date;function newInterval$1(i,o,n,r){function s(t){return i(t=new Date(+t)),t}return(s.floor=s).ceil=function(t){return i(t=new Date(t-1)),o(t,1),i(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,a=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return a;for(;a.push(r=new Date(+t)),o(t,n),i(t),r<t&&t<e;);return a},s.filter=function(n){return newInterval$1(function(t){if(t<=t)for(;i(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(s.count=function(t,e){return t0$3.setTime(+t),t1$3.setTime(+e),i(t0$3),i(t1$3),Math.floor(n(t0$3,t1$3))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var millisecond$1=newInterval$1(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});millisecond$1.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?newInterval$1(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):millisecond$1:null};var durationSecond$2=1e3,durationMinute$2=6e4,durationHour$2=36e5,durationDay$2=864e5,durationWeek$2=6048e5,second$1=newInterval$1(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*durationSecond$2)},function(t,e){return(e-t)/durationSecond$2},function(t){return t.getUTCSeconds()}),minute$1=newInterval$1(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond$2)},function(t,e){t.setTime(+t+e*durationMinute$2)},function(t,e){return(e-t)/durationMinute$2},function(t){return t.getMinutes()}),hour$1=newInterval$1(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond$2-t.getMinutes()*durationMinute$2)},function(t,e){t.setTime(+t+e*durationHour$2)},function(t,e){return(e-t)/durationHour$2},function(t){return t.getHours()}),day$1=newInterval$1(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$2)/durationDay$2},function(t){return t.getDate()-1});function weekday$1(e){return newInterval$1(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$2)/durationWeek$2})}var sunday$1=weekday$1(0),monday$1=weekday$1(1),tuesday$1=weekday$1(2),wednesday$1=weekday$1(3),thursday$1=weekday$1(4),friday$1=weekday$1(5),saturday$1=weekday$1(6),month$1=newInterval$1(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),year$1=newInterval$1(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});year$1.every=function(n){return isFinite(n=Math.floor(n))&&0<n?newInterval$1(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var utcMinute$1=newInterval$1(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*durationMinute$2)},function(t,e){return(e-t)/durationMinute$2},function(t){return t.getUTCMinutes()}),utcHour$1=newInterval$1(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*durationHour$2)},function(t,e){return(e-t)/durationHour$2},function(t){return t.getUTCHours()}),utcDay$1=newInterval$1(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/durationDay$2},function(t){return t.getUTCDate()-1});function utcWeekday$1(e){return newInterval$1(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/durationWeek$2})}var utcSunday$1=utcWeekday$1(0),utcMonday$1=utcWeekday$1(1),utcTuesday$1=utcWeekday$1(2),utcWednesday$1=utcWeekday$1(3),utcThursday$1=utcWeekday$1(4),utcFriday$1=utcWeekday$1(5),utcSaturday$1=utcWeekday$1(6),utcMonth$1=newInterval$1(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),utcYear$1=newInterval$1(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});function localDate$1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate$1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newYear$1(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale$3(t){var r=t.dateTime,a=t.date,i=t.time,e=t.periods,n=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=formatRe$1(e),l=formatLookup$1(e),f=formatRe$1(n),h=formatLookup$1(n),d=formatRe$1(o),p=formatLookup$1(o),g=formatRe$1(s),y=formatLookup$1(s),_=formatRe$1(u),m=formatLookup$1(u),$={a:function(t){return o[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:formatDayOfMonth$1,e:formatDayOfMonth$1,f:formatMicroseconds$1,H:formatHour24$1,I:formatHour12$1,j:formatDayOfYear$1,L:formatMilliseconds$1,m:formatMonthNumber$1,M:formatMinutes$1,p:function(t){return e[+(12<=t.getHours())]},Q:formatUnixTimestamp$1,s:formatUnixTimestampSeconds$1,S:formatSeconds$1,u:formatWeekdayNumberMonday$1,U:formatWeekNumberSunday$1,V:formatWeekNumberISO$1,w:formatWeekdayNumberSunday$1,W:formatWeekNumberMonday$1,x:null,X:null,y:formatYear$2,Y:formatFullYear$1,Z:formatZone$1,"%":formatLiteralPercent$1},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth$1,e:formatUTCDayOfMonth$1,f:formatUTCMicroseconds$1,H:formatUTCHour24$1,I:formatUTCHour12$1,j:formatUTCDayOfYear$1,L:formatUTCMilliseconds$1,m:formatUTCMonthNumber$1,M:formatUTCMinutes$1,p:function(t){return e[+(12<=t.getUTCHours())]},Q:formatUnixTimestamp$1,s:formatUnixTimestampSeconds$1,S:formatUTCSeconds$1,u:formatUTCWeekdayNumberMonday$1,U:formatUTCWeekNumberSunday$1,V:formatUTCWeekNumberISO$1,w:formatUTCWeekdayNumberSunday$1,W:formatUTCWeekNumberMonday$1,x:null,X:null,y:formatUTCYear$1,Y:formatUTCFullYear$1,Z:formatUTCZone$1,"%":formatLiteralPercent$1},b={a:function(t,e,n){e=d.exec(e.slice(n));return e?(t.w=p[e[0].toLowerCase()],n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=h[e[0].toLowerCase()],n+e[0].length):-1},b:function(t,e,n){e=_.exec(e.slice(n));return e?(t.m=m[e[0].toLowerCase()],n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=y[e[0].toLowerCase()],n+e[0].length):-1},c:function(t,e,n){return T(t,r,e,n)},d:parseDayOfMonth$1,e:parseDayOfMonth$1,f:parseMicroseconds$1,H:parseHour24$1,I:parseHour24$1,j:parseDayOfYear$1,L:parseMilliseconds$1,m:parseMonthNumber$1,M:parseMinutes$1,p:function(t,e,n){e=c.exec(e.slice(n));return e?(t.p=l[e[0].toLowerCase()],n+e[0].length):-1},Q:parseUnixTimestamp$1,s:parseUnixTimestampSeconds$1,S:parseSeconds$1,u:parseWeekdayNumberMonday$1,U:parseWeekNumberSunday$1,V:parseWeekNumberISO$1,w:parseWeekdayNumberSunday$1,W:parseWeekNumberMonday$1,x:function(t,e,n){return T(t,a,e,n)},X:function(t,e,n){return T(t,i,e,n)},y:parseYear$1,Y:parseFullYear$1,Z:parseZone$1,"%":parseLiteralPercent$1};function x(u,c){return function(t){var e,n,r,a=[],i=-1,o=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++i<s;)37===u.charCodeAt(i)&&(a.push(u.slice(o,i)),null!=(n=pads$1[e=u.charAt(++i)])?e=u.charAt(++i):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),a.push(e),o=i+1);return a.push(u.slice(o,i)),a.join("")}}function w(a,i){return function(t){var e,n,r=newYear$1(1900);if(T(r,a,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=utcDate$1(newYear$1(r.y))).getUTCDay())||0===n?utcMonday$1.ceil(e):utcMonday$1(e),e=utcDay$1.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=i(newYear$1(r.y))).getDay())||0===n?monday$1.ceil(e):monday$1(e),e=day$1.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?utcDate$1(newYear$1(r.y)).getUTCDay():i(newYear$1(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,utcDate$1(r)):i(r)}}function T(t,e,n,r){for(var a,i,o=0,s=e.length,u=n.length;o<s;){if(u<=r)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=b[a in pads$1?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return $.x=x(a,$),$.X=x(i,$),$.c=x(r,$),v.x=x(a,v),v.X=x(i,v),v.c=x(r,v),{format:function(t){var e=x(t+="",$);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",localDate$1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,utcDate$1);return e.toString=function(){return t},e}}}utcYear$1.every=function(n){return isFinite(n=Math.floor(n))&&0<n?newInterval$1(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var locale$3,timeFormat$1,timeParse$1,utcFormat$1,utcParse$1,pads$1={"-":"",_:" ",0:"0"},numberRe$1=/^\s*\d+/,percentRe$1=/^%/,requoteRe$1=/[\\^$*+?|[\]().{}]/g;function pad$2(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",t=a.length;return r+(t<n?new Array(n-t+1).join(e)+a:a)}function requote$1(t){return t.replace(requoteRe$1,"\\$&")}function formatRe$1(t){return new RegExp("^(?:"+t.map(requote$1).join("|")+")","i")}function formatLookup$1(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function parseWeekdayNumberSunday$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function parseWeekdayNumberMonday$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function parseWeekNumberSunday$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function parseWeekNumberISO$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function parseWeekNumberMonday$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function parseFullYear$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function parseYear$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function parseZone$1(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function parseMonthNumber$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function parseDayOfMonth$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function parseDayOfYear$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function parseHour24$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function parseMinutes$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function parseSeconds$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function parseMilliseconds$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function parseMicroseconds$1(t,e,n){e=numberRe$1.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function parseLiteralPercent$1(t,e,n){e=percentRe$1.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function parseUnixTimestamp$1(t,e,n){e=numberRe$1.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function parseUnixTimestampSeconds$1(t,e,n){e=numberRe$1.exec(e.slice(n));return e?(t.Q=1e3*+e[0],n+e[0].length):-1}function formatDayOfMonth$1(t,e){return pad$2(t.getDate(),e,2)}function formatHour24$1(t,e){return pad$2(t.getHours(),e,2)}function formatHour12$1(t,e){return pad$2(t.getHours()%12||12,e,2)}function formatDayOfYear$1(t,e){return pad$2(1+day$1.count(year$1(t),t),e,3)}function formatMilliseconds$1(t,e){return pad$2(t.getMilliseconds(),e,3)}function formatMicroseconds$1(t,e){return formatMilliseconds$1(t,e)+"000"}function formatMonthNumber$1(t,e){return pad$2(t.getMonth()+1,e,2)}function formatMinutes$1(t,e){return pad$2(t.getMinutes(),e,2)}function formatSeconds$1(t,e){return pad$2(t.getSeconds(),e,2)}function formatWeekdayNumberMonday$1(t){t=t.getDay();return 0===t?7:t}function formatWeekNumberSunday$1(t,e){return pad$2(sunday$1.count(year$1(t),t),e,2)}function formatWeekNumberISO$1(t,e){var n=t.getDay();return t=4<=n||0===n?thursday$1(t):thursday$1.ceil(t),pad$2(thursday$1.count(year$1(t),t)+(4===year$1(t).getDay()),e,2)}function formatWeekdayNumberSunday$1(t){return t.getDay()}function formatWeekNumberMonday$1(t,e){return pad$2(monday$1.count(year$1(t),t),e,2)}function formatYear$2(t,e){return pad$2(t.getFullYear()%100,e,2)}function formatFullYear$1(t,e){return pad$2(t.getFullYear()%1e4,e,4)}function formatZone$1(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+pad$2(t/60|0,"0",2)+pad$2(t%60,"0",2)}function formatUTCDayOfMonth$1(t,e){return pad$2(t.getUTCDate(),e,2)}function formatUTCHour24$1(t,e){return pad$2(t.getUTCHours(),e,2)}function formatUTCHour12$1(t,e){return pad$2(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear$1(t,e){return pad$2(1+utcDay$1.count(utcYear$1(t),t),e,3)}function formatUTCMilliseconds$1(t,e){return pad$2(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds$1(t,e){return formatUTCMilliseconds$1(t,e)+"000"}function formatUTCMonthNumber$1(t,e){return pad$2(t.getUTCMonth()+1,e,2)}function formatUTCMinutes$1(t,e){return pad$2(t.getUTCMinutes(),e,2)}function formatUTCSeconds$1(t,e){return pad$2(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday$1(t){t=t.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday$1(t,e){return pad$2(utcSunday$1.count(utcYear$1(t),t),e,2)}function formatUTCWeekNumberISO$1(t,e){var n=t.getUTCDay();return t=4<=n||0===n?utcThursday$1(t):utcThursday$1.ceil(t),pad$2(utcThursday$1.count(utcYear$1(t),t)+(4===utcYear$1(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday$1(t){return t.getUTCDay()}function formatUTCWeekNumberMonday$1(t,e){return pad$2(utcMonday$1.count(utcYear$1(t),t),e,2)}function formatUTCYear$1(t,e){return pad$2(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear$1(t,e){return pad$2(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone$1(){return"+0000"}function formatLiteralPercent$1(){return"%"}function formatUnixTimestamp$1(t){return+t}function formatUnixTimestampSeconds$1(t){return Math.floor(+t/1e3)}function defaultLocale$3(t){return locale$3=formatLocale$3(t),timeFormat$1=locale$3.format,timeParse$1=locale$3.parse,utcFormat$1=locale$3.utcFormat,utcParse$1=locale$3.utcParse,locale$3}defaultLocale$3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var isoSpecifier$1="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative$1(t){return t.toISOString()}var formatIso$1=Date.prototype.toISOString?formatIsoNative$1:utcFormat$1(isoSpecifier$1);function parseIsoNative$1(t){t=new Date(t);return isNaN(t)?null:t}var parseIso$1=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative$1:utcParse$1(isoSpecifier$1);function sign$2(t){return t<0?-1:1}function slope3$1(t,e,n){var r=t._x1-t._x0,a=e-t._x1,e=(t._y1-t._y0)/(r||a<0&&-0),t=(n-t._y1)/(a||r<0&&-0),a=(e*a+t*r)/(r+a);return(sign$2(e)+sign$2(t))*Math.min(Math.abs(e),Math.abs(t),.5*Math.abs(a))||0}function slope2$1(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point$7(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,a+s*e,i-s,o-s*n,i,o)}function MonotoneX$1(t){this._context=t}function MonotoneY$1(t){this._context=new ReflectContext$1(t)}function ReflectContext$1(t){this._context=t}function constant$g(t){return function(){return t}}function ZoomEvent$1(t,e,n){this.target=t,this.type=e,this.transform=n}function Transform$1(t,e,n){this.k=t,this.x=e,this.y=n}MonotoneX$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$7(this,this._t0,slope2$1(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$7(this,slope2$1(this,n=slope3$1(this,t,e)),n);break;default:point$7(this,this._t0,n=slope3$1(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(MonotoneY$1.prototype=Object.create(MonotoneX$1.prototype)).point=function(t,e){MonotoneX$1.prototype.point.call(this,e,t)},ReflectContext$1.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}},Transform$1.prototype={constructor:Transform$1,scale:function(t){return 1===t?this:new Transform$1(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform$1(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$c=new Transform$1(1,0,0);function nopropagation$3(){event$1.stopImmediatePropagation()}function noevent$4(){event$1.preventDefault(),event$1.stopImmediatePropagation()}function defaultFilter$3(){return!event$1.ctrlKey&&!event$1.button}function defaultExtent$2(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function defaultTransform$1(){return this.__zoom||identity$c}function defaultWheelDelta$1(){return-event$1.deltaY*(1===event$1.deltaMode?.05:event$1.deltaMode?1:.002)}function defaultTouchable$2(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain$1(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],n=t.invertY(e[1][1])-n[1][1];return t.translate(r<a?(r+a)/2:Math.min(0,r)||Math.max(0,a),i<n?(i+n)/2:Math.min(0,i)||Math.max(0,n))}function zoom$1(){var h,o,s=defaultFilter$3,c=defaultExtent$2,d=defaultConstrain$1,a=defaultWheelDelta$1,e=defaultTouchable$2,i=[0,1/0],p=[[-1/0,-1/0],[1/0,1/0]],u=250,l=interpolateZoom$1,n=dispatch$1("start","zoom","end"),f=500,g=150,y=0;function _(t){t.property("__zoom",defaultTransform$1).on("wheel.zoom",w).on("mousedown.zoom",T).on("dblclick.zoom",S).filter(e).on("touchstart.zoom",E).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(i[0],Math.min(i[1],e)))===t.k?t:new Transform$1(e,t.x,t.y)}function $(t,e,n){var r=e[0]-n[0]*t.k,n=e[1]-n[1]*t.k;return r===t.x&&n===t.y?t:new Transform$1(t.k,r,n)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,n,u){t.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=x(this,t),e=c.apply(this,t),a=null==u?v(e):"function"==typeof u?u.apply(this,t):u,i=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),e=this.__zoom,o="function"==typeof n?n.apply(this,t):n,s=l(e.invert(a).concat(i/e.k),o.invert(a).concat(i/o.k));return function(t){var e,n;t=1===t?o:(e=s(t),new Transform$1(n=i/e[2],a[0]-e[0]*n,a[1]-e[1]*n)),r.zoom(null,t)}})}function x(t,e,n){return!n&&t.__zooming||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.active=0,this.extent=c.apply(t,e),this.taps=0}function w(){if(s.apply(this,arguments)){var t=x(this,arguments),e=this.__zoom,n=Math.max(i[0],Math.min(i[1],e.k*Math.pow(2,a.apply(this,arguments)))),r=mouse$1(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],interrupt$1(this),t.start()}noevent$4(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},g),t.zoom("mouse",d($(m(e,n),t.mouse[0],t.mouse[1]),t.extent,p))}}function T(){var n,t,e,r,a;!o&&s.apply(this,arguments)&&(n=x(this,arguments,!0),t=select$1(event$1.view).on("mousemove.zoom",function(){{var t,e;noevent$4(),n.moved||(t=event$1.clientX-r,e=event$1.clientY-a,n.moved=y<t*t+e*e)}n.zoom("mouse",d($(n.that.__zoom,n.mouse[0]=mouse$1(n.that),n.mouse[1]),n.extent,p))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),yesdrag$1(event$1.view,n.moved),noevent$4(),n.end()},!0),e=mouse$1(this),r=event$1.clientX,a=event$1.clientY,dragDisable$1(event$1.view),nopropagation$3(),n.mouse=[e,this.__zoom.invert(e)],interrupt$1(this),n.start())}function S(){var t,e,n,r;s.apply(this,arguments)&&(t=this.__zoom,e=mouse$1(this),r=t.invert(e),n=t.k*(event$1.shiftKey?.5:2),r=d($(m(t,n),e,r),c.apply(this,arguments),p),noevent$4(),0<u?select$1(this).transition().duration(u).call(b,r,e):select$1(this).call(_.transform,r))}function E(){if(s.apply(this,arguments)){var t,e,n,r,a=event$1.touches,i=a.length,o=x(this,arguments,event$1.changedTouches.length===i);for(nopropagation$3(),e=0;e<i;++e)r=[r=touch$1(this,a,(n=a[e]).identifier),this.__zoom.invert(r),n.identifier],o.touch0?o.touch1||o.touch0[2]===r[2]||(o.touch1=r,o.taps=0):(o.touch0=r,t=!0,o.taps=1+!!h);h=h&&clearTimeout(h),t&&(o.taps<2&&(h=setTimeout(function(){h=null},f)),interrupt$1(this),o.start())}}function M(){if(this.__zooming){var t,e=x(this,arguments),n=event$1.changedTouches,r=n.length;for(noevent$4(),h=h&&clearTimeout(h),t=e.taps=0;t<r;++t)f=touch$1(this,n,(l=n[t]).identifier),e.touch0&&e.touch0[2]===l.identifier?e.touch0[0]=f:e.touch1&&e.touch1[2]===l.identifier&&(e.touch1[0]=f);if(l=e.that.__zoom,e.touch1)var a=e.touch0[0],i=e.touch0[1],o=e.touch1[0],s=e.touch1[1],u=(u=o[0]-a[0])*u+(u=o[1]-a[1])*u,c=(c=s[0]-i[0])*c+(c=s[1]-i[1])*c,l=m(l,Math.sqrt(u/c)),f=[(a[0]+o[0])/2,(a[1]+o[1])/2],s=[(i[0]+s[0])/2,(i[1]+s[1])/2];else{if(!e.touch0)return;f=e.touch0[0],s=e.touch0[1]}e.zoom("touch",d($(l,f,s),e.extent,p))}}function C(){if(this.__zooming){var t,e,n,r=x(this,arguments),a=event$1.changedTouches,i=a.length;for(nopropagation$3(),o&&clearTimeout(o),o=setTimeout(function(){o=null},f),t=0;t<i;++t)e=a[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):(r.end(),2!==r.taps||(n=select$1(this).on("dblclick.zoom"))&&n.apply(this,arguments))}}return _.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",defaultTransform$1),t!==r?b(t,e,n):r.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},_.scaleBy=function(t,e,n){_.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n)},_.scaleTo=function(t,i,o){_.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=null==o?v(t):"function"==typeof o?o.apply(this,arguments):o,r=e.invert(n),a="function"==typeof i?i.apply(this,arguments):i;return d($(m(e,a),n,r),t,p)},o)},_.translateBy=function(t,e,n){_.transform(t,function(){return d(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),c.apply(this,arguments),p)})},_.translateTo=function(t,r,a,i){_.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=null==i?v(t):"function"==typeof i?i.apply(this,arguments):i;return d(identity$c.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof a?-a.apply(this,arguments):-a),t,p)},i)},r.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){customEvent$1(new ZoomEvent$1(_,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},_.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:constant$g(+t),_):a},_.filter=function(t){return arguments.length?(s="function"==typeof t?t:constant$g(!!t),_):s},_.touchable=function(t){return arguments.length?(e="function"==typeof t?t:constant$g(!!t),_):e},_.extent=function(t){return arguments.length?(c="function"==typeof t?t:constant$g([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),_):c},_.scaleExtent=function(t){return arguments.length?(i[0]=+t[0],i[1]=+t[1],_):[i[0],i[1]]},_.translateExtent=function(t){return arguments.length?(p[0][0]=+t[0][0],p[1][0]=+t[1][0],p[0][1]=+t[0][1],p[1][1]=+t[1][1],_):[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},_.constrain=function(t){return arguments.length?(d=t,_):d},_.duration=function(t){return arguments.length?(u=+t,_):u},_.interpolate=function(t){return arguments.length?(l=t,_):l},_.on=function(){var t=n.on.apply(n,arguments);return t===n?_:t},_.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,_):Math.sqrt(y)},_}var DagreGraph=function(t){function e(){var p=null!==t&&t.apply(this,arguments)||this;return p.svg=React.createRef(),p.innerG=React.createRef(),p._drawChart=function(){var t=p.props,e=t.nodes,n=t.links,r=t.zoomable,a=t.fitBoundaries,i=t.config,o=t.animate,s=t.shape,u=t.onNodeClick,c=t.onRelationshipClick,l=(new dagreD3.graphlib.Graph).setGraph(i||{});e.forEach(function(t){return l.setNode(t.id,__assign({label:t.label,class:t.class||"",labelType:t.labelType||"string"},t.config))}),s&&l.nodes().forEach(function(t){return l.node(t).shape=s}),n.forEach(function(t){return l.setEdge(t.source,t.target,__assign({label:t.label||"",class:t.class||""},t.config))});var f=new dagreD3.render,h=select$1(p.svg.current),d=select$1(p.innerG.current),t=zoom$1().on("zoom",function(){return d.attr("transform",event$1.transform)});if(r&&h.call(t),o&&(l.graph().transition=function(t){return t.transition().duration(o||1e3)}),f(d,l),a){i=d.node().getBBox(),e=d.node().parentElement||d.node().parentNode,n=e.clientWidth||e.parentNode.clientWidth,r=e.clientHeight||e.parentNode.clientHeight,f=i.width,a=i.height,e=i.x+f/2,i=i.y+a/2;if(0===f||0===a)return;a=.9/Math.max(f/n,a/r),i=[n/2-a*e,r/2-a*i],a=identity$c.translate(i[0],i[1]).scale(a);h.transition().duration(o||0).call(t.transform,a)}u&&h.selectAll("g.node").on("click",function(t){var e=l.node(t),t=p._getNodeData(t);u({d3node:e,original:t})}),c&&h.selectAll("g.edgeLabel").on("click",function(t){var e=l.node(t.v),n=p._getNodeData(t.v),r=l.node(t.w),t=p._getNodeData(t.w);c({d3source:e,source:n,d3target:r,target:t})})},p}return __extends(e,t),e.prototype.componentDidMount=function(){this._drawChart()},e.prototype.componentDidUpdate=function(){this._drawChart()},e.prototype._getNodeData=function(e){return this.props.nodes.find(function(t){return t.id===e})},e.prototype.render=function(){return React__default.createElement("svg",{width:this.props.width,height:this.props.height,ref:this.svg,className:this.props.className||""},React__default.createElement("g",{ref:this.innerG}))},e.defaultProps={zoomable:!1,fitBoundaries:!1,className:"dagre-d3-react"},e}(React.Component);exports.default=DagreGraph;